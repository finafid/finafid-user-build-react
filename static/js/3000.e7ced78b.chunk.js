"use strict";(self.webpackChunkfinafid_frontend=self.webpackChunkfinafid_frontend||[]).push([[3e3],{3907:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(579);const l=e=>{let{children:t,type:a="submit",className:l="px-4 py-2 rounded-md",onClick:r,disabled:n=!1,reverse:o=!1}=e;return o?(0,s.jsx)("button",{type:a,onClick:r,disabled:n,className:`block capitalize bg-white text-primeRed text-sm hover:bg-lightGray border border-primeRed transition-colors duration-200 ease-in-out disabled:bg-mainGray disabled:cursor-not-allowed ${l}`,children:t}):(0,s.jsx)("button",{type:a,onClick:r,disabled:n,className:`block capitalize bg-primeRed text-white text-sm hover:bg-hotPink transition-colors duration-200 ease-in-out disabled:bg-mainGray disabled:cursor-not-allowed ${l}`,children:t})}},1940:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(5043),l=a(5200),r=a(9804),n=a(579);const o=e=>{let{value:t="",onChange:a,name:o,label:i,type:d,placeholder:c,align:m=!1,disabled:u=!1,readOnly:p=!1,min:x=0,max:h=1/0,autoComplete:f,autoCorrect:g,order:b,required:y=!1,className:v="w-full px-4 py-2 rounded-md text-xs border border-secondary bg-offWhite",containerClassName:j="flex-col gap-2",validation:N}=e;const C=null===i||void 0===i?void 0:i.replace(" ","-").toLowerCase(),[w,k]=(0,s.useState)(!1),[S,A]=(0,s.useState)(null);return(0,n.jsxs)("div",{className:`relative flex ${j}`,children:[i&&(0,n.jsx)("label",{htmlFor:C,className:"capitalize font-medium text-sm",style:m?{textAlign:"center"}:{},children:i}),"file"!==d&&(0,n.jsx)("input",{id:C,type:w?"text":d,name:o,value:t,placeholder:c||i,onChange:a,onBlur:()=>{N&&(N(t).success?N(t).success&&A(null):A(N(t).message))},onWheel:e=>e.target.blur(),required:y,disabled:u,readOnly:p,min:"number"===d?x:void 0,max:"number"===d?h:void 0,className:`outline-none placeholder:capitalize read-only:bg-white read-only:cursor-default ${"number"===d&&"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"} ${u&&"opacity-50"} ${v}`}),S&&(0,n.jsxs)("div",{className:"absolute top-full p-1 flex justify-center items-start gap-1 text-primeRed ml-1 z-10 bg-white rounded-lg",children:[(0,n.jsx)(r.U0v,{size:12}),(0,n.jsx)("p",{className:"text-xxs max-w-44 leading-tight",children:S})]}),"password"===d&&(0,n.jsx)("button",{type:"button",onClick:()=>{k(!w)},className:"absolute right-4 bottom-3 text-secondary text-sm",children:w?(0,n.jsx)(l.Vap,{}):(0,n.jsx)(l._NO,{})})]})}},5962:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(5043);function l(e,t){const[a,l]=(0,s.useState)(e);return{formData:a,setFormData:l,handleChange:e=>{const{name:t,value:s,type:r,files:n,checked:o}=e.target;l("file"===r?{...a,[t]:n}:"checkbox"===r?{...a,[t]:o}:{...a,[t]:s})},handleSubmit:e=>{e.preventDefault(),t(a)},clearForm:()=>l(e)}}},8331:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(5043),l=a(5178),r=a(3974);const n=e=>{const[t,a]=(0,s.useState)([]),[n,o]=(0,s.useState)([]),[i,d]=(0,s.useState)(!1),[c,m]=(0,s.useState)(null),u=(0,s.useCallback)((async()=>{d(!0),m(null);try{const e="giftCards",t=sessionStorage.getItem(e);if(t)a(JSON.parse(t));else{const t=await(()=>{const e=(0,l.Ri)("accessToken");return r.A.get("/getGiftCardByUser",{headers:{authorization:`Bearer ${e}`}})})();null!==t&&void 0!==t&&t.status&&(console.log(t.data),sessionStorage.setItem(e,JSON.stringify(t.data)),o(t.data))}}catch(c){console.error(c),m(c.message)}finally{d(!1)}}),[]),p=(0,s.useCallback)((async()=>{if(!e){d(!0),m(null);try{const e="giftCardTemplates",t=sessionStorage.getItem(e);if(t)o(JSON.parse(t));else{const t=await r.A.get("/getAllTemplates");null!==t&&void 0!==t&&t.status&&(console.log(t.data),sessionStorage.setItem(e,JSON.stringify(t.data.allTemplates)),o(t.data.allTemplates))}}catch(c){console.error(c),m(c.message)}finally{d(!1)}}}),[e]),x=(0,s.useCallback)((async e=>{d(!0),m(null);try{const t=await(e=>{const t=(0,l.Ri)("accessToken");return r.A.post("/createGiftCard",e,{headers:{authorization:`Bearer ${t}`}})})(e);null!==t&&void 0!==t&&t.status&&console.log(t.data)}catch(c){console.error(c),m(c.message)}finally{d(!1)}}),[]);return(0,s.useEffect)((()=>{u()}),[u]),(0,s.useEffect)((()=>{p()}),[p]),{giftCards:t,templates:n,addGiftCard:x,loading:i,error:c,refresh:u}}},3e3:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var s=a(5200),l=a(3907),r=a(1940),n=a(5962),o=a(579);const i=()=>{const{formData:e,handleChange:t,handleSubmit:a,clearForm:s}=(0,n.A)({},(e=>{console.log(e),s()}));return(0,o.jsx)("div",{className:"mt-8",children:(0,o.jsxs)("form",{onSubmit:a,className:"flex flex-wrap items-end gap-x-8 gap-y-2",children:[(0,o.jsx)(r.A,{label:"redeem gift card",name:"giftCode",value:e.giftCode,onChange:t,placeholder:"enter your gift code",className:"w-60 h-10 border-2 border-secondary rounded-md px-4 py-2 text-sm placeholder:text-sm"}),(0,o.jsx)(l.A,{className:"h-10 px-4 py-2 rounded-md",children:"redeem"})]})})};var d=a(6040),c=a(3216),m=a(8331);const u=()=>{const{giftCards:e,loading:t}=(0,m.A)();return t?(0,o.jsx)("p",{className:"text-center text-gray-500",children:"Loading..."}):(0,o.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:0===e.length?(0,o.jsx)("p",{className:"text-center text-primary",children:"No gift cards available."}):e.map((e=>{var t,a;return(0,o.jsx)("div",{className:"h-24 w-32 rounded overflow-hidden",children:(0,o.jsx)("img",{src:null===e||void 0===e||null===(t=e.templateId)||void 0===t?void 0:t.template,alt:null===e||void 0===e||null===(a=e.templateId)||void 0===a?void 0:a.title,className:"size-full object-cover object-center"})},e._id)}))})},p=()=>{const e=(0,c.Zp)();return(0,o.jsx)(d.P.main,{className:"flex-1",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,o.jsxs)("div",{className:"bg-white p-6 rounded-md lg:shadow-md",children:[(0,o.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Gift Cards"}),(0,o.jsx)(u,{}),(0,o.jsxs)("button",{onClick:()=>e("create"),className:"px-4 py-2 flex justify-start items-center gap-2 border border-primeRed rounded-md text-primeRed bg-white hover:bg-offWhite",children:[(0,o.jsx)(s.tN3,{size:18}),(0,o.jsx)("p",{className:"font-medium",children:"Create Gift Card"})]}),(0,o.jsx)(i,{})]})})}}}]);
//# sourceMappingURL=3000.e7ced78b.chunk.js.map