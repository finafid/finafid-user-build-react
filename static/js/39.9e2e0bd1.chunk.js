"use strict";(self.webpackChunkfinafid_frontend=self.webpackChunkfinafid_frontend||[]).push([[39],{2679:(e,s,a)=>{a.d(s,{A:()=>n});var r=a(5043);const n=(e,s,a,n)=>{const[t,l]=(0,r.useState)(e),[o,i]=(0,r.useState)(n||1);return{formData:t,currentStep:o,steps:a,goToNextStep:()=>{o>=a.length+1||i((e=>e+1))},goToPrevStep:()=>{o<=0||i((e=>e-1))},goToStep:e=>{i(e)},handleChange:e=>{const{name:s,value:a,type:r,files:n,checked:o}=e.target;l("file"===r?{...t,[s]:n}:"checkbox"===r?{...t,[s]:o}:{...t,[s]:a})},handleSubmit:e=>{e.preventDefault(),s(t)},clearForm:()=>l(e)}}},2639:(e,s,a)=>{a.d(s,{A:()=>n});var r=a(5043);function n(e,s){const[a,n]=(0,r.useState)(new Array(e).fill("")),t=(0,r.useRef)([]);(0,r.useEffect)((()=>{var s;t.current=null===(s=t.current)||void 0===s?void 0:s.slice(0,e)}),[e]);const l=(0,r.useCallback)((e=>{if(e.preventDefault(),!a.every((e=>""!==e)))return null;s(a.join(""))}),[a,s]);return{otp:a,refs:t,handleChange:(s,a)=>{/^\d$/.test(a)&&n((r=>{const n=[...r];return n[s]=a,""!==a&&s<e-1&&t.current[s+1].focus(),n}))},handlePaste:(s,r)=>{const t=[...a];r.split("").forEach(((a,r)=>{/^\d$/.test(a)&&s+r<e&&(t[s+r]=a)})),n(t)},handleKeyDown:(e,s)=>{"Backspace"===s.key&&(s.preventDefault(),n((s=>{const r=[...s];return""===a[e]?e>0&&(r[e-1]="",t.current[e-1].focus()):r[e]="",r})))},handleSubmit:l}}},6410:(e,s,a)=>{a.r(s),a.d(s,{default:()=>C});const r=a.p+"static/media/Rectangle.40f50cc30e59f13dec86.png";var n=a(7653),t=a(3907),l=a(2925),o=a(2639),i=a(579);const c=e=>{let{formData:s,goToStep:a,length:r=4}=e;const c=(0,l.d)(),{otp:d,refs:m,handleChange:p,handlePaste:u,handleKeyDown:x,handleSubmit:h}=(0,o.A)(r,(async e=>{try{const r=await(0,n.FH)({otp:e,email:s.email});null!==r&&void 0!==r&&r.status&&(console.log(r.data),a(5))}catch(l){if(null!==l&&void 0!==l&&l.response)if(l.response){var r,t;c.error(null===(r=l.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)}else c.error("Server issues!!!");else c.error("no server response")}}));return(0,i.jsxs)("div",{className:"px-4",children:[(0,i.jsx)("h2",{className:"capitalize text-2xl font-semibold text-center mt-8 mb-24",children:"verification"}),(0,i.jsxs)("form",{onSubmit:h,children:[(0,i.jsxs)("div",{className:"FORM-FIELD flex flex-col w-max mx-auto my-10",children:[(0,i.jsx)("label",{htmlFor:"",className:"capitalize font-medium text-center my-4",children:"enter verification code"}),(0,i.jsx)("div",{className:"flex gap-6",children:Array.from({length:r}).map(((e,s)=>(0,i.jsx)("input",{type:"text",ref:e=>m.current[s]=e,maxLength:1,value:d[s],onChange:e=>p(s,e.target.value),onPaste:e=>((e,s)=>{e.preventDefault();const a=e.clipboardData.getData("text/plain").substr(0,r-s);u(s,a)})(e,s),onKeyDown:e=>x(s,e),className:"border border-primary bg-offWhite outline-none size-10 rounded-full text-center"},s)))})]}),(0,i.jsx)("div",{children:(0,i.jsxs)("p",{className:"text-center text-xs text-slate-400 mb-10",children:["If you didn't receive a code."," ",(0,i.jsx)("span",{onClick:async()=>{try{const e=await(0,n.YX)(s.email);null!==e&&void 0!==e&&e.status&&c.success("OTP resend successfully")}catch(r){if(null!==r&&void 0!==r&&r.response)if(r.response){var e,a;c.error(null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)}else c.error("Server issues!!!");else c.error("no server response")}},className:"text-primeRed cursor-pointer hover:underline",children:"Resend"})]})}),(0,i.jsx)(t.A,{className:"w-full py-2 px-6 rounded-full font-secondary",children:"Verify"})]})]})};var d=a(7160);const m=e=>{let{formData:s,length:a=4}=e;const r=(0,l.d)(),{login:c}=(0,d.A)(),{otp:m,refs:p,handleChange:u,handlePaste:x,handleKeyDown:h,handleSubmit:f}=(0,o.A)(a,(async e=>{try{const a=await(0,n.FH)({otp:e,email:s.email});null!==a&&void 0!==a&&a.status&&(console.log(a.data),c({email:s.email,password:s.password}))}catch(l){if(null!==l&&void 0!==l&&l.response)if(l.response){var a,t;r.error(null===(a=l.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)}else r.error("Server issues!!!");else r.error("no server response")}}));return(0,i.jsxs)("div",{className:"px-4",children:[(0,i.jsx)("h2",{className:"capitalize text-2xl font-semibold text-center mt-8 mb-24",children:"verification"}),(0,i.jsxs)("form",{onSubmit:f,children:[(0,i.jsxs)("div",{className:"FORM-FIELD flex flex-col w-max mx-auto my-10",children:[(0,i.jsx)("label",{htmlFor:"",className:"capitalize font-medium text-center my-4",children:"enter verification code"}),(0,i.jsx)("div",{className:"flex gap-6",children:Array.from({length:a}).map(((e,s)=>(0,i.jsx)("input",{type:"text",ref:e=>p.current[s]=e,maxLength:1,value:m[s],onChange:e=>u(s,e.target.value),onPaste:e=>((e,s)=>{e.preventDefault();const r=e.clipboardData.getData("text/plain").substr(0,a-s);x(s,r)})(e,s),onKeyDown:e=>h(s,e),className:"border border-primary bg-offWhite outline-none size-10 rounded-full text-center"},s)))})]}),(0,i.jsx)("div",{children:(0,i.jsxs)("p",{className:"text-center text-xs text-slate-400 mb-10",children:["If you didn't receive a code."," ",(0,i.jsx)("span",{onClick:async()=>{try{const e=await(0,n.Ix)(s.email);null!==e&&void 0!==e&&e.status&&r.success("OTP resend successfully")}catch(t){if(null!==t&&void 0!==t&&t.response)if(t.response){var e,a;r.error(null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)}else r.error("Server issues!!!");else r.error("no server response")}},className:"text-primeRed cursor-pointer hover:underline",children:"Resend"})]})}),(0,i.jsx)(t.A,{className:"w-full py-2 px-6 rounded-full font-secondary",children:"Verify"})]})]})};var p=a(1940),u=a(9335);const x=e=>{let{formData:s,handleChange:a,clearForm:r,goToStep:o}=e;const c=(0,l.d)();return(0,i.jsxs)("div",{className:"sm:px-4",children:[(0,i.jsx)("h2",{className:"capitalize text-2xl font-semibold text-center mt-8 mb-24",children:"forget password"}),(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const{email:e}=s;if(!(0,u.xd)(e).success)return void c.error((0,u.xd)(e).message);const a=await(0,n.YX)(e);null!==a&&void 0!==a&&a.status&&(console.log(a.data),o(6))}catch(t){if(null!==t&&void 0!==t&&t.response)if(t.response){var a,r;c.error(null===(a=t.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)}else c.error("Server issues!!!");else c.error("no server response")}},className:"space-y-8",children:[(0,i.jsx)(p.A,{type:"email",label:"Enter Email Address",name:"email",value:s.email,onChange:a,validation:u.xd,align:!0,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsxs)("p",{className:"relative -top-3 text-center text-xs text-primary",children:["Back to"," ",(0,i.jsx)("span",{className:"text-primeRed cursor-pointer hover:underline",onClick:()=>o(2),children:"sign in"})]}),(0,i.jsx)("div",{className:"mt-8",children:(0,i.jsx)(t.A,{className:"w-full px-10 py-2 rounded-full font-secondary text-sm",children:"send"})})]})]})},h=e=>{let{formData:s,handleChange:a,clearForm:r}=e;const o=(0,l.d)(),{login:c}=(0,d.A)();return(0,i.jsxs)("div",{className:"sm:px-4",children:[(0,i.jsx)("h2",{className:"capitalize text-2xl font-semibold text-center mt-8 mb-24",children:"rest password"}),(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const{newPassword:e,confirmNewPassword:a}=s;if(!(0,u.YY)(e).success)return void console.log((0,u.YY)(e).message);if(e!==a)return void console.log("password and confirm password should match");const t=await(0,n.xw)({email:s.email,password:e});null!==t&&void 0!==t&&t.status&&(console.log(t.data),o.success("Password updated successfully"),c({email:s.email,password:e}).then((()=>{r()})))}catch(l){if(null!==l&&void 0!==l&&l.response)if(l.response){var a,t;o.error(null===(a=l.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)}else o.error("Server issues!!!");else o.error("no server response")}},children:[(0,i.jsxs)("div",{className:"flex flex-col gap-4 max-sm:gap-2",children:[(0,i.jsx)(p.A,{type:"password",label:"enter new password",name:"newPassword",value:s.newPassword,onChange:a,validation:u.YY,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{type:"password",label:"confirm password",name:"confirmNewPassword",value:s.confirmNewPassword,onChange:a,validation:u.YY,containerClassName:"flex-col gap-2 max-sm:gap-1"})]}),(0,i.jsx)("div",{className:"mt-10",children:(0,i.jsx)(t.A,{className:"w-full py-2 px-6 rounded-full font-secondary",children:"save"})})]})]})};var f=a(5475);const g=e=>{let{formData:s,handleChange:a,goToStep:r}=e;const o=(0,l.d)(),[c]=(0,f.ok)(),d=c.get("referralCode");return(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"capitalize text-2xl font-semibold text-center mb-6",children:"sign up"}),(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const{firstName:e,lastName:a,email:t,phone:l,password:i,confirmPassword:c}=s,m=e+" "+a;if(!(0,u.wJ)(m).success)return void o.error((0,u.wJ)(m).message);if(!(0,u.xd)(t).success)return void o.error((0,u.xd)(t).message);if(!(0,u.ri)(l).success)return void o.error((0,u.ri)(l).message);if(!(0,u.YY)(i).success)return void o.error((0,u.YY)(i).message);if(i!==c)return void o.error("Confirm password should be the same as the password");const p=await(0,n.DY)({fullName:m,email:t,phone:l,password:i,referralCode:d});if(null!==p&&void 0!==p&&p.status){console.log(p.data);const e=await(0,n.Ix)(t);null!==e&&void 0!==e&&e.status&&(console.log(e.data),r(4))}}catch(l){if(console.log(l),null!==l&&void 0!==l&&l.response)if(l.response){var a,t;o.error(null===(a=l.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)}else o.error("Server issues!!!");else o.error("no server response")}},className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid sm:grid-cols-2 gap-x-6 gap-y-3 max-sm:gap-2",children:[(0,i.jsx)(p.A,{label:"first name",name:"firstName",value:s.firstName,onChange:a,validation:u.wJ,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{label:"last name",name:"lastName",value:s.lastName,onChange:a,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{type:"email",label:"email",name:"email",value:s.email,onChange:a,validation:u.xd,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{type:"tel",label:"phone",name:"phone",value:s.phone,onChange:a,validation:u.ri,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{type:"password",label:"password",name:"password",value:s.password,onChange:a,validation:u.YY,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{type:"password",label:"confirm password",name:"confirmPassword",value:s.confirmPassword,onChange:a,validation:e=>e!==s.password?{success:!1,message:"Confirm password should be the same as the password"}:{success:!0,message:"OK"},containerClassName:"flex-col gap-2 max-sm:gap-1"})]}),(0,i.jsxs)("div",{className:"TERMS-BOX flex items-center gap-1",children:[(0,i.jsx)("input",{id:"user-terms",type:"checkbox",name:"userTerms",onChange:a,className:"accent-primeRed cursor-pointer"}),(0,i.jsx)("label",{htmlFor:"user-terms",className:"capitalize text-xs text-primeRed select-none",children:"agree to terms & conditions"})]}),(0,i.jsx)(t.A,{disabled:!s.userTerms,className:"px-10 py-2 rounded-full font-secondary text-sm mx-auto",children:"submit"}),(0,i.jsxs)("p",{className:"text-center text-sm",children:["Already have an account?"," ",(0,i.jsx)("span",{className:"text-primeRed hover:underline cursor-pointer",onClick:()=>r(2),children:"Login Here"})]})]})]})},v=e=>{let{formData:s,handleChange:a,goToStep:r}=e;const n=(0,l.d)(),{login:o}=(0,d.A)();return(0,i.jsxs)("div",{className:"sm:px-4",children:[(0,i.jsx)("h2",{className:"capitalize text-2xl font-semibold text-center mb-16",children:"login"}),(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const{email_phone:e,loginPassword:a}=s;if(!(0,u.xd)(e).success)return void n.error((0,u.xd)(e).message);if(!(0,u.YY)(a).success)return void n.error((0,u.YY)(a).message);o({email:e,password:a})}catch(a){console.log(a)}},className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-4 max-sm:gap-2",children:[(0,i.jsx)(p.A,{label:"email ",name:"email_phone",value:s.email_phone,onChange:a,validation:u.xd,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{type:"password",label:"password",name:"loginPassword",value:s.loginPassword,onChange:a,validation:u.YY,containerClassName:"flex-col gap-2 max-sm:gap-1"})]}),(0,i.jsx)("div",{className:"FORGET-PASS relative -top-3 flex justify-end",children:(0,i.jsx)("p",{className:"text-slate-400 text-xs cursor-pointer hover:underline",onClick:()=>r(3),children:"Forget Password?"})}),(0,i.jsx)(t.A,{className:"px-10 py-2 rounded-full font-secondary text-sm mx-auto",children:"sign in"}),(0,i.jsxs)("p",{className:"text-center text-sm",children:["Don't have an account?"," ",(0,i.jsx)("span",{className:"text-primeRed hover:underline cursor-pointer",onClick:()=>r(1),children:"Sign Up"})]})]})]})};var y=a(2679),j=a(6058),N=a(5043),b=a(5178);const w=e=>{let{formData:s,handleChange:a}=e;const r=(0,l.d)(),[n,o]=(0,N.useState)((()=>({accessToken:(0,b.Ri)("accessToken"),refreshToken:(0,b.Ri)("refreshToken")}))),{sendOtp:c,verifyMobileOtp:m}=(0,d.A)(),[u,x]=(0,N.useState)(!1),[h,f]=(0,N.useState)(Array(4).fill("")),g=(0,N.useRef)([]),v=async e=>{e.preventDefault();const{phone:a}=s;if(a&&10===a.length&&!isNaN(a))try{await c({phoneNumber:a});x(!0)}catch(n){r.error("Error sending OTP. Try again.")}else r.error("Please enter a valid 10-digit mobile number.")};return(0,i.jsxs)("div",{className:"sm:px-4",children:[(0,i.jsx)("h2",{className:"capitalize text-2xl font-semibold text-center mb-8",children:"Login with Mobile Number"}),(0,i.jsx)("form",{onSubmit:u?async e=>{e.preventDefault();const a=h.join("");if(4===a.length)try{const e=await m({phoneNumber:s.phone,otp:a});console.log(e)}catch(n){r.error("Error verifying OTP. Try again.")}else r.error("Please enter a valid 4-digit OTP.")}:v,className:"space-y-4",children:u?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"flex justify-center gap-6",children:h.map(((e,s)=>(0,i.jsx)("input",{type:"text",ref:e=>g.current[s]=e,maxLength:1,value:e,onChange:e=>((e,s)=>{if(!/^\d*$/.test(s))return;const a=[...h];a[e]=s,f(a),s&&e<3&&g.current[e+1].focus()})(s,e.target.value),onPaste:e=>((e,s)=>{e.preventDefault();const a=e.clipboardData.getData("text").slice(0,4).split(""),r=[...h];a.forEach(((e,a)=>{s+a<4&&(r[s+a]=e)})),f(r),g.current[Math.min(s+a.length,3)].focus()})(e,s),className:"border border-primary bg-offWhite outline-none size-10 rounded-full text-center text-xl"},s)))}),(0,i.jsx)(t.A,{className:"px-10 py-2 rounded-full font-secondary text-sm mx-auto",children:"Verify OTP"}),(0,i.jsxs)("p",{className:"text-center text-sm",children:["Didn't receive the code?"," ",(0,i.jsx)("span",{className:"text-primeRed hover:underline cursor-pointer",onClick:v,children:"Resend OTP"})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.A,{label:"Mobile Number",name:"phone",type:"tel",placeholder:"Enter your mobile number",value:s.phone,onChange:a,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(t.A,{className:"px-10 py-2 rounded-full font-secondary text-sm mx-auto",children:"Send OTP"})]})})]})},C=()=>{const{formData:e,handleChange:s,clearForm:a,currentStep:n,goToStep:t}=(0,y.A)({},null,6,2);return(0,i.jsx)("div",{className:"container max-w-full py-8 max-sm:p-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${r})`},children:(0,i.jsxs)("div",{className:"relative flex flex-col justify-between sm:size-[520px] mx-auto sm:shadow-primary bg-white sm:border sm:border-primary sm:rounded-3xl p-6 space-y-4",children:[(()=>{switch(n){case 1:return(0,i.jsx)(g,{formData:e,handleChange:s,clearForm:a,goToStep:t});case 2:default:return(0,i.jsx)(w,{formData:e,handleChange:s,clearForm:a,goToStep:t});case 3:return(0,i.jsx)(x,{formData:e,handleChange:s,clearForm:a,goToStep:t});case 4:return(0,i.jsx)(m,{formData:e,handleChange:s,clearForm:a,goToStep:t});case 5:return(0,i.jsx)(h,{formData:e,handleChange:s,clearForm:a,goToStep:t});case 6:return(0,i.jsx)(c,{formData:e,handleChange:s,clearForm:a,goToStep:t});case 7:return(0,i.jsx)(v,{formData:e,handleChange:s,clearForm:a,goToStep:t})}})(),(1===n||2===n)&&(0,i.jsx)("div",{className:"EXTRA-BUTTONS sm:w-max mx-auto flex flex-wrap gap-8 max-sm:gap-3",children:(0,i.jsxs)("button",{onClick:()=>{window.location.href="https://finafid.co.in/api/v1/google"},className:"max-sm:w-full flex justify-start items-center gap-2 rounded-lg text-sm p-2 bg-white border border-[#dd4b39]",children:[(0,i.jsx)(j.F4b,{size:24,className:"flex-shrink-0"}),(0,i.jsx)("p",{children:"Continue with Google"})]})})]})})}}}]);
//# sourceMappingURL=39.9e2e0bd1.chunk.js.map