{"version":3,"file":"static/js/8903.f8ccfe09.chunk.js","mappings":"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","sources":["pages/Deal/DealProducts.jsx","pages/Deal/index.jsx","services/dealServices.js"],"sourcesContent":["import { useMemo } from \"react\";\r\nimport Pagination from \"../../components/Pagination\";\r\nimport ProductBox from \"../../components/ProductBox\";\r\nimport { useSearchParamsState } from \"../../hooks/useSearchParamsState\";\r\n\r\nconst DealProducts = ({ products = [], title }) => {\r\n  const [page, setPage] = useSearchParamsState(\"page\", 1);\r\n  const limit = 20;\r\n\r\n  const currentProducts = useMemo(() => {\r\n    const firstPageIndex = (page - 1) * limit;\r\n    const lastPageIndex = firstPageIndex + limit;\r\n    return products.slice(firstPageIndex, lastPageIndex);\r\n  }, [page, products, limit]);\r\n\r\n  return (\r\n    <div className=\"container max-w-full space-y-8 max-lg:space-y-4\">\r\n      <h1 className=\"text-2xl max-lg:text-xl font-bold\">{title}</h1>\r\n\r\n      <section className=\"w-full\">\r\n        {products.length === 0 ? (\r\n          <p className=\"text-center font-secondary font-medium text-xl\">\r\n            No Products Found\r\n          </p>\r\n        ) : (\r\n          <ul className=\"grid grid-cols-2 lg:gap-8 sm:gap-4 gap-1 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5\">\r\n            {currentProducts.map((productItem, index) => (\r\n              <li key={index} className=\"flex justify-center items-center\">\r\n                <ProductBox product={productItem} />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n\r\n        <div className=\"PAGINATION\">\r\n          <Pagination\r\n            currentPage={parseInt(page, 10)}\r\n            totalCount={products.length}\r\n            pageSize={limit}\r\n            onPageChange={(page) => setPage(page.toString())}\r\n          />\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DealProducts;\r\n","import { useParams } from \"react-router-dom\";\r\nimport HeroBanner from \"../../components/HeroBanner\";\r\nimport DealProducts from \"./DealProducts\";\r\nimport Loader from \"../../components/Loader\";\r\nimport { useDeal } from \"../../services/dealServices\";\r\n\r\nconst Deal = ({ dealName = \"flash\" }) => {\r\n  const { dealId } = useParams();\r\n  const { data: deal, isLoading, error } = useDeal(dealName, dealId);\r\n\r\n  if (isLoading || (!error && !deal)) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"w-max mx-auto p-8 bg-red-300 my-8 rounded-lg border-2 border-error\">\r\n        <h2 className=\"text-center text-error font-medium text-xl\">\r\n          Deal has expired\r\n        </h2>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className=\"py-8 space-y-8\">\r\n      <HeroBanner\r\n        position=\"Top\"\r\n        resourceType={dealName === \"flash\" ? \"Flash Deal\" : \"Featured Deal\"}\r\n        valueId={dealId}\r\n      />\r\n      <DealProducts products={deal?.products} title={deal?.title} />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Deal;\r\n","import { useQuery } from \"@tanstack/react-query\";\r\nimport {\r\n  getAllCoupons,\r\n  getAllDealOfTheDay,\r\n  getAllFeaturedDeals,\r\n  getAllFlashDeals,\r\n  getFeaturedDealById,\r\n  getFlashDealById,\r\n} from \"../api/dealApis\";\r\n\r\nconst useCoupons = () => {\r\n  return useQuery({\r\n    queryKey: [\"coupons\"],\r\n    queryFn: getAllCoupons,\r\n    staleTime: 1000 * 60 * 5,\r\n    placeholderData: [],\r\n  });\r\n};\r\n\r\nconst useDeal = (dealName = \"flash\", dealId) => {\r\n  return useQuery({\r\n    queryKey: [dealName, dealId],\r\n    queryFn:\r\n      dealName === \"flash\"\r\n        ? () => getFlashDealById(dealId)\r\n        : dealName === \"featured\"\r\n        ? () => getFeaturedDealById(dealId)\r\n        : null,\r\n    staleTime: 1000 * 60 * 5,\r\n    enabled: !!dealId,\r\n  });\r\n};\r\n\r\nconst useFlashDeals = (options) => {\r\n  return useQuery({\r\n    queryKey: [\"flashDeals\"],\r\n    queryFn: getAllFlashDeals,\r\n    staleTime: 1000 * 60 * 5,\r\n    ...options,\r\n  });\r\n};\r\n\r\nconst useFeaturedDeals = (options) => {\r\n  return useQuery({\r\n    queryKey: [\"featuredDeals\"],\r\n    queryFn: getAllFeaturedDeals,\r\n    staleTime: 1000 * 60 * 5,\r\n    ...options,\r\n  });\r\n};\r\n\r\nconst useDealsOfTheDay = (options) => {\r\n  return useQuery({\r\n    queryKey: [\"dealsOfTheDay\"],\r\n    queryFn: getAllDealOfTheDay,\r\n    staleTime: 1000 * 60 * 5,\r\n    ...options,\r\n  });\r\n};\r\n\r\nexport {\r\n  useCoupons,\r\n  useDeal,\r\n  useFlashDeals,\r\n  useFeaturedDeals,\r\n  useDealsOfTheDay,\r\n};\r\n"],"names":["_ref","products","title","page","setPage","useSearchParamsState","currentProducts","useMemo","firstPageIndex","lastPageIndex","slice","_jsxs","className","children","_jsx","length","map","productItem","index","ProductBox","product","Pagination","currentPage","parseInt","totalCount","pageSize","onPageChange","toString","dealName","dealId","useParams","data","deal","isLoading","error","useDeal","Loader","HeroBanner","position","resourceType","valueId","DealProducts","useCoupons","useQuery","queryKey","queryFn","getAllCoupons","staleTime","placeholderData","arguments","undefined","getFlashDealById","getFeaturedDealById","enabled","useFlashDeals","options","getAllFlashDeals","useFeaturedDeals","getAllFeaturedDeals","useDealsOfTheDay","getAllDealOfTheDay"],"sourceRoot":""}