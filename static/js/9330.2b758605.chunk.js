"use strict";(self.webpackChunkfinafid_frontend=self.webpackChunkfinafid_frontend||[]).push([[9330],{4399:(e,t,a)=>{a.d(t,{E1:()=>r,XH:()=>d,cT:()=>l,j2:()=>o,o7:()=>c,oq:()=>i,tQ:()=>n});var s=a(5026);const r=()=>s.A.get("/getBrand"),n=async e=>{var t;return null===(t=(await s.A.get(`/brandBasedOnCategory/${e}`)).data)||void 0===t?void 0:t.brandDetails},l=async e=>{var t;return null===(t=(await s.A.get(`/getBrandsBasedOnProductType/${e}`)).data)||void 0===t?void 0:t.brandList},i=()=>s.A.get("/getAllFeaturedBrand"),o=()=>s.A.get("/getAllUtsavFeaturedBrand"),d=async()=>(await s.A.get("/getAllTopSellingBrand")).data,c=e=>s.A.get(`/getBrandById/${e}`)},3961:(e,t,a)=>{a.d(t,{FG:()=>i,Gm:()=>p,IX:()=>u,MA:()=>o,RV:()=>v,SM:()=>l,Wr:()=>y,Xw:()=>d,ap:()=>c,bx:()=>f,f2:()=>g,iI:()=>h,qu:()=>m,yj:()=>n,zu:()=>x});var s=a(5178),r=a(5026);const n=e=>r.A.get(`/getProductById/${e}`),l=async e=>(await r.A.get("/getAllVariantsOnUser",{params:e})).data,i=()=>r.A.get("/getAllUtsavProduct"),o=()=>r.A.get("/getAllFeaturedProduct"),d=async e=>(await r.A.get(`/getFeaturedProductBasedOnCategory/${e}`)).data.productList,c=()=>r.A.get("/getAllNewArrivals"),g=async()=>(await r.A.get("/getAllTopSellingProduct")).data,u=async e=>{var t;return null===(t=(await r.A.get(`/getVariantById/${e}`)).data)||void 0===t?void 0:t.variantDetails},m=async e=>{var t;return null===(t=(await r.A.get(`/suggestionProductList/${e}`)).data)||void 0===t?void 0:t.suggestionProductList},x=e=>r.A.get(`/GetAllReviews/${e}`),v=(e,t)=>r.A.get(`/reviewByID/${e}/${t}`),h=e=>r.A.get(`/getAvgRating/${e}`),f=(e,t)=>{const a=(0,s.Ri)("accessToken");return r.A.post(`/createReview/${t}`,e,{headers:{authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}})},p=(e,t,a)=>{const n=(0,s.Ri)("accessToken");return r.A.post(`/updateReview/${t}/${a}`,e,{headers:{authorization:`Bearer ${n}`}})},y=e=>r.A.get(`/deleteReview/${e}`)},3907:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(579);const r=e=>{let{children:t,type:a="submit",className:r="px-4 py-2 rounded-md",onClick:n,disabled:l=!1,reverse:i=!1}=e;return i?(0,s.jsx)("button",{type:a,onClick:n,disabled:l,className:`block capitalize bg-white text-primeRed text-sm hover:bg-lightGray border border-primeRed transition-colors duration-200 ease-in-out disabled:bg-mainGray disabled:cursor-not-allowed ${r}`,children:t}):(0,s.jsx)("button",{type:a,onClick:n,disabled:l,className:`block capitalize bg-primeRed text-white text-sm hover:bg-hotPink transition-colors duration-200 ease-in-out disabled:bg-mainGray disabled:cursor-not-allowed ${r}`,children:t})}},5609:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(5200),r=a(5043);const n="...",l=(e,t)=>{let a=t-e+1;return Array.from({length:a},((t,a)=>a+e))};var i=a(579);const o=e=>{let{onPageChange:t,totalCount:a,siblingCount:o=1,currentPage:d,pageSize:c}=e;const g=(e=>{let{totalCount:t,limit:a,siblingCount:s=1,currentPage:i}=e;return(0,r.useMemo)((()=>{const e=Math.ceil(t/a);if(s+5>=e)return l(1,e);const r=Math.max(i-s,1),o=Math.min(i+s,e),d=r>2,c=o<e-2,g=e;if(!d&&c)return[...l(1,3+2*s),n,e];if(d&&!c){let t=l(e-(3+2*s)+1,e);return[1,n,...t]}if(d&&c){let e=l(r,o);return[1,n,...e,n,g]}}),[t,a,s,i])})({currentPage:d,totalCount:a,siblingCount:o,limit:c}),u=g[g.length-1];if(0===d||g.length<2)return null;return(0,i.jsx)("div",{className:"my-8",children:(0,i.jsxs)("ul",{className:"relative flex gap-4 max-md:gap-3 w-max mx-auto",children:[g.map(((e,a)=>(0,i.jsxs)(r.Fragment,{children:[e===n&&(0,i.jsx)("li",{className:"relative h-max top-1",children:n}),e!==n&&(0,i.jsx)("li",{className:`size-10 max-lg:size-8 max-md:size-6 border border-black max-lg:text-sm max-md:text-xs flex justify-center items-center cursor-pointer transition-colors duration-200 ease-in-out ${e===d?"bg-primeRed text-white":"bg-white"} ${e!==d&&"hover:bg-mainGray"}`,onClick:()=>t(e),children:e})]},a))),(0,i.jsx)("button",{className:`absolute -left-10 top-1/2 -translate-y-1/2 ${d<=1&&"text-primary"}`,onClick:()=>{d<=1||t(d-1)},children:(0,i.jsx)(s.irw,{size:28})}),(0,i.jsx)("button",{className:`absolute -right-10 top-1/2 -translate-y-1/2 ${d>=u&&"text-primary"}`,onClick:()=>{d>=u||t(d+1)},children:(0,i.jsx)(s.fOo,{size:28})})]})})}},1276:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(423),r=a(579);const n=e=>{let{rating:t,maxRating:a=5,size:n=16}=e;return(0,r.jsx)("div",{className:"flex",children:(()=>{const e=[],l=Math.ceil(t),i=Math.floor(t)!==Math.ceil(t);for(let o=1;o<=a;o++)o<=t?e.push((0,r.jsx)("span",{className:"text-yellow-500 text-lg",children:(0,r.jsx)(s.KQV,{size:n})},o)):o===l&&i?e.push((0,r.jsx)("span",{className:"text-yellow-500 text-lg",children:(0,r.jsx)(s.f5A,{size:n})},o)):e.push((0,r.jsx)("span",{className:"text-gray-300 text-lg",children:(0,r.jsx)(s.aJd,{size:n})},o));return e})()})}},8723:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(5043),r=a(423),n=a(1276),l=a(579);const i=e=>{switch(!0){case e>=4:return"bg-green-500";case e>=3:return"bg-green-400";case e>=2:return"bg-yellow-400";case e>=1:return"bg-orange-400";default:return"bg-gray-200"}},o=e=>{switch(e){case 5:return"bg-green-500";case 4:return"bg-green-400";case 3:return"bg-yellow-400";case 2:return"bg-orange-400";case 1:return"bg-red-500";default:return"bg-gray-200"}},d=e=>{let{rating:t,totalRatings:a,ratingsBreakdown:s}=e;return(0,l.jsxs)("div",{className:"w-64 p-4 bg-white border rounded shadow-lg",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-4xl font-bold",children:t}),(0,l.jsxs)("div",{className:"text-secondary",children:[a," Ratings"]}),(0,l.jsx)("div",{className:"mt-2 flex justify-center",children:(0,l.jsx)(n.A,{rating:t,size:24})})]}),s&&(0,l.jsx)("div",{className:"mt-4 space-y-1",children:Object.entries(s).sort(((e,t)=>{let[a]=e,[s]=t;return s-a})).map((e=>{let[t,s]=e;return(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{className:"text-secondary",children:t}),(0,l.jsx)(r.KQV,{size:18,className:"text-secondary mr-2"}),(0,l.jsx)("div",{className:"flex-1 h-2 bg-lightGray rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:`h-full ${o(Number(t))}`,style:{width:s/a*100+"%"}})}),(0,l.jsxs)("span",{className:"ml-2 text-secondary",children:["(",s,")"]})]},t)}))})]})},c=e=>{let{rating:t,totalRatings:a,ratingsBreakdown:n,dropdown:o=!1}=e;const[c,g]=(0,s.useState)(!1);return(0,l.jsxs)("div",{className:"relative inline-block",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[(0,l.jsxs)("div",{className:`flex items-center justify-center gap-[2px] px-[5px] py-[2px] rounded text-white ${i(t)}`,children:[(0,l.jsx)("span",{className:"text-xs font-medium pt-[2px] leading-none",children:t}),(0,l.jsx)(r.KQV,{size:12})]}),o&&c&&(0,l.jsx)("div",{className:"absolute z-10 mt-2",children:(0,l.jsx)(d,{rating:t,totalRatings:a,ratingsBreakdown:n})})]})}},571:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(5043),r=a(4399);const n=e=>{const[t,a]=(0,s.useState)([]),[n,l]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[d,c]=(0,s.useState)(null),[g,u]=(0,s.useState)(!1),[m,x]=(0,s.useState)(null),v=(0,s.useCallback)((async()=>{if(!e){u(!0),x(null);try{const e="brands",t=sessionStorage.getItem(e);if(t)a(JSON.parse(t));else{const t=await(0,r.E1)();null!==t&&void 0!==t&&t.status&&(console.log(t.data),sessionStorage.setItem(e,JSON.stringify(t.data.brandList)),a(t.data.brandList))}}catch(m){console.error(m),x(m.message)}finally{u(!1)}}}),[e]),h=(0,s.useCallback)((async()=>{if(!e){u(!0),x(null);try{const e="featured_brands",t=sessionStorage.getItem(e);if(t)l(JSON.parse(t));else{const t=await(0,r.oq)();null!==t&&void 0!==t&&t.status&&(console.log(t.data),sessionStorage.setItem(e,JSON.stringify(t.data.brandDetails)),l(t.data.brandDetails))}}catch(m){console.error(m),x(m.message)}finally{u(!1)}}}),[e]),f=(0,s.useCallback)((async()=>{if(!e){u(!0),x(null);try{const e="utsav_featured_brands",t=sessionStorage.getItem(e);if(t)o(JSON.parse(t));else{const t=await(0,r.j2)();null!==t&&void 0!==t&&t.status&&(console.log(t.data),sessionStorage.setItem(e,JSON.stringify(t.data.productDetails)),o(t.data.productDetails))}}catch(m){console.error(m),x(m.message)}finally{u(!1)}}}),[e]),p=(0,s.useCallback)((async()=>{if(e){u(!0),x(null);try{const t=`brand_${e}`,a=sessionStorage.getItem(t);if(a)c(JSON.parse(a));else{const a=await(0,r.o7)(e);null!==a&&void 0!==a&&a.status&&(console.log(a.data),sessionStorage.setItem(t,JSON.stringify(a.data.brandDetails)),c(a.data.brandDetails))}}catch(m){console.error(m),x(m.message)}finally{u(!1)}}}),[e]);return(0,s.useEffect)((()=>{v()}),[v]),(0,s.useEffect)((()=>{h()}),[h]),(0,s.useEffect)((()=>{f()}),[f]),(0,s.useEffect)((()=>{p()}),[p]),{brands:t,featuredBrands:n,utsavFeaturedBrands:i,brand:d,loading:g,error:m}}},8536:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(5043),r=a(3961),n=a(9659),l=a(2925);const i=(e,t)=>{var a;const[i,o]=(0,s.useState)([]),[d,c]=(0,s.useState)(null),[g,u]=(0,s.useState)({}),[m,x]=(0,s.useState)(!1),[v,h]=(0,s.useState)(null),{user:f}=(0,n.J)(),p=(0,l.d)(),y=(0,s.useCallback)((async()=>{if(e){x(!0),h(null);try{const t=`reviews_${e}`,a=sessionStorage.getItem(t);if(a)o(JSON.parse(a));else{const a=await(0,r.zu)(e);null!==a&&void 0!==a&&a.status&&(console.log(a.data),sessionStorage.setItem(t,JSON.stringify(a.data)),o(a.data))}}catch(v){console.error("Error fetching reviews",v),h("Failed to fetch reviews. Please try again.")}finally{x(!1)}}}),[e]),b=(0,s.useCallback)((async()=>{if(e&&t){x(!0),h(null);try{const a=`review_${t}`,s=sessionStorage.getItem(a);if(s)c(JSON.parse(s));else{const s=await(0,r.RV)(e,t);null!==s&&void 0!==s&&s.status&&(console.log(s.data),localStorage.setItem(a,JSON.stringify(s.data)),c(s.data))}}catch(v){console.error("Error fetching review",v),h("Failed to fetch review. Please try again.")}finally{x(!1)}}}),[e,t]),w=(0,s.useCallback)((async()=>{if(e){x(!0),h(null);try{const t=`ratingDetails_${e}`,a=sessionStorage.getItem(t);if(a)u(JSON.parse(a));else{const a=await(0,r.iI)(e);null!==a&&void 0!==a&&a.status&&(console.log(a.data),sessionStorage.setItem(t,JSON.stringify(a.data)),u(a.data))}}catch(v){console.error("Error fetching rating",v),h("Failed to fetch rating. Please try again.")}finally{x(!1)}}}),[e]),j=(0,s.useCallback)((async(e,t)=>{if(f){x(!0),h(null);try{const a=await(0,r.bx)(e,t);null!==a&&void 0!==a&&a.status&&(console.log(a.data),sessionStorage.removeItem(`reviews_${t}`),sessionStorage.removeItem(`ratingDetails_${t}`),y())}catch(v){console.error("Error adding review",v),h("Failed to add review. Please try again.")}finally{x(!1)}}else p.error("You need to be logged in for posting any review.")}),[f,y]),N=(0,s.useCallback)((async(e,t,a)=>{if(f){x(!0),h(null);try{const s=await(0,r.Gm)(e,t,a);null!==s&&void 0!==s&&s.status&&(console.log(s.data),sessionStorage.removeItem(`reviews_${t}`),sessionStorage.removeItem(`review_${a}`),sessionStorage.removeItem(`ratingDetails_${t}`),y())}catch(v){console.error("Error editing review",v),h("Failed to edit review. Please try again.")}finally{x(!1)}}else p.error("You need to be logged in for editing any review.")}),[f,y]),A=(0,s.useCallback)((async(e,t)=>{if(f){x(!0),h(null);try{const a=await(0,r.Wr)(t);null!==a&&void 0!==a&&a.status&&(console.log(a.data),sessionStorage.removeItem(`reviews_${e}`),sessionStorage.removeItem(`review_${t}`),sessionStorage.removeItem(`ratingDetails_${e}`),y())}catch(v){console.error("Error removing review",v),h("Failed to remove review. Please try again.")}finally{x(!1)}}else p.error("You need to be logged in for editing any review.")}),[f,y]);return(0,s.useEffect)((()=>{y()}),[y]),(0,s.useEffect)((()=>{b()}),[b]),(0,s.useEffect)((()=>{w()}),[w]),{reviews:i,review:d,averageRating:null===g||void 0===g||null===(a=g.averageRating)||void 0===a?void 0:a.toFixed(1),totalReviews:null===g||void 0===g?void 0:g.totalCount,ratingsBreakdown:null===g||void 0===g?void 0:g.ratingCounts,addReview:j,editReview:N,removeReview:A,loading:m,error:v}}},9330:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var s=a(5043),r=a(3216),n=a(5475),l=a(5860),i=a(5938),o=a(5200),d=a(9804),c=a(3907),g=a(8723),u=a(8536),m=a(571),x=a(3512),v=a(579);const h=e=>{var t,a,s;let{product:h,dropdown:f=!1}=e;const{addToCart:p}=(0,l._)(),{removeFromWishlist:y}=(0,i.n)(),b=(0,r.Zp)(),{brand:w}=(0,m.A)(null===h||void 0===h||null===(t=h.productGroup)||void 0===t?void 0:t.brand),{averageRating:j,totalReviews:N,ratingsBreakdown:A}=(0,u.A)(h.productGroup._id),S=(0,x.A)("(min-width: 1024px)");return(0,v.jsxs)("div",{className:"w-60 max-lg:w-40 h-105 max-lg:h-80 flex flex-col border border-secondary rounded-md overflow-hidden hover:shadow-md",children:[(0,v.jsxs)("div",{onClick:()=>b(`/product/${h._id}`),className:"ITEM-IMAGES relative w-full h-60 max-lg:h-40 cursor-pointer",children:[(0,v.jsx)("div",{className:"size-60 max-lg:size-40",children:(0,v.jsx)("img",{src:null===h||void 0===h?void 0:h.images[0],alt:null===h||void 0===h||null===(a=h.productGroup)||void 0===a?void 0:a.name,className:"size-full object-contain object-center"})}),(0,v.jsx)("div",{className:"absolute bottom-2 left-2 z-[5]",children:j>0&&(0,v.jsx)(g.A,{rating:j,totalRatings:N,ratingsBreakdown:A,dropdown:f})})]}),(0,v.jsxs)("div",{className:"ITEM-DETAILS p-2 lg:space-y-1 font-secondary flex-grow",children:[w&&(0,v.jsx)(n.N_,{to:`/brand/${w._id}`,className:"BRAND font-medium text-xs max-lg:text-xxs text-secondary leading-none",children:(0,v.jsx)("p",{children:w.name})}),(0,v.jsx)("p",{className:"NAME text-sm max-lg:text-xs font-medium line-clamp-2 leading-none",children:(null===h||void 0===h||null===(s=h.productGroup)||void 0===s?void 0:s.name)+" "+h.sku}),(0,v.jsxs)("div",{className:"PRICING flex items-center lg:gap-2 gap-1 whitespace-nowrap",children:[(0,v.jsxs)("p",{className:"text-xs max-lg:text-xxs font-medium text-primary line-through leading-none",children:["\u20b9 ",Math.round(null===h||void 0===h?void 0:h.unitPrice)]}),(0,v.jsxs)("p",{className:"font-bold text-lg max-lg:text-sm leading-none",children:["\u20b9 ",Math.round(null===h||void 0===h?void 0:h.sellingPrice)]}),(0,v.jsx)("p",{className:"text-sm max-lg:text-xxs font-medium text-blue-600 leading-none",children:"percent"===(null===h||void 0===h?void 0:h.discountType)?`${h.discount}%`:`\u20b9${h.discount} OFF`})]}),(0,v.jsxs)("div",{className:"UTSAV-PRICING flex items-center lg:gap-2 gap-1 whitespace-nowrap text-success",children:[(0,v.jsx)("p",{className:"font-medium leading-none max-lg:text-xs",children:"Utsav Price"}),(0,v.jsxs)("p",{className:"text-lg max-lg:text-sm font-bold leading-none",children:["\u20b9 ",Math.round(h.utsavPrice)]})]})]}),(0,v.jsxs)("div",{className:"BTN-SECTION flex justify-center gap-4 p-2 pt-0",children:[(0,v.jsx)(c.A,{reverse:!0,onClick:()=>p(h),className:"px-4 max-lg:p-2 rounded-md",children:(0,v.jsxs)("div",{className:"flex justify-center gap-2",children:[S&&(0,v.jsx)("p",{className:"text-sm",children:"Add to Bag"}),(0,v.jsx)(d.al$,{size:22})]})}),(0,v.jsx)(c.A,{reverse:!0,onClick:()=>y(h._id),className:"lg:px-3 px-2 h-10 rounded-md",children:(0,v.jsx)(o.IXo,{size:22})})]})]})};var f=a(5609);const p=()=>{const{wishlistItems:e}=(0,i.n)(),[t,a]=(0,s.useState)(1),r=(0,s.useMemo)((()=>{const a=10*(t-1),s=a+10;return e.slice(a,s)}),[t,e]);return(0,v.jsxs)("main",{className:"container max-w-full py-8 max-lg:py-4 space-y-4",children:[(0,v.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,v.jsx)("h1",{className:"font-semibold text-2xl text-center",children:"Wishlist"}),(0,v.jsxs)("p",{className:"font-semibold text-2xl text-primeRed",children:["(",e.length,")"]})]}),(0,v.jsxs)("section",{children:[0===r.length?(0,v.jsx)("h1",{className:"text-2xl text-center font-secondary font-medium",children:"Wishlist is Empty"}):(0,v.jsx)("div",{className:"flex flex-wrap items-center gap-4 max-lg:gap-2",children:e.map((e=>(0,v.jsx)(h,{product:e},e._id)))}),(0,v.jsx)("div",{className:"PAGINATION",children:(0,v.jsx)(f.A,{currentPage:t,totalCount:e.length,pageSize:10,onPageChange:e=>a(e)})})]})]})}}}]);
//# sourceMappingURL=9330.2b758605.chunk.js.map