{"version":3,"file":"static/js/0.93ceb530.chunk.js","mappings":"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","sources":["api/giftCardApis.js","services/giftCardServices.js","pages/GiftCard/RedeemCard.jsx","pages/GiftCard/GiftCardList.jsx","pages/GiftCard/index.jsx"],"sourcesContent":["import axiosInstance from \"./axiosInstance\";\n\nconst getGiftCards = async () => {\n  const response = await axiosInstance.get(\"/getGiftCardByUser\");\n  return response.data;\n};\n\nconst createGiftCard = async (cardData) => {\n  const response = await axiosInstance.post(\"/createGiftCard\", cardData);\n  return response.data;\n};\n\nconst redeemGiftCard = async (code) => {\n  const response = await axiosInstance.post(\"/redeemGiftCard\", { code });\n  return response.data;\n};\n\nconst getAllTemplates = async () => {\n  const response = await axiosInstance.get(\"/getAllTemplates\");\n  return response.data?.allTemplates;\n};\n\nexport { getGiftCards, createGiftCard, redeemGiftCard, getAllTemplates };\n","import { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport {\n  createGiftCard,\n  getAllTemplates,\n  getGiftCards,\n  redeemGiftCard,\n} from \"../api/giftCardApis\";\n\nconst useGiftCards = () => {\n  return useQuery({\n    queryKey: [\"giftCards\"],\n    queryFn: getGiftCards,\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nconst useCreateGiftCard = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: createGiftCard,\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"giftCards\"]);\n    },\n  });\n};\n\nconst useRedeemGiftCard = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: redeemGiftCard,\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"giftCards\"]);\n    },\n  });\n};\n\nconst useGiftCardTemplates = () => {\n  return useQuery({\n    queryKey: [\"giftCard-templates\"],\n    queryFn: getAllTemplates,\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport {\n  useGiftCards,\n  useCreateGiftCard,\n  useRedeemGiftCard,\n  useGiftCardTemplates,\n};\n","import Button from \"../../components/Button\";\nimport InputBox from \"../../components/InputBox\";\nimport useForm from \"../../hooks/useForm\";\nimport { useRedeemGiftCard } from \"../../services/giftCardServices\";\nimport { useToast } from \"../../contexts/toastContext\";\nimport { useWallet } from \"../../contexts/walletContext\";\n\nconst RedeemCard = () => {\n  const toast = useToast();\n  const { getBalance } = useWallet();\n  const redeemMutation = useRedeemGiftCard();\n\n  const onSubmitHandler = (data) => {\n    const { code } = data;\n\n    // Client side validations\n    if (!code) {\n      toast.error(\"Please enter a code\");\n      return;\n    }\n\n    redeemMutation.mutate(code, {\n      onSuccess: async () => {\n        await getBalance();\n        toast.success(\"Balance added into wallet successfully\");\n        clearForm();\n      },\n      onError: (error) => {\n        console.error(error);\n        toast.error(error?.response?.data?.message);\n      },\n    });\n  };\n\n  const { formData, handleChange, handleSubmit, clearForm } = useForm(\n    {},\n    onSubmitHandler\n  );\n\n  return (\n    <div className=\"mt-8\">\n      <form\n        onSubmit={handleSubmit}\n        className=\"flex flex-wrap items-end gap-x-8 gap-y-2\"\n      >\n        <InputBox\n          label=\"redeem gift card\"\n          name=\"code\"\n          value={formData.code}\n          onChange={handleChange}\n          placeholder=\"enter your gift code\"\n          className=\"w-60 h-10 border-2 border-secondary rounded-md px-4 py-2 text-sm placeholder:text-sm\"\n        />\n        <Button\n          disabled={redeemMutation.isPending}\n          className=\"h-10 px-4 py-2 rounded-md\"\n        >\n          redeem\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default RedeemCard;\n","import Spinner from \"../../components/Spinner\";\nimport { useGiftCards } from \"../../services/giftCardServices\";\n\nconst GiftCardList = () => {\n  const { data: giftCards, isLoading, error } = useGiftCards();\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center\">\n        <Spinner />\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex justify-center text-sm text-error\">\n        {error.message}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-wrap justify-center gap-4 mb-8\">\n      {giftCards.length === 0 ? (\n        <p className=\"text-center text-primary\">No gift cards available.</p>\n      ) : (\n        giftCards.map((card) => (\n          <div key={card._id} className=\"h-24 w-32 rounded overflow-hidden\">\n            <img\n              src={card?.templateId?.template}\n              alt={card?.templateId?.title}\n              className=\"size-full object-cover object-center\"\n            />\n          </div>\n        ))\n      )}\n    </div>\n  );\n};\n\nexport default GiftCardList;\n","import { FiPlusSquare } from \"react-icons/fi\";\nimport RedeemCard from \"./RedeemCard\";\nimport { motion } from \"framer-motion\";\nimport { useNavigate } from \"react-router-dom\";\nimport GiftCardList from \"./GiftCardList\";\n\nconst GiftCard = () => {\n  const navigate = useNavigate();\n\n  return (\n    <motion.main\n      className=\"flex-1\"\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      transition={{ duration: 0.5 }}\n    >\n      <div className=\"bg-white p-6 rounded-md lg:shadow-md\">\n        <h2 className=\"text-2xl font-semibold mb-6\">Gift Cards</h2>\n\n        <GiftCardList />\n\n        <button\n          onClick={() => navigate(\"create\")}\n          className=\"px-4 py-2 flex justify-start items-center gap-2 border border-primeRed rounded-md text-primeRed bg-white hover:bg-offWhite\"\n        >\n          <FiPlusSquare size={18} />\n          <p className=\"font-medium\">Create Gift Card</p>\n        </button>\n\n        <RedeemCard />\n      </div>\n    </motion.main>\n  );\n};\n\nexport default GiftCard;\n"],"names":["getGiftCards","async","axiosInstance","get","data","createGiftCard","post","cardData","redeemGiftCard","code","getAllTemplates","_response$data","allTemplates","useGiftCards","useQuery","queryKey","queryFn","staleTime","useCreateGiftCard","queryClient","useQueryClient","useMutation","mutationFn","onSuccess","invalidateQueries","useRedeemGiftCard","useGiftCardTemplates","RedeemCard","toast","useToast","getBalance","useWallet","redeemMutation","formData","handleChange","handleSubmit","clearForm","useForm","mutate","success","onError","error","_error$response","_error$response$data","console","response","message","_jsx","className","children","_jsxs","onSubmit","InputBox","label","name","value","onChange","placeholder","Button","disabled","isPending","GiftCardList","giftCards","isLoading","Spinner","length","map","card","_card$templateId","_card$templateId2","src","templateId","template","alt","title","_id","GiftCard","navigate","useNavigate","motion","main","initial","opacity","animate","transition","duration","onClick","FiPlusSquare","size"],"sourceRoot":""}