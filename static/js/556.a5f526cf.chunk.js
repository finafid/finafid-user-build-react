"use strict";(self.webpackChunkfinafid_frontend=self.webpackChunkfinafid_frontend||[]).push([[556],{2679:(e,s,a)=>{a.d(s,{A:()=>n});var r=a(5043);const n=(e,s,a,n)=>{const[l,o]=(0,r.useState)(e),[t,i]=(0,r.useState)(n||1);return{formData:l,currentStep:t,steps:a,goToNextStep:()=>{t>=a.length+1||i((e=>e+1))},goToPrevStep:()=>{t<=0||i((e=>e-1))},goToStep:e=>{i(e)},handleChange:e=>{const{name:s,value:a,type:r,files:n,checked:t}=e.target;o("file"===r?{...l,[s]:n}:"checkbox"===r?{...l,[s]:t}:{...l,[s]:a})},handleSubmit:e=>{e.preventDefault(),s(l)},clearForm:()=>o(e)}}},2639:(e,s,a)=>{a.d(s,{A:()=>n});var r=a(5043);function n(e,s){const[a,n]=(0,r.useState)(new Array(e).fill("")),l=(0,r.useRef)([]);(0,r.useEffect)((()=>{var s;l.current=null===(s=l.current)||void 0===s?void 0:s.slice(0,e)}),[e]);const o=(0,r.useCallback)((e=>{if(e.preventDefault(),!a.every((e=>""!==e)))return null;s(a.join(""))}),[a,s]);return{otp:a,refs:l,handleChange:(s,a)=>{/^\d$/.test(a)&&n((r=>{const n=[...r];return n[s]=a,""!==a&&s<e-1&&l.current[s+1].focus(),n}))},handlePaste:(s,r)=>{const l=[...a];r.split("").forEach(((a,r)=>{/^\d$/.test(a)&&s+r<e&&(l[s+r]=a)})),n(l)},handleKeyDown:(e,s)=>{"Backspace"===s.key&&(s.preventDefault(),n((s=>{const r=[...s];return""===a[e]?e>0&&(r[e-1]="",l.current[e-1].focus()):r[e]="",r})))},handleSubmit:o}}},4169:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});const r=a.p+"static/media/Rectangle.40f50cc30e59f13dec86.png";var n=a(7653),l=a(3907),o=a(2925),t=a(2639),i=a(579);const c=e=>{let{formData:s,goToStep:a,length:r=4}=e;const c=(0,o.d)(),{otp:d,refs:m,handleChange:p,handlePaste:u,handleKeyDown:x,handleSubmit:f}=(0,t.A)(r,(async e=>{try{const r=await(0,n.FH)({otp:e,email:s.email});null!==r&&void 0!==r&&r.status&&(console.log(r.data),a(5))}catch(o){if(null!==o&&void 0!==o&&o.response)if(o.response){var r,l;c.error(null===(r=o.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message)}else c.error("Server issues!!!");else c.error("no server response")}}));return(0,i.jsxs)("div",{className:"px-4",children:[(0,i.jsx)("h2",{className:"capitalize text-2xl font-semibold text-center mt-8 mb-24",children:"verification"}),(0,i.jsxs)("form",{onSubmit:f,children:[(0,i.jsxs)("div",{className:"FORM-FIELD flex flex-col w-max mx-auto my-10",children:[(0,i.jsx)("label",{htmlFor:"",className:"capitalize font-medium text-center my-4",children:"enter verification code"}),(0,i.jsx)("div",{className:"flex gap-6",children:Array.from({length:r}).map(((e,s)=>(0,i.jsx)("input",{type:"text",ref:e=>m.current[s]=e,maxLength:1,value:d[s],onChange:e=>p(s,e.target.value),onPaste:e=>((e,s)=>{e.preventDefault();const a=e.clipboardData.getData("text/plain").substr(0,r-s);u(s,a)})(e,s),onKeyDown:e=>x(s,e),className:"border border-primary bg-offWhite outline-none size-10 rounded-full text-center"},s)))})]}),(0,i.jsx)("div",{children:(0,i.jsxs)("p",{className:"text-center text-xs text-slate-400 mb-10",children:["If you didn't receive a code."," ",(0,i.jsx)("span",{onClick:async()=>{try{const e=await(0,n.YX)(s.email);null!==e&&void 0!==e&&e.status&&c.success("OTP resend successfully")}catch(r){if(null!==r&&void 0!==r&&r.response)if(r.response){var e,a;c.error(null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)}else c.error("Server issues!!!");else c.error("no server response")}},className:"text-primeRed cursor-pointer hover:underline",children:"Resend"})]})}),(0,i.jsx)(l.A,{className:"w-full py-2 px-6 rounded-full font-secondary",children:"Verify"})]})]})};var d=a(7160);const m=e=>{let{formData:s,length:a=4}=e;const r=(0,o.d)(),{login:c}=(0,d.A)(),{otp:m,refs:p,handleChange:u,handlePaste:x,handleKeyDown:f,handleSubmit:h}=(0,t.A)(a,(async e=>{try{const a=await(0,n.FH)({otp:e,email:s.email});null!==a&&void 0!==a&&a.status&&(console.log(a.data),c({email:s.email,password:s.password}))}catch(o){if(null!==o&&void 0!==o&&o.response)if(o.response){var a,l;r.error(null===(a=o.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)}else r.error("Server issues!!!");else r.error("no server response")}}));return(0,i.jsxs)("div",{className:"px-4",children:[(0,i.jsx)("h2",{className:"capitalize text-2xl font-semibold text-center mt-8 mb-24",children:"verification"}),(0,i.jsxs)("form",{onSubmit:h,children:[(0,i.jsxs)("div",{className:"FORM-FIELD flex flex-col w-max mx-auto my-10",children:[(0,i.jsx)("label",{htmlFor:"",className:"capitalize font-medium text-center my-4",children:"enter verification code"}),(0,i.jsx)("div",{className:"flex gap-6",children:Array.from({length:a}).map(((e,s)=>(0,i.jsx)("input",{type:"text",ref:e=>p.current[s]=e,maxLength:1,value:m[s],onChange:e=>u(s,e.target.value),onPaste:e=>((e,s)=>{e.preventDefault();const r=e.clipboardData.getData("text/plain").substr(0,a-s);x(s,r)})(e,s),onKeyDown:e=>f(s,e),className:"border border-primary bg-offWhite outline-none size-10 rounded-full text-center"},s)))})]}),(0,i.jsx)("div",{children:(0,i.jsxs)("p",{className:"text-center text-xs text-slate-400 mb-10",children:["If you didn't receive a code."," ",(0,i.jsx)("span",{onClick:async()=>{try{const e=await(0,n.Ix)(s.email);null!==e&&void 0!==e&&e.status&&r.success("OTP resend successfully")}catch(l){if(null!==l&&void 0!==l&&l.response)if(l.response){var e,a;r.error(null===(e=l.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)}else r.error("Server issues!!!");else r.error("no server response")}},className:"text-primeRed cursor-pointer hover:underline",children:"Resend"})]})}),(0,i.jsx)(l.A,{className:"w-full py-2 px-6 rounded-full font-secondary",children:"Verify"})]})]})};var p=a(1940),u=a(9335);const x=e=>{let{formData:s,handleChange:a,clearForm:r,goToStep:t}=e;const c=(0,o.d)();return(0,i.jsxs)("div",{className:"sm:px-4",children:[(0,i.jsx)("h2",{className:"capitalize text-2xl font-semibold text-center mt-8 mb-24",children:"forget password"}),(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const{email:e}=s;if(!(0,u.xd)(e).success)return void c.error((0,u.xd)(e).message);const a=await(0,n.YX)(e);null!==a&&void 0!==a&&a.status&&(console.log(a.data),t(6))}catch(l){if(null!==l&&void 0!==l&&l.response)if(l.response){var a,r;c.error(null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)}else c.error("Server issues!!!");else c.error("no server response")}},className:"space-y-8",children:[(0,i.jsx)(p.A,{type:"email",label:"Enter Email Address",name:"email",value:s.email,onChange:a,validation:u.xd,align:!0,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsxs)("p",{className:"relative -top-3 text-center text-xs text-primary",children:["Back to"," ",(0,i.jsx)("span",{className:"text-primeRed cursor-pointer hover:underline",onClick:()=>t(2),children:"sign in"})]}),(0,i.jsx)("div",{className:"mt-8",children:(0,i.jsx)(l.A,{className:"w-full px-10 py-2 rounded-full font-secondary text-sm",children:"send"})})]})]})},f=e=>{let{formData:s,handleChange:a,clearForm:r}=e;const t=(0,o.d)(),{login:c}=(0,d.A)();return(0,i.jsxs)("div",{className:"sm:px-4",children:[(0,i.jsx)("h2",{className:"capitalize text-2xl font-semibold text-center mt-8 mb-24",children:"rest password"}),(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const{newPassword:e,confirmNewPassword:a}=s;if(!(0,u.YY)(e).success)return void console.log((0,u.YY)(e).message);if(e!==a)return void console.log("password and confirm password should match");const l=await(0,n.xw)({email:s.email,password:e});null!==l&&void 0!==l&&l.status&&(console.log(l.data),t.success("Password updated successfully"),c({email:s.email,password:e}).then((()=>{r()})))}catch(o){if(null!==o&&void 0!==o&&o.response)if(o.response){var a,l;t.error(null===(a=o.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)}else t.error("Server issues!!!");else t.error("no server response")}},children:[(0,i.jsxs)("div",{className:"flex flex-col gap-4 max-sm:gap-2",children:[(0,i.jsx)(p.A,{type:"password",label:"enter new password",name:"newPassword",value:s.newPassword,onChange:a,validation:u.YY,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{type:"password",label:"confirm password",name:"confirmNewPassword",value:s.confirmNewPassword,onChange:a,validation:u.YY,containerClassName:"flex-col gap-2 max-sm:gap-1"})]}),(0,i.jsx)("div",{className:"mt-10",children:(0,i.jsx)(l.A,{className:"w-full py-2 px-6 rounded-full font-secondary",children:"save"})})]})]})};var h=a(5475);const v=e=>{let{formData:s,handleChange:a,goToStep:r}=e;const t=(0,o.d)(),[c]=(0,h.ok)(),d=c.get("referralCode");return(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"capitalize text-2xl font-semibold text-center mb-6",children:"sign up"}),(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const{firstName:e,lastName:a,email:l,phone:o,password:i,confirmPassword:c}=s,m=e+" "+a;if(!(0,u.wJ)(m).success)return void t.error((0,u.wJ)(m).message);if(!(0,u.xd)(l).success)return void t.error((0,u.xd)(l).message);if(!(0,u.ri)(o).success)return void t.error((0,u.ri)(o).message);if(!(0,u.YY)(i).success)return void t.error((0,u.YY)(i).message);if(i!==c)return void t.error("Confirm password should be the same as the password");const p=await(0,n.DY)({fullName:m,email:l,phone:o,password:i,referralCode:d});if(null!==p&&void 0!==p&&p.status){console.log(p.data);const e=await(0,n.Ix)(l);null!==e&&void 0!==e&&e.status&&(console.log(e.data),r(4))}}catch(o){if(console.log(o),null!==o&&void 0!==o&&o.response)if(o.response){var a,l;t.error(null===(a=o.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)}else t.error("Server issues!!!");else t.error("no server response")}},className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid sm:grid-cols-2 gap-x-6 gap-y-3 max-sm:gap-2",children:[(0,i.jsx)(p.A,{label:"first name",name:"firstName",value:s.firstName,onChange:a,validation:u.wJ,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{label:"last name",name:"lastName",value:s.lastName,onChange:a,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{type:"email",label:"email",name:"email",value:s.email,onChange:a,validation:u.xd,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{type:"tel",label:"phone",name:"phone",value:s.phone,onChange:a,validation:u.ri,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{type:"password",label:"password",name:"password",value:s.password,onChange:a,validation:u.YY,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{type:"password",label:"confirm password",name:"confirmPassword",value:s.confirmPassword,onChange:a,validation:e=>e!==s.password?{success:!1,message:"Confirm password should be the same as the password"}:{success:!0,message:"OK"},containerClassName:"flex-col gap-2 max-sm:gap-1"})]}),(0,i.jsxs)("div",{className:"TERMS-BOX flex items-center gap-1",children:[(0,i.jsx)("input",{id:"user-terms",type:"checkbox",name:"userTerms",onChange:a,className:"accent-primeRed cursor-pointer"}),(0,i.jsx)("label",{htmlFor:"user-terms",className:"capitalize text-xs text-primeRed select-none",children:"agree to terms & conditions"})]}),(0,i.jsx)(l.A,{disabled:!s.userTerms,className:"px-10 py-2 rounded-full font-secondary text-sm mx-auto",children:"submit"}),(0,i.jsxs)("p",{className:"text-center text-sm",children:["Already have an account?"," ",(0,i.jsx)("span",{className:"text-primeRed hover:underline cursor-pointer",onClick:()=>r(2),children:"Login Here"})]})]})]})},g=e=>{let{formData:s,handleChange:a,goToStep:r}=e;const n=(0,o.d)(),{login:t}=(0,d.A)();return(0,i.jsxs)("div",{className:"sm:px-4",children:[(0,i.jsx)("h2",{className:"capitalize text-2xl font-semibold text-center mb-16",children:"login"}),(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const{email_phone:e,loginPassword:a}=s;if(!(0,u.xd)(e).success)return void n.error((0,u.xd)(e).message);if(!(0,u.YY)(a).success)return void n.error((0,u.YY)(a).message);t({email:e,password:a})}catch(a){console.log(a)}},className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-4 max-sm:gap-2",children:[(0,i.jsx)(p.A,{label:"email / phone",name:"email_phone",value:s.email_phone,onChange:a,validation:u.xd,containerClassName:"flex-col gap-2 max-sm:gap-1"}),(0,i.jsx)(p.A,{type:"password",label:"password",name:"loginPassword",value:s.loginPassword,onChange:a,validation:u.YY,containerClassName:"flex-col gap-2 max-sm:gap-1"})]}),(0,i.jsx)("div",{className:"FORGET-PASS relative -top-3 flex justify-end",children:(0,i.jsx)("p",{className:"text-slate-400 text-xs cursor-pointer hover:underline",onClick:()=>r(3),children:"Forget Password?"})}),(0,i.jsx)(l.A,{className:"px-10 py-2 rounded-full font-secondary text-sm mx-auto",children:"sign in"}),(0,i.jsxs)("p",{className:"text-center text-sm",children:["Don't have an account?"," ",(0,i.jsx)("span",{className:"text-primeRed hover:underline cursor-pointer",onClick:()=>r(1),children:"Sign Up"})]})]})]})};var w=a(2679),j=a(6058);const y=()=>{const{formData:e,handleChange:s,clearForm:a,currentStep:n,goToStep:l}=(0,w.A)({},null,6,2);return(0,i.jsx)("div",{className:"container max-w-full py-8 max-sm:p-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${r})`},children:(0,i.jsxs)("div",{className:"relative flex flex-col justify-between sm:size-[520px] mx-auto sm:shadow-primary bg-white sm:border sm:border-primary sm:rounded-3xl p-6 space-y-4",children:[(()=>{switch(n){case 1:return(0,i.jsx)(v,{formData:e,handleChange:s,clearForm:a,goToStep:l});case 2:default:return(0,i.jsx)(g,{formData:e,handleChange:s,clearForm:a,goToStep:l});case 3:return(0,i.jsx)(x,{formData:e,handleChange:s,clearForm:a,goToStep:l});case 4:return(0,i.jsx)(m,{formData:e,handleChange:s,clearForm:a,goToStep:l});case 5:return(0,i.jsx)(f,{formData:e,handleChange:s,clearForm:a,goToStep:l});case 6:return(0,i.jsx)(c,{formData:e,handleChange:s,clearForm:a,goToStep:l})}})(),(1===n||2===n)&&(0,i.jsx)("div",{className:"EXTRA-BUTTONS sm:w-max mx-auto flex flex-wrap gap-8 max-sm:gap-3",children:(0,i.jsxs)("button",{onClick:()=>{window.location.href="https://finafid-backend-node-e762fd401cc5.herokuapp.com/api/v1/google"},className:"max-sm:w-full flex justify-start items-center gap-2 rounded-lg text-sm p-2 bg-white border border-[#dd4b39]",children:[(0,i.jsx)(j.F4b,{size:24,className:"flex-shrink-0"}),(0,i.jsx)("p",{children:"Continue with Google"})]})})]})})}}}]);
//# sourceMappingURL=556.a5f526cf.chunk.js.map