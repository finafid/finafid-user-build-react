{"version":3,"file":"static/js/4.d816048d.chunk.js","mappings":"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","sources":["../node_modules/domelementtype/lib/index.js","../node_modules/html-dom-parser/src/client/constants.ts","../node_modules/html-dom-parser/src/client/domparser.ts","../node_modules/html-dom-parser/src/client/html-to-dom.ts","../node_modules/html-dom-parser/src/client/utilities.ts","../node_modules/html-dom-parser/node_modules/domhandler/lib/index.js","../node_modules/html-dom-parser/node_modules/domhandler/lib/node.js","../node_modules/html-react-parser/src/attributes-to-props.ts","../node_modules/html-react-parser/src/dom-to-react.ts","../node_modules/html-react-parser/src/index.ts","../node_modules/html-react-parser/src/utilities.ts","../node_modules/html-react-parser/node_modules/domhandler/lib/index.js","../node_modules/html-react-parser/node_modules/domhandler/lib/node.js","../node_modules/inline-style-parser/index.js","../node_modules/react-property/lib/index.js","../node_modules/react-property/lib/possibleStandardNamesOptimized.js","../node_modules/style-to-js/src/index.ts","../node_modules/style-to-js/src/utilities.ts","../node_modules/style-to-object/src/index.ts","../node_modules/html-react-parser/esm/index.mjs","../node_modules/yet-another-react-lightbox/dist/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/captions/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/video/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js","../node_modules/yet-another-react-lightbox/dist/types.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Doctype = exports.CDATA = exports.Tag = exports.Style = exports.Script = exports.Comment = exports.Directive = exports.Text = exports.Root = exports.isTag = exports.ElementType = void 0;\n/** Types of elements found in htmlparser2's DOM */\nvar ElementType;\n(function (ElementType) {\n    /** Type for the root element of a document */\n    ElementType[\"Root\"] = \"root\";\n    /** Type for Text */\n    ElementType[\"Text\"] = \"text\";\n    /** Type for <? ... ?> */\n    ElementType[\"Directive\"] = \"directive\";\n    /** Type for <!-- ... --> */\n    ElementType[\"Comment\"] = \"comment\";\n    /** Type for <script> tags */\n    ElementType[\"Script\"] = \"script\";\n    /** Type for <style> tags */\n    ElementType[\"Style\"] = \"style\";\n    /** Type for Any tag */\n    ElementType[\"Tag\"] = \"tag\";\n    /** Type for <![CDATA[ ... ]]> */\n    ElementType[\"CDATA\"] = \"cdata\";\n    /** Type for <!doctype ...> */\n    ElementType[\"Doctype\"] = \"doctype\";\n})(ElementType = exports.ElementType || (exports.ElementType = {}));\n/**\n * Tests whether an element is a tag or not.\n *\n * @param elem Element to test\n */\nfunction isTag(elem) {\n    return (elem.type === ElementType.Tag ||\n        elem.type === ElementType.Script ||\n        elem.type === ElementType.Style);\n}\nexports.isTag = isTag;\n// Exports for backwards compatibility\n/** Type for the root element of a document */\nexports.Root = ElementType.Root;\n/** Type for Text */\nexports.Text = ElementType.Text;\n/** Type for <? ... ?> */\nexports.Directive = ElementType.Directive;\n/** Type for <!-- ... --> */\nexports.Comment = ElementType.Comment;\n/** Type for <script> tags */\nexports.Script = ElementType.Script;\n/** Type for <style> tags */\nexports.Style = ElementType.Style;\n/** Type for Any tag */\nexports.Tag = ElementType.Tag;\n/** Type for <![CDATA[ ... ]]> */\nexports.CDATA = ElementType.CDATA;\n/** Type for <!doctype ...> */\nexports.Doctype = ElementType.Doctype;\n","/**\n * SVG elements are case-sensitive.\n *\n * @see https://developer.mozilla.org/docs/Web/SVG/Element#svg_elements_a_to_z\n */\nexport const CASE_SENSITIVE_TAG_NAMES = [\n  'animateMotion',\n  'animateTransform',\n  'clipPath',\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n  'foreignObject',\n  'linearGradient',\n  'radialGradient',\n  'textPath',\n] as const;\n\nexport const CASE_SENSITIVE_TAG_NAMES_MAP = CASE_SENSITIVE_TAG_NAMES.reduce(\n  (accumulator, tagName) => {\n    accumulator[tagName.toLowerCase()] = tagName;\n    return accumulator;\n  },\n  {} as Record<string, string>,\n);\n","// constants\nconst HTML = 'html';\nconst HEAD = 'head';\nconst BODY = 'body';\nconst FIRST_TAG_REGEX = /<([a-zA-Z]+[0-9]?)/; // e.g., <h1>\n\n// match-all-characters in case of newlines (DOTALL)\nconst HEAD_TAG_REGEX = /<head[^]*>/i;\nconst BODY_TAG_REGEX = /<body[^]*>/i;\n\n// falls back to `parseFromString` if `createHTMLDocument` cannot be used\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nlet parseFromDocument = (html: string, tagName?: string): Document => {\n  /* istanbul ignore next */\n  throw new Error(\n    'This browser does not support `document.implementation.createHTMLDocument`',\n  );\n};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nlet parseFromString = (html: string, tagName?: string): Document => {\n  /* istanbul ignore next */\n  throw new Error(\n    'This browser does not support `DOMParser.prototype.parseFromString`',\n  );\n};\n\nconst DOMParser = typeof window === 'object' && window.DOMParser;\n\n/**\n * DOMParser (performance: slow).\n *\n * @see https://developer.mozilla.org/docs/Web/API/DOMParser#Parsing_an_SVG_or_HTML_document\n */\nif (typeof DOMParser === 'function') {\n  const domParser = new DOMParser();\n  const mimeType = 'text/html';\n\n  /**\n   * Creates an HTML document using `DOMParser.parseFromString`.\n   *\n   * @param html - The HTML string.\n   * @param tagName - The element to render the HTML (with 'body' as fallback).\n   * @returns - Document.\n   */\n  parseFromString = (html: string, tagName?: string): Document => {\n    if (tagName) {\n      /* istanbul ignore next */\n      html = `<${tagName}>${html}</${tagName}>`;\n    }\n\n    return domParser.parseFromString(html, mimeType);\n  };\n\n  parseFromDocument = parseFromString;\n}\n\n/**\n * DOMImplementation (performance: fair).\n *\n * @see https://developer.mozilla.org/docs/Web/API/DOMImplementation/createHTMLDocument\n */\nif (typeof document === 'object' && document.implementation) {\n  const htmlDocument = document.implementation.createHTMLDocument();\n\n  /**\n   * Use HTML document created by `document.implementation.createHTMLDocument`.\n   *\n   * @param html - The HTML string.\n   * @param tagName - The element to render the HTML (with 'body' as fallback).\n   * @returns - Document\n   */\n  parseFromDocument = function (html: string, tagName?: string): Document {\n    if (tagName) {\n      const element = htmlDocument.documentElement.querySelector(tagName);\n\n      if (element) {\n        element.innerHTML = html;\n      }\n\n      return htmlDocument;\n    }\n\n    htmlDocument.documentElement.innerHTML = html;\n    return htmlDocument;\n  };\n}\n\n/**\n * Template (performance: fast).\n *\n * @see https://developer.mozilla.org/docs/Web/HTML/Element/template\n */\nconst template =\n  typeof document === 'object' && document.createElement('template');\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nlet parseFromTemplate: (html: string) => NodeList;\n\nif (template && template.content) {\n  /**\n   * Uses a template element (content fragment) to parse HTML.\n   *\n   * @param html - HTML string.\n   * @returns - Nodes.\n   */\n  parseFromTemplate = (html: string): NodeList => {\n    template.innerHTML = html;\n    return template.content.childNodes;\n  };\n}\n\n/**\n * Parses HTML string to DOM nodes.\n *\n * @param html - HTML markup.\n * @returns - DOM nodes.\n */\nexport default function domparser(html: string): NodeList {\n  const match = html.match(FIRST_TAG_REGEX);\n  const firstTagName = match && match[1] ? match[1].toLowerCase() : '';\n\n  switch (firstTagName) {\n    case HTML: {\n      const doc = parseFromString(html);\n\n      // the created document may come with filler head/body elements,\n      // so make sure to remove them if they don't actually exist\n      if (!HEAD_TAG_REGEX.test(html)) {\n        const element = doc.querySelector(HEAD);\n        element?.parentNode?.removeChild(element);\n      }\n\n      if (!BODY_TAG_REGEX.test(html)) {\n        const element = doc.querySelector(BODY);\n        element?.parentNode?.removeChild(element);\n      }\n\n      return doc.querySelectorAll(HTML);\n    }\n\n    case HEAD:\n    case BODY: {\n      const elements = parseFromDocument(html).querySelectorAll(firstTagName);\n\n      // if there's a sibling element, then return both elements\n      if (BODY_TAG_REGEX.test(html) && HEAD_TAG_REGEX.test(html)) {\n        return elements[0].parentNode!.childNodes;\n      }\n\n      return elements;\n    }\n\n    // low-level tag or text\n    default: {\n      if (parseFromTemplate) {\n        return parseFromTemplate(html);\n      }\n      const element = parseFromDocument(html, BODY).querySelector(BODY);\n      return element!.childNodes;\n    }\n  }\n}\n","import domparser from './domparser';\nimport { formatDOM } from './utilities';\n\nconst DIRECTIVE_REGEX = /<(![a-zA-Z\\s]+)>/; // e.g., <!doctype html>\n\n/**\n * Parses HTML string to DOM nodes in browser.\n *\n * @param html - HTML markup.\n * @returns - DOM elements.\n */\nexport default function HTMLDOMParser(html: string) {\n  if (typeof html !== 'string') {\n    throw new TypeError('First argument must be a string');\n  }\n\n  if (!html) {\n    return [];\n  }\n\n  // match directive\n  const match = html.match(DIRECTIVE_REGEX);\n  const directive = match ? match[1] : undefined;\n\n  return formatDOM(domparser(html), null, directive);\n}\n","import { Comment, Element, ProcessingInstruction, Text } from 'domhandler';\n\nimport { CASE_SENSITIVE_TAG_NAMES_MAP } from './constants';\nimport type { DOMNode } from '../types';\n\n/**\n * Gets case-sensitive tag name.\n *\n * @param tagName - Tag name in lowercase.\n * @returns - Case-sensitive tag name.\n */\nfunction getCaseSensitiveTagName(tagName: string): string | undefined {\n  return CASE_SENSITIVE_TAG_NAMES_MAP[tagName];\n}\n\n/**\n * Formats DOM attributes to a hash map.\n *\n * @param attributes - List of attributes.\n * @returns - Map of attribute name to value.\n */\nexport function formatAttributes(attributes: NamedNodeMap) {\n  const map: Record<string, string> = {};\n  let index = 0;\n  const attributesLength = attributes.length;\n\n  // `NamedNodeMap` is array-like\n  for (; index < attributesLength; index++) {\n    const attribute = attributes[index];\n    map[attribute.name] = attribute.value;\n  }\n\n  return map;\n}\n\n/**\n * Corrects the tag name if it is case-sensitive (SVG).\n * Otherwise, returns the lowercase tag name (HTML).\n *\n * @param tagName - Lowercase tag name.\n * @returns - Formatted tag name.\n */\nfunction formatTagName(tagName: string): string {\n  tagName = tagName.toLowerCase();\n  const caseSensitiveTagName = getCaseSensitiveTagName(tagName);\n\n  if (caseSensitiveTagName) {\n    return caseSensitiveTagName;\n  }\n\n  return tagName;\n}\n\n/**\n * Transforms DOM nodes to `domhandler` nodes.\n *\n * @param nodes - DOM nodes.\n * @param parent - Parent node.\n * @param directive - Directive.\n * @returns - Nodes.\n */\nexport function formatDOM(\n  nodes: NodeList,\n  parent: DOMNode | null = null,\n  directive?: string,\n): DOMNode[] {\n  const domNodes = [];\n  let current;\n  let index = 0;\n  const nodesLength = nodes.length;\n\n  for (; index < nodesLength; index++) {\n    const node = nodes[index];\n\n    // set the node data given the type\n    switch (node.nodeType) {\n      case 1: {\n        const tagName = formatTagName(node.nodeName);\n\n        // script, style, or tag\n        current = new Element(\n          tagName,\n          formatAttributes((node as HTMLElement).attributes),\n        );\n\n        current.children = formatDOM(\n          // template children are on content\n          tagName === 'template'\n            ? (node as HTMLTemplateElement).content.childNodes\n            : node.childNodes,\n          current,\n        );\n\n        break;\n      }\n\n      case 3:\n        current = new Text(node.nodeValue!);\n        break;\n\n      case 8:\n        current = new Comment(node.nodeValue!);\n        break;\n\n      default:\n        continue;\n    }\n\n    // set previous node next\n    const prev = domNodes[index - 1] || null;\n    if (prev) {\n      prev.next = current;\n    }\n\n    // set properties for current node\n    current.parent = parent as Element;\n    current.prev = prev;\n    current.next = null;\n\n    domNodes.push(current);\n  }\n\n  if (directive) {\n    current = new ProcessingInstruction(\n      directive.substring(0, directive.indexOf(' ')).toLowerCase(),\n      directive,\n    );\n\n    current.next = domNodes[0] || null;\n    current.parent = parent as Element;\n    domNodes.unshift(current);\n\n    if (domNodes[1]) {\n      domNodes[1].prev = domNodes[0];\n    }\n  }\n\n  return domNodes;\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DomHandler = void 0;\nvar domelementtype_1 = require(\"domelementtype\");\nvar node_js_1 = require(\"./node.js\");\n__exportStar(require(\"./node.js\"), exports);\n// Default options\nvar defaultOpts = {\n    withStartIndices: false,\n    withEndIndices: false,\n    xmlMode: false,\n};\nvar DomHandler = /** @class */ (function () {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    function DomHandler(callback, options, elementCB) {\n        /** The elements of the DOM */\n        this.dom = [];\n        /** The root element for the DOM */\n        this.root = new node_js_1.Document(this.dom);\n        /** Indicated whether parsing has been completed. */\n        this.done = false;\n        /** Stack of open tags. */\n        this.tagStack = [this.root];\n        /** A data node that is still being written to. */\n        this.lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this.parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this.callback = callback !== null && callback !== void 0 ? callback : null;\n        this.options = options !== null && options !== void 0 ? options : defaultOpts;\n        this.elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    DomHandler.prototype.onparserinit = function (parser) {\n        this.parser = parser;\n    };\n    // Resets the handler back to starting state\n    DomHandler.prototype.onreset = function () {\n        this.dom = [];\n        this.root = new node_js_1.Document(this.dom);\n        this.done = false;\n        this.tagStack = [this.root];\n        this.lastNode = null;\n        this.parser = null;\n    };\n    // Signals the handler that parsing is done\n    DomHandler.prototype.onend = function () {\n        if (this.done)\n            return;\n        this.done = true;\n        this.parser = null;\n        this.handleCallback(null);\n    };\n    DomHandler.prototype.onerror = function (error) {\n        this.handleCallback(error);\n    };\n    DomHandler.prototype.onclosetag = function () {\n        this.lastNode = null;\n        var elem = this.tagStack.pop();\n        if (this.options.withEndIndices) {\n            elem.endIndex = this.parser.endIndex;\n        }\n        if (this.elementCB)\n            this.elementCB(elem);\n    };\n    DomHandler.prototype.onopentag = function (name, attribs) {\n        var type = this.options.xmlMode ? domelementtype_1.ElementType.Tag : undefined;\n        var element = new node_js_1.Element(name, attribs, undefined, type);\n        this.addNode(element);\n        this.tagStack.push(element);\n    };\n    DomHandler.prototype.ontext = function (data) {\n        var lastNode = this.lastNode;\n        if (lastNode && lastNode.type === domelementtype_1.ElementType.Text) {\n            lastNode.data += data;\n            if (this.options.withEndIndices) {\n                lastNode.endIndex = this.parser.endIndex;\n            }\n        }\n        else {\n            var node = new node_js_1.Text(data);\n            this.addNode(node);\n            this.lastNode = node;\n        }\n    };\n    DomHandler.prototype.oncomment = function (data) {\n        if (this.lastNode && this.lastNode.type === domelementtype_1.ElementType.Comment) {\n            this.lastNode.data += data;\n            return;\n        }\n        var node = new node_js_1.Comment(data);\n        this.addNode(node);\n        this.lastNode = node;\n    };\n    DomHandler.prototype.oncommentend = function () {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.oncdatastart = function () {\n        var text = new node_js_1.Text(\"\");\n        var node = new node_js_1.CDATA([text]);\n        this.addNode(node);\n        text.parent = node;\n        this.lastNode = text;\n    };\n    DomHandler.prototype.oncdataend = function () {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.onprocessinginstruction = function (name, data) {\n        var node = new node_js_1.ProcessingInstruction(name, data);\n        this.addNode(node);\n    };\n    DomHandler.prototype.handleCallback = function (error) {\n        if (typeof this.callback === \"function\") {\n            this.callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    };\n    DomHandler.prototype.addNode = function (node) {\n        var parent = this.tagStack[this.tagStack.length - 1];\n        var previousSibling = parent.children[parent.children.length - 1];\n        if (this.options.withStartIndices) {\n            node.startIndex = this.parser.startIndex;\n        }\n        if (this.options.withEndIndices) {\n            node.endIndex = this.parser.endIndex;\n        }\n        parent.children.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        node.parent = parent;\n        this.lastNode = null;\n    };\n    return DomHandler;\n}());\nexports.DomHandler = DomHandler;\nexports.default = DomHandler;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cloneNode = exports.hasChildren = exports.isDocument = exports.isDirective = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = exports.Element = exports.Document = exports.CDATA = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\nvar domelementtype_1 = require(\"domelementtype\");\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nvar Node = /** @class */ (function () {\n    function Node() {\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        /**\n         * Same as {@link parent}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.parent;\n        },\n        set: function (parent) {\n            this.parent = parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        /**\n         * Same as {@link prev}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.prev;\n        },\n        set: function (prev) {\n            this.prev = prev;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        /**\n         * Same as {@link next}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.next;\n        },\n        set: function (next) {\n            this.next = next;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    Node.prototype.cloneNode = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        return cloneNode(this, recursive);\n    };\n    return Node;\n}());\nexports.Node = Node;\n/**\n * A node that contains some data.\n */\nvar DataNode = /** @class */ (function (_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param data The content of the data node\n     */\n    function DataNode(data) {\n        var _this = _super.call(this) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        /**\n         * Same as {@link data}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.data;\n        },\n        set: function (data) {\n            this.data = data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataNode;\n}(Node));\nexports.DataNode = DataNode;\n/**\n * Text within the document.\n */\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Text;\n        return _this;\n    }\n    Object.defineProperty(Text.prototype, \"nodeType\", {\n        get: function () {\n            return 3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Text;\n}(DataNode));\nexports.Text = Text;\n/**\n * Comments within the document.\n */\nvar Comment = /** @class */ (function (_super) {\n    __extends(Comment, _super);\n    function Comment() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Comment;\n        return _this;\n    }\n    Object.defineProperty(Comment.prototype, \"nodeType\", {\n        get: function () {\n            return 8;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Comment;\n}(DataNode));\nexports.Comment = Comment;\n/**\n * Processing instructions, including doc types.\n */\nvar ProcessingInstruction = /** @class */ (function (_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, data) || this;\n        _this.name = name;\n        _this.type = domelementtype_1.ElementType.Directive;\n        return _this;\n    }\n    Object.defineProperty(ProcessingInstruction.prototype, \"nodeType\", {\n        get: function () {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ProcessingInstruction;\n}(DataNode));\nexports.ProcessingInstruction = ProcessingInstruction;\n/**\n * A `Node` that can have children.\n */\nvar NodeWithChildren = /** @class */ (function (_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    function NodeWithChildren(children) {\n        var _this = _super.call(this) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        /** First child of the node. */\n        get: function () {\n            var _a;\n            return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        /** Last child of the node. */\n        get: function () {\n            return this.children.length > 0\n                ? this.children[this.children.length - 1]\n                : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        /**\n         * Same as {@link children}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.children;\n        },\n        set: function (children) {\n            this.children = children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node));\nexports.NodeWithChildren = NodeWithChildren;\nvar CDATA = /** @class */ (function (_super) {\n    __extends(CDATA, _super);\n    function CDATA() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.CDATA;\n        return _this;\n    }\n    Object.defineProperty(CDATA.prototype, \"nodeType\", {\n        get: function () {\n            return 4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CDATA;\n}(NodeWithChildren));\nexports.CDATA = CDATA;\n/**\n * The root node of the document.\n */\nvar Document = /** @class */ (function (_super) {\n    __extends(Document, _super);\n    function Document() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Root;\n        return _this;\n    }\n    Object.defineProperty(Document.prototype, \"nodeType\", {\n        get: function () {\n            return 9;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Document;\n}(NodeWithChildren));\nexports.Document = Document;\n/**\n * An element within the DOM.\n */\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    function Element(name, attribs, children, type) {\n        if (children === void 0) { children = []; }\n        if (type === void 0) { type = name === \"script\"\n            ? domelementtype_1.ElementType.Script\n            : name === \"style\"\n                ? domelementtype_1.ElementType.Style\n                : domelementtype_1.ElementType.Tag; }\n        var _this = _super.call(this, children) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.type = type;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"nodeType\", {\n        get: function () {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        /**\n         * Same as {@link name}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.name;\n        },\n        set: function (name) {\n            this.name = name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n        get: function () {\n            var _this = this;\n            return Object.keys(this.attribs).map(function (name) {\n                var _a, _b;\n                return ({\n                    name: name,\n                    value: _this.attribs[name],\n                    namespace: (_a = _this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                    prefix: (_b = _this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name],\n                });\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren));\nexports.Element = Element;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */\nfunction isTag(node) {\n    return (0, domelementtype_1.isTag)(node);\n}\nexports.isTag = isTag;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `CDATA`, `false` otherwise.\n */\nfunction isCDATA(node) {\n    return node.type === domelementtype_1.ElementType.CDATA;\n}\nexports.isCDATA = isCDATA;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Text`, `false` otherwise.\n */\nfunction isText(node) {\n    return node.type === domelementtype_1.ElementType.Text;\n}\nexports.isText = isText;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Comment`, `false` otherwise.\n */\nfunction isComment(node) {\n    return node.type === domelementtype_1.ElementType.Comment;\n}\nexports.isComment = isComment;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nfunction isDirective(node) {\n    return node.type === domelementtype_1.ElementType.Directive;\n}\nexports.isDirective = isDirective;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nfunction isDocument(node) {\n    return node.type === domelementtype_1.ElementType.Root;\n}\nexports.isDocument = isDocument;\n/**\n * @param node Node to check.\n * @returns `true` if the node has children, `false` otherwise.\n */\nfunction hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\nexports.hasChildren = hasChildren;\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nfunction cloneNode(node, recursive) {\n    if (recursive === void 0) { recursive = false; }\n    var result;\n    if (isText(node)) {\n        result = new Text(node.data);\n    }\n    else if (isComment(node)) {\n        result = new Comment(node.data);\n    }\n    else if (isTag(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_1 = new Element(node.name, __assign({}, node.attribs), children);\n        children.forEach(function (child) { return (child.parent = clone_1); });\n        if (node.namespace != null) {\n            clone_1.namespace = node.namespace;\n        }\n        if (node[\"x-attribsNamespace\"]) {\n            clone_1[\"x-attribsNamespace\"] = __assign({}, node[\"x-attribsNamespace\"]);\n        }\n        if (node[\"x-attribsPrefix\"]) {\n            clone_1[\"x-attribsPrefix\"] = __assign({}, node[\"x-attribsPrefix\"]);\n        }\n        result = clone_1;\n    }\n    else if (isCDATA(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_2 = new CDATA(children);\n        children.forEach(function (child) { return (child.parent = clone_2); });\n        result = clone_2;\n    }\n    else if (isDocument(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_3 = new Document(children);\n        children.forEach(function (child) { return (child.parent = clone_3); });\n        if (node[\"x-mode\"]) {\n            clone_3[\"x-mode\"] = node[\"x-mode\"];\n        }\n        result = clone_3;\n    }\n    else if (isDirective(node)) {\n        var instruction = new ProcessingInstruction(node.name, node.data);\n        if (node[\"x-name\"] != null) {\n            instruction[\"x-name\"] = node[\"x-name\"];\n            instruction[\"x-publicId\"] = node[\"x-publicId\"];\n            instruction[\"x-systemId\"] = node[\"x-systemId\"];\n        }\n        result = instruction;\n    }\n    else {\n        throw new Error(\"Not implemented yet: \".concat(node.type));\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    if (node.sourceCodeLocation != null) {\n        result.sourceCodeLocation = node.sourceCodeLocation;\n    }\n    return result;\n}\nexports.cloneNode = cloneNode;\nfunction cloneChildren(childs) {\n    var children = childs.map(function (child) { return cloneNode(child, true); });\n    for (var i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n","import {\n  BOOLEAN,\n  OVERLOADED_BOOLEAN,\n  getPropertyInfo,\n  isCustomAttribute,\n  possibleStandardNames,\n} from 'react-property';\nimport { PRESERVE_CUSTOM_ATTRIBUTES, setStyleProp } from './utilities';\n\n// https://react.dev/learn/sharing-state-between-components#controlled-and-uncontrolled-components\n// https://developer.mozilla.org/docs/Web/HTML/Attributes\nconst UNCONTROLLED_COMPONENT_ATTRIBUTES = ['checked', 'value'] as const;\nconst UNCONTROLLED_COMPONENT_NAMES = ['input', 'select', 'textarea'] as const;\n\ntype UncontrolledComponentAttributes =\n  (typeof UNCONTROLLED_COMPONENT_ATTRIBUTES)[number];\n\ntype UncontrolledComponentNames = (typeof UNCONTROLLED_COMPONENT_NAMES)[number];\n\nconst valueOnlyInputs = {\n  reset: true,\n  submit: true,\n} as const;\n\nexport type ValueOnlyInputsKeys = keyof typeof valueOnlyInputs;\n\nexport type Attributes = Record<PropertyKey, string>;\n\nexport type Props = Record<PropertyKey, string | boolean> & {\n  dangerouslySetInnerHTML?: {\n    __html: string;\n  };\n  key?: string | number;\n  style?: Record<PropertyKey, string>;\n};\n\n/**\n * Converts HTML/SVG DOM attributes to React props.\n *\n * @param attributes - HTML/SVG DOM attributes.\n * @param nodeName - DOM node name.\n * @returns - React props.\n */\nexport default function attributesToProps(\n  attributes: Attributes = {},\n  nodeName?: string,\n): Props {\n  const props: Props = {};\n\n  const isInputValueOnly = Boolean(\n    attributes.type && valueOnlyInputs[attributes.type as ValueOnlyInputsKeys],\n  );\n\n  for (const attributeName in attributes) {\n    const attributeValue = attributes[attributeName];\n\n    // ARIA (aria-*) or custom data (data-*) attribute\n    if (isCustomAttribute(attributeName)) {\n      props[attributeName] = attributeValue;\n      continue;\n    }\n\n    // convert HTML/SVG attribute to React prop\n    const attributeNameLowerCased = attributeName.toLowerCase();\n    let propName = getPropName(attributeNameLowerCased);\n\n    if (propName) {\n      const propertyInfo = getPropertyInfo(propName);\n\n      // convert attribute to uncontrolled component prop (e.g., `value` to `defaultValue`)\n      if (\n        UNCONTROLLED_COMPONENT_ATTRIBUTES.includes(\n          propName as UncontrolledComponentAttributes,\n        ) &&\n        UNCONTROLLED_COMPONENT_NAMES.includes(\n          nodeName! as UncontrolledComponentNames,\n        ) &&\n        !isInputValueOnly\n      ) {\n        propName = getPropName('default' + attributeNameLowerCased);\n      }\n\n      props[propName] = attributeValue;\n\n      switch (propertyInfo && propertyInfo.type) {\n        case BOOLEAN:\n          props[propName] = true;\n          break;\n        case OVERLOADED_BOOLEAN:\n          if (attributeValue === '') {\n            props[propName] = true;\n          }\n          break;\n      }\n      continue;\n    }\n\n    // preserve custom attribute if React >=16\n    if (PRESERVE_CUSTOM_ATTRIBUTES) {\n      props[attributeName] = attributeValue;\n    }\n  }\n\n  // transform inline style to object\n  setStyleProp(attributes.style, props);\n\n  return props;\n}\n\n/**\n * Gets prop name from lowercased attribute name.\n *\n * @param attributeName - Lowercased attribute name.\n * @returns - Prop name.\n */\nfunction getPropName(attributeName: string): string {\n  return possibleStandardNames[attributeName];\n}\n","import { cloneElement, createElement, isValidElement } from 'react';\nimport type { JSX } from 'react';\nimport type { Element, DOMNode, Text } from 'html-dom-parser';\n\nimport attributesToProps from './attributes-to-props';\nimport type { Props } from './attributes-to-props';\nimport {\n  PRESERVE_CUSTOM_ATTRIBUTES,\n  canTextBeChildOfNode,\n  isCustomComponent,\n  returnFirstArg,\n  setStyleProp,\n} from './utilities';\n\nimport type { HTMLReactParserOptions } from './types';\n\nconst React = {\n  cloneElement,\n  createElement,\n  isValidElement,\n} as const;\n\n/**\n * Converts DOM nodes to JSX element(s).\n *\n * @param nodes - DOM nodes.\n * @param options - Options.\n * @returns - String or JSX element(s).\n */\nexport default function domToReact(\n  nodes: DOMNode[],\n  options: HTMLReactParserOptions = {},\n): string | JSX.Element | JSX.Element[] {\n  const reactElements = [];\n\n  const hasReplace = typeof options.replace === 'function';\n  const transform = options.transform || returnFirstArg;\n  const { cloneElement, createElement, isValidElement } =\n    options.library || React;\n\n  const nodesLength = nodes.length;\n\n  for (let index = 0; index < nodesLength; index++) {\n    const node = nodes[index];\n\n    // replace with custom React element (if present)\n    if (hasReplace) {\n      let replaceElement = options.replace!(node, index) as JSX.Element;\n\n      if (isValidElement(replaceElement)) {\n        // set \"key\" prop for sibling elements\n        // https://react.dev/learn/rendering-lists#rules-of-keys\n        if (nodesLength > 1) {\n          replaceElement = cloneElement(replaceElement, {\n            key: replaceElement.key || index,\n          });\n        }\n\n        reactElements.push(transform(replaceElement, node, index));\n        continue;\n      }\n    }\n\n    if (node.type === 'text') {\n      const isWhitespace = !node.data.trim().length;\n\n      // We have a whitespace node that can't be nested in its parent\n      // so skip it\n      if (\n        isWhitespace &&\n        node.parent &&\n        !canTextBeChildOfNode(node.parent as Element)\n      ) {\n        continue;\n      }\n\n      // Trim is enabled and we have a whitespace node\n      // so skip it\n      if (options.trim && isWhitespace) {\n        continue;\n      }\n\n      // We have a text node that's not whitespace and it can be nested\n      // in its parent so add it to the results\n      reactElements.push(transform(node.data, node, index));\n      continue;\n    }\n\n    const element = node as Element;\n    let props: Props = {};\n\n    if (skipAttributesToProps(element)) {\n      setStyleProp(element.attribs.style, element.attribs);\n      props = element.attribs;\n    } else if (element.attribs) {\n      props = attributesToProps(element.attribs, element.name);\n    }\n\n    let children: ReturnType<typeof domToReact> | undefined;\n\n    switch (node.type) {\n      case 'script':\n      case 'style':\n        // prevent text in <script> or <style> from being escaped\n        // https://react.dev/reference/react-dom/components/common#dangerously-setting-the-inner-html\n        if (node.children[0]) {\n          props.dangerouslySetInnerHTML = {\n            __html: (node.children[0] as Text).data,\n          };\n        }\n        break;\n\n      case 'tag':\n        // setting textarea value in children is an antipattern in React\n        // https://react.dev/reference/react-dom/components/textarea#caveats\n        if (node.name === 'textarea' && node.children[0]) {\n          props.defaultValue = (node.children[0] as Text).data;\n        } else if (node.children && node.children.length) {\n          // continue recursion of creating React elements (if applicable)\n          children = domToReact(node.children as Text[], options);\n        }\n        break;\n\n      // skip all other cases (e.g., comment)\n      default:\n        continue;\n    }\n\n    // set \"key\" prop for sibling elements\n    // https://react.dev/learn/rendering-lists#rules-of-keys\n    if (nodesLength > 1) {\n      props.key = index;\n    }\n\n    reactElements.push(\n      transform(createElement(node.name, props, children), node, index),\n    );\n  }\n\n  return reactElements.length === 1 ? reactElements[0] : reactElements;\n}\n\n/**\n * Determines whether DOM element attributes should be transformed to props.\n * Web Components should not have their attributes transformed except for `style`.\n *\n * @param node - Element node.\n * @returns - Whether the node attributes should be converted to props.\n */\nfunction skipAttributesToProps(node: Element): boolean {\n  return (\n    PRESERVE_CUSTOM_ATTRIBUTES &&\n    node.type === 'tag' &&\n    isCustomComponent(node.name, node.attribs)\n  );\n}\n","import htmlToDOM from 'html-dom-parser';\n\nimport attributesToProps from './attributes-to-props';\nimport domToReact from './dom-to-react';\nimport type { HTMLReactParserOptions } from './types';\n\nexport { Comment, Element, ProcessingInstruction, Text } from 'domhandler';\nexport type { DOMNode } from 'html-dom-parser';\n\nexport type { HTMLReactParserOptions };\nexport { attributesToProps, domToReact, htmlToDOM };\n\nconst domParserOptions = { lowerCaseAttributeNames: false } as const;\n\n/**\n * Converts HTML string to React elements.\n *\n * @param html - HTML string.\n * @param options - Parser options.\n * @returns - React element(s), empty array, or string.\n */\nexport default function HTMLReactParser(\n  html: string,\n  options?: HTMLReactParserOptions,\n): ReturnType<typeof domToReact> {\n  if (typeof html !== 'string') {\n    throw new TypeError('First argument must be a string');\n  }\n\n  if (!html) {\n    return [];\n  }\n\n  return domToReact(\n    htmlToDOM(html, options?.htmlparser2 || domParserOptions),\n    options,\n  );\n}\n","import { version } from 'react';\nimport StyleToJS from 'style-to-js';\nimport type { Element } from 'html-dom-parser';\n\nimport type { Props } from './attributes-to-props';\n\nconst RESERVED_SVG_MATHML_ELEMENTS = new Set([\n  'annotation-xml',\n  'color-profile',\n  'font-face',\n  'font-face-src',\n  'font-face-uri',\n  'font-face-format',\n  'font-face-name',\n  'missing-glyph',\n] as const);\n\ntype ReservedSvgMathmlElements =\n  typeof RESERVED_SVG_MATHML_ELEMENTS extends Set<infer T> ? T : never;\n\n/**\n * Check if a tag is a custom component.\n *\n * @see {@link https://github.com/facebook/react/blob/v16.6.3/packages/react-dom/src/shared/isCustomComponent.js}\n *\n * @param tagName - Tag name.\n * @param props - Props passed to the element.\n * @returns - Whether the tag is custom component.\n */\nexport function isCustomComponent(\n  tagName: string,\n  props?: Record<PropertyKey, string>,\n): boolean {\n  if (!tagName.includes('-')) {\n    return Boolean(props && typeof props.is === 'string');\n  }\n\n  // These are reserved SVG and MathML elements.\n  // We don't mind this whitelist too much because we expect it to never grow.\n  // The alternative is to track the namespace in a few places which is convoluted.\n  // https://w3c.github.io/webcomponents/spec/custom/#custom-elements-core-concepts\n  if (RESERVED_SVG_MATHML_ELEMENTS.has(tagName as ReservedSvgMathmlElements)) {\n    return false;\n  }\n\n  return true;\n}\n\nconst styleOptions = {\n  reactCompat: true,\n} as const;\n\n/**\n * Sets style prop.\n *\n * @param style - Inline style.\n * @param props - Props object.\n */\nexport function setStyleProp(style: string, props: Props): void {\n  if (typeof style !== 'string') {\n    return;\n  }\n\n  if (!style.trim()) {\n    props.style = {};\n    return;\n  }\n\n  try {\n    props.style = StyleToJS(style, styleOptions);\n  } catch (error) {\n    props.style = {};\n  }\n}\n\n/**\n * @see https://reactjs.org/blog/2017/09/08/dom-attributes-in-react-16.html\n */\nexport const PRESERVE_CUSTOM_ATTRIBUTES = Number(version.split('.')[0]) >= 16;\n\n/**\n * @see https://github.com/facebook/react/blob/cae635054e17a6f107a39d328649137b83f25972/packages/react-dom/src/client/validateDOMNesting.js#L213\n */\nexport const ELEMENTS_WITH_NO_TEXT_CHILDREN = new Set([\n  'tr',\n  'tbody',\n  'thead',\n  'tfoot',\n  'colgroup',\n  'table',\n  'head',\n  'html',\n  'frameset',\n] as const);\n\ntype ElementsWithNoTextChildren =\n  typeof ELEMENTS_WITH_NO_TEXT_CHILDREN extends Set<infer T> ? T : never;\n\n/**\n * Checks if the given node can contain text nodes\n *\n * @param node - Element node.\n * @returns - Whether the node can contain text nodes.\n */\nexport const canTextBeChildOfNode = (node: Element) =>\n  !ELEMENTS_WITH_NO_TEXT_CHILDREN.has(node.name as ElementsWithNoTextChildren);\n\n/**\n * Returns the first argument as is.\n *\n * @param arg - The argument to be returned.\n * @returns - The input argument `arg`.\n */\nexport const returnFirstArg = (arg: any) => arg;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DomHandler = void 0;\nvar domelementtype_1 = require(\"domelementtype\");\nvar node_js_1 = require(\"./node.js\");\n__exportStar(require(\"./node.js\"), exports);\n// Default options\nvar defaultOpts = {\n    withStartIndices: false,\n    withEndIndices: false,\n    xmlMode: false,\n};\nvar DomHandler = /** @class */ (function () {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    function DomHandler(callback, options, elementCB) {\n        /** The elements of the DOM */\n        this.dom = [];\n        /** The root element for the DOM */\n        this.root = new node_js_1.Document(this.dom);\n        /** Indicated whether parsing has been completed. */\n        this.done = false;\n        /** Stack of open tags. */\n        this.tagStack = [this.root];\n        /** A data node that is still being written to. */\n        this.lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this.parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this.callback = callback !== null && callback !== void 0 ? callback : null;\n        this.options = options !== null && options !== void 0 ? options : defaultOpts;\n        this.elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    DomHandler.prototype.onparserinit = function (parser) {\n        this.parser = parser;\n    };\n    // Resets the handler back to starting state\n    DomHandler.prototype.onreset = function () {\n        this.dom = [];\n        this.root = new node_js_1.Document(this.dom);\n        this.done = false;\n        this.tagStack = [this.root];\n        this.lastNode = null;\n        this.parser = null;\n    };\n    // Signals the handler that parsing is done\n    DomHandler.prototype.onend = function () {\n        if (this.done)\n            return;\n        this.done = true;\n        this.parser = null;\n        this.handleCallback(null);\n    };\n    DomHandler.prototype.onerror = function (error) {\n        this.handleCallback(error);\n    };\n    DomHandler.prototype.onclosetag = function () {\n        this.lastNode = null;\n        var elem = this.tagStack.pop();\n        if (this.options.withEndIndices) {\n            elem.endIndex = this.parser.endIndex;\n        }\n        if (this.elementCB)\n            this.elementCB(elem);\n    };\n    DomHandler.prototype.onopentag = function (name, attribs) {\n        var type = this.options.xmlMode ? domelementtype_1.ElementType.Tag : undefined;\n        var element = new node_js_1.Element(name, attribs, undefined, type);\n        this.addNode(element);\n        this.tagStack.push(element);\n    };\n    DomHandler.prototype.ontext = function (data) {\n        var lastNode = this.lastNode;\n        if (lastNode && lastNode.type === domelementtype_1.ElementType.Text) {\n            lastNode.data += data;\n            if (this.options.withEndIndices) {\n                lastNode.endIndex = this.parser.endIndex;\n            }\n        }\n        else {\n            var node = new node_js_1.Text(data);\n            this.addNode(node);\n            this.lastNode = node;\n        }\n    };\n    DomHandler.prototype.oncomment = function (data) {\n        if (this.lastNode && this.lastNode.type === domelementtype_1.ElementType.Comment) {\n            this.lastNode.data += data;\n            return;\n        }\n        var node = new node_js_1.Comment(data);\n        this.addNode(node);\n        this.lastNode = node;\n    };\n    DomHandler.prototype.oncommentend = function () {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.oncdatastart = function () {\n        var text = new node_js_1.Text(\"\");\n        var node = new node_js_1.CDATA([text]);\n        this.addNode(node);\n        text.parent = node;\n        this.lastNode = text;\n    };\n    DomHandler.prototype.oncdataend = function () {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.onprocessinginstruction = function (name, data) {\n        var node = new node_js_1.ProcessingInstruction(name, data);\n        this.addNode(node);\n    };\n    DomHandler.prototype.handleCallback = function (error) {\n        if (typeof this.callback === \"function\") {\n            this.callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    };\n    DomHandler.prototype.addNode = function (node) {\n        var parent = this.tagStack[this.tagStack.length - 1];\n        var previousSibling = parent.children[parent.children.length - 1];\n        if (this.options.withStartIndices) {\n            node.startIndex = this.parser.startIndex;\n        }\n        if (this.options.withEndIndices) {\n            node.endIndex = this.parser.endIndex;\n        }\n        parent.children.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        node.parent = parent;\n        this.lastNode = null;\n    };\n    return DomHandler;\n}());\nexports.DomHandler = DomHandler;\nexports.default = DomHandler;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cloneNode = exports.hasChildren = exports.isDocument = exports.isDirective = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = exports.Element = exports.Document = exports.CDATA = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\nvar domelementtype_1 = require(\"domelementtype\");\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nvar Node = /** @class */ (function () {\n    function Node() {\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        /**\n         * Same as {@link parent}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.parent;\n        },\n        set: function (parent) {\n            this.parent = parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        /**\n         * Same as {@link prev}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.prev;\n        },\n        set: function (prev) {\n            this.prev = prev;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        /**\n         * Same as {@link next}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.next;\n        },\n        set: function (next) {\n            this.next = next;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    Node.prototype.cloneNode = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        return cloneNode(this, recursive);\n    };\n    return Node;\n}());\nexports.Node = Node;\n/**\n * A node that contains some data.\n */\nvar DataNode = /** @class */ (function (_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param data The content of the data node\n     */\n    function DataNode(data) {\n        var _this = _super.call(this) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        /**\n         * Same as {@link data}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.data;\n        },\n        set: function (data) {\n            this.data = data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataNode;\n}(Node));\nexports.DataNode = DataNode;\n/**\n * Text within the document.\n */\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Text;\n        return _this;\n    }\n    Object.defineProperty(Text.prototype, \"nodeType\", {\n        get: function () {\n            return 3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Text;\n}(DataNode));\nexports.Text = Text;\n/**\n * Comments within the document.\n */\nvar Comment = /** @class */ (function (_super) {\n    __extends(Comment, _super);\n    function Comment() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Comment;\n        return _this;\n    }\n    Object.defineProperty(Comment.prototype, \"nodeType\", {\n        get: function () {\n            return 8;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Comment;\n}(DataNode));\nexports.Comment = Comment;\n/**\n * Processing instructions, including doc types.\n */\nvar ProcessingInstruction = /** @class */ (function (_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, data) || this;\n        _this.name = name;\n        _this.type = domelementtype_1.ElementType.Directive;\n        return _this;\n    }\n    Object.defineProperty(ProcessingInstruction.prototype, \"nodeType\", {\n        get: function () {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ProcessingInstruction;\n}(DataNode));\nexports.ProcessingInstruction = ProcessingInstruction;\n/**\n * A `Node` that can have children.\n */\nvar NodeWithChildren = /** @class */ (function (_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    function NodeWithChildren(children) {\n        var _this = _super.call(this) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        /** First child of the node. */\n        get: function () {\n            var _a;\n            return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        /** Last child of the node. */\n        get: function () {\n            return this.children.length > 0\n                ? this.children[this.children.length - 1]\n                : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        /**\n         * Same as {@link children}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.children;\n        },\n        set: function (children) {\n            this.children = children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node));\nexports.NodeWithChildren = NodeWithChildren;\nvar CDATA = /** @class */ (function (_super) {\n    __extends(CDATA, _super);\n    function CDATA() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.CDATA;\n        return _this;\n    }\n    Object.defineProperty(CDATA.prototype, \"nodeType\", {\n        get: function () {\n            return 4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CDATA;\n}(NodeWithChildren));\nexports.CDATA = CDATA;\n/**\n * The root node of the document.\n */\nvar Document = /** @class */ (function (_super) {\n    __extends(Document, _super);\n    function Document() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Root;\n        return _this;\n    }\n    Object.defineProperty(Document.prototype, \"nodeType\", {\n        get: function () {\n            return 9;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Document;\n}(NodeWithChildren));\nexports.Document = Document;\n/**\n * An element within the DOM.\n */\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    function Element(name, attribs, children, type) {\n        if (children === void 0) { children = []; }\n        if (type === void 0) { type = name === \"script\"\n            ? domelementtype_1.ElementType.Script\n            : name === \"style\"\n                ? domelementtype_1.ElementType.Style\n                : domelementtype_1.ElementType.Tag; }\n        var _this = _super.call(this, children) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.type = type;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"nodeType\", {\n        get: function () {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        /**\n         * Same as {@link name}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.name;\n        },\n        set: function (name) {\n            this.name = name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n        get: function () {\n            var _this = this;\n            return Object.keys(this.attribs).map(function (name) {\n                var _a, _b;\n                return ({\n                    name: name,\n                    value: _this.attribs[name],\n                    namespace: (_a = _this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                    prefix: (_b = _this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name],\n                });\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren));\nexports.Element = Element;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */\nfunction isTag(node) {\n    return (0, domelementtype_1.isTag)(node);\n}\nexports.isTag = isTag;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `CDATA`, `false` otherwise.\n */\nfunction isCDATA(node) {\n    return node.type === domelementtype_1.ElementType.CDATA;\n}\nexports.isCDATA = isCDATA;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Text`, `false` otherwise.\n */\nfunction isText(node) {\n    return node.type === domelementtype_1.ElementType.Text;\n}\nexports.isText = isText;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Comment`, `false` otherwise.\n */\nfunction isComment(node) {\n    return node.type === domelementtype_1.ElementType.Comment;\n}\nexports.isComment = isComment;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nfunction isDirective(node) {\n    return node.type === domelementtype_1.ElementType.Directive;\n}\nexports.isDirective = isDirective;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nfunction isDocument(node) {\n    return node.type === domelementtype_1.ElementType.Root;\n}\nexports.isDocument = isDocument;\n/**\n * @param node Node to check.\n * @returns `true` if the node has children, `false` otherwise.\n */\nfunction hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\nexports.hasChildren = hasChildren;\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nfunction cloneNode(node, recursive) {\n    if (recursive === void 0) { recursive = false; }\n    var result;\n    if (isText(node)) {\n        result = new Text(node.data);\n    }\n    else if (isComment(node)) {\n        result = new Comment(node.data);\n    }\n    else if (isTag(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_1 = new Element(node.name, __assign({}, node.attribs), children);\n        children.forEach(function (child) { return (child.parent = clone_1); });\n        if (node.namespace != null) {\n            clone_1.namespace = node.namespace;\n        }\n        if (node[\"x-attribsNamespace\"]) {\n            clone_1[\"x-attribsNamespace\"] = __assign({}, node[\"x-attribsNamespace\"]);\n        }\n        if (node[\"x-attribsPrefix\"]) {\n            clone_1[\"x-attribsPrefix\"] = __assign({}, node[\"x-attribsPrefix\"]);\n        }\n        result = clone_1;\n    }\n    else if (isCDATA(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_2 = new CDATA(children);\n        children.forEach(function (child) { return (child.parent = clone_2); });\n        result = clone_2;\n    }\n    else if (isDocument(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_3 = new Document(children);\n        children.forEach(function (child) { return (child.parent = clone_3); });\n        if (node[\"x-mode\"]) {\n            clone_3[\"x-mode\"] = node[\"x-mode\"];\n        }\n        result = clone_3;\n    }\n    else if (isDirective(node)) {\n        var instruction = new ProcessingInstruction(node.name, node.data);\n        if (node[\"x-name\"] != null) {\n            instruction[\"x-name\"] = node[\"x-name\"];\n            instruction[\"x-publicId\"] = node[\"x-publicId\"];\n            instruction[\"x-systemId\"] = node[\"x-systemId\"];\n        }\n        result = instruction;\n    }\n    else {\n        throw new Error(\"Not implemented yet: \".concat(node.type));\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    if (node.sourceCodeLocation != null) {\n        result.sourceCodeLocation = node.sourceCodeLocation;\n    }\n    return result;\n}\nexports.cloneNode = cloneNode;\nfunction cloneChildren(childs) {\n    var children = childs.map(function (child) { return cloneNode(child, true); });\n    for (var i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n","// http://www.w3.org/TR/CSS21/grammar.html\n// https://github.com/visionmedia/css-parse/pull/49#issuecomment-30088027\nvar COMMENT_REGEX = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;\n\nvar NEWLINE_REGEX = /\\n/g;\nvar WHITESPACE_REGEX = /^\\s*/;\n\n// declaration\nvar PROPERTY_REGEX = /^(\\*?[-#/*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/;\nvar COLON_REGEX = /^:\\s*/;\nvar VALUE_REGEX = /^((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^)]*?\\)|[^};])+)/;\nvar SEMICOLON_REGEX = /^[;\\s]*/;\n\n// https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String/Trim#Polyfill\nvar TRIM_REGEX = /^\\s+|\\s+$/g;\n\n// strings\nvar NEWLINE = '\\n';\nvar FORWARD_SLASH = '/';\nvar ASTERISK = '*';\nvar EMPTY_STRING = '';\n\n// types\nvar TYPE_COMMENT = 'comment';\nvar TYPE_DECLARATION = 'declaration';\n\n/**\n * @param {String} style\n * @param {Object} [options]\n * @return {Object[]}\n * @throws {TypeError}\n * @throws {Error}\n */\nmodule.exports = function (style, options) {\n  if (typeof style !== 'string') {\n    throw new TypeError('First argument must be a string');\n  }\n\n  if (!style) return [];\n\n  options = options || {};\n\n  /**\n   * Positional.\n   */\n  var lineno = 1;\n  var column = 1;\n\n  /**\n   * Update lineno and column based on `str`.\n   *\n   * @param {String} str\n   */\n  function updatePosition(str) {\n    var lines = str.match(NEWLINE_REGEX);\n    if (lines) lineno += lines.length;\n    var i = str.lastIndexOf(NEWLINE);\n    column = ~i ? str.length - i : column + str.length;\n  }\n\n  /**\n   * Mark position and patch `node.position`.\n   *\n   * @return {Function}\n   */\n  function position() {\n    var start = { line: lineno, column: column };\n    return function (node) {\n      node.position = new Position(start);\n      whitespace();\n      return node;\n    };\n  }\n\n  /**\n   * Store position information for a node.\n   *\n   * @constructor\n   * @property {Object} start\n   * @property {Object} end\n   * @property {undefined|String} source\n   */\n  function Position(start) {\n    this.start = start;\n    this.end = { line: lineno, column: column };\n    this.source = options.source;\n  }\n\n  /**\n   * Non-enumerable source string.\n   */\n  Position.prototype.content = style;\n\n  var errorsList = [];\n\n  /**\n   * Error `msg`.\n   *\n   * @param {String} msg\n   * @throws {Error}\n   */\n  function error(msg) {\n    var err = new Error(\n      options.source + ':' + lineno + ':' + column + ': ' + msg\n    );\n    err.reason = msg;\n    err.filename = options.source;\n    err.line = lineno;\n    err.column = column;\n    err.source = style;\n\n    if (options.silent) {\n      errorsList.push(err);\n    } else {\n      throw err;\n    }\n  }\n\n  /**\n   * Match `re` and return captures.\n   *\n   * @param {RegExp} re\n   * @return {undefined|Array}\n   */\n  function match(re) {\n    var m = re.exec(style);\n    if (!m) return;\n    var str = m[0];\n    updatePosition(str);\n    style = style.slice(str.length);\n    return m;\n  }\n\n  /**\n   * Parse whitespace.\n   */\n  function whitespace() {\n    match(WHITESPACE_REGEX);\n  }\n\n  /**\n   * Parse comments.\n   *\n   * @param {Object[]} [rules]\n   * @return {Object[]}\n   */\n  function comments(rules) {\n    var c;\n    rules = rules || [];\n    while ((c = comment())) {\n      if (c !== false) {\n        rules.push(c);\n      }\n    }\n    return rules;\n  }\n\n  /**\n   * Parse comment.\n   *\n   * @return {Object}\n   * @throws {Error}\n   */\n  function comment() {\n    var pos = position();\n    if (FORWARD_SLASH != style.charAt(0) || ASTERISK != style.charAt(1)) return;\n\n    var i = 2;\n    while (\n      EMPTY_STRING != style.charAt(i) &&\n      (ASTERISK != style.charAt(i) || FORWARD_SLASH != style.charAt(i + 1))\n    ) {\n      ++i;\n    }\n    i += 2;\n\n    if (EMPTY_STRING === style.charAt(i - 1)) {\n      return error('End of comment missing');\n    }\n\n    var str = style.slice(2, i - 2);\n    column += 2;\n    updatePosition(str);\n    style = style.slice(i);\n    column += 2;\n\n    return pos({\n      type: TYPE_COMMENT,\n      comment: str\n    });\n  }\n\n  /**\n   * Parse declaration.\n   *\n   * @return {Object}\n   * @throws {Error}\n   */\n  function declaration() {\n    var pos = position();\n\n    // prop\n    var prop = match(PROPERTY_REGEX);\n    if (!prop) return;\n    comment();\n\n    // :\n    if (!match(COLON_REGEX)) return error(\"property missing ':'\");\n\n    // val\n    var val = match(VALUE_REGEX);\n\n    var ret = pos({\n      type: TYPE_DECLARATION,\n      property: trim(prop[0].replace(COMMENT_REGEX, EMPTY_STRING)),\n      value: val\n        ? trim(val[0].replace(COMMENT_REGEX, EMPTY_STRING))\n        : EMPTY_STRING\n    });\n\n    // ;\n    match(SEMICOLON_REGEX);\n\n    return ret;\n  }\n\n  /**\n   * Parse declarations.\n   *\n   * @return {Object[]}\n   */\n  function declarations() {\n    var decls = [];\n\n    comments(decls);\n\n    // declarations\n    var decl;\n    while ((decl = declaration())) {\n      if (decl !== false) {\n        decls.push(decl);\n        comments(decls);\n      }\n    }\n\n    return decls;\n  }\n\n  whitespace();\n  return declarations();\n};\n\n/**\n * Trim `str`.\n *\n * @param {String} str\n * @return {String}\n */\nfunction trim(str) {\n  return str ? str.replace(TRIM_REGEX, EMPTY_STRING) : EMPTY_STRING;\n}\n","'use strict';\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n\n\n\n// A reserved attribute.\n// It is handled by React separately and shouldn't be written to the DOM.\nconst RESERVED = 0;\n\n// A simple string attribute.\n// Attributes that aren't in the filter are presumed to have this type.\nconst STRING = 1;\n\n// A string attribute that accepts booleans in React. In HTML, these are called\n// \"enumerated\" attributes with \"true\" and \"false\" as possible values.\n// When true, it should be set to a \"true\" string.\n// When false, it should be set to a \"false\" string.\nconst BOOLEANISH_STRING = 2;\n\n// A real boolean attribute.\n// When true, it should be present (set either to an empty string or its name).\n// When false, it should be omitted.\nconst BOOLEAN = 3;\n\n// An attribute that can be used as a flag as well as with a value.\n// When true, it should be present (set either to an empty string or its name).\n// When false, it should be omitted.\n// For any other value, should be present with that value.\nconst OVERLOADED_BOOLEAN = 4;\n\n// An attribute that must be numeric or parse as a numeric.\n// When falsy, it should be removed.\nconst NUMERIC = 5;\n\n// An attribute that must be positive numeric or parse as a positive numeric.\n// When falsy, it should be removed.\nconst POSITIVE_NUMERIC = 6;\n\nfunction getPropertyInfo(name) {\n  return properties.hasOwnProperty(name) ? properties[name] : null;\n}\n\nfunction PropertyInfoRecord(\n  name,\n  type,\n  mustUseProperty,\n  attributeName,\n  attributeNamespace,\n  sanitizeURL,\n  removeEmptyString,\n) {\n  this.acceptsBooleans =\n    type === BOOLEANISH_STRING ||\n    type === BOOLEAN ||\n    type === OVERLOADED_BOOLEAN;\n  this.attributeName = attributeName;\n  this.attributeNamespace = attributeNamespace;\n  this.mustUseProperty = mustUseProperty;\n  this.propertyName = name;\n  this.type = type;\n  this.sanitizeURL = sanitizeURL;\n  this.removeEmptyString = removeEmptyString;\n}\n\n// When adding attributes to this list, be sure to also add them to\n// the `possibleStandardNames` module to ensure casing and incorrect\n// name warnings.\nconst properties = {};\n\n// These props are reserved by React. They shouldn't be written to the DOM.\nconst reservedProps = [\n  'children',\n  'dangerouslySetInnerHTML',\n  // TODO: This prevents the assignment of defaultValue to regular\n  // elements (not just inputs). Now that ReactDOMInput assigns to the\n  // defaultValue property -- do we need this?\n  'defaultValue',\n  'defaultChecked',\n  'innerHTML',\n  'suppressContentEditableWarning',\n  'suppressHydrationWarning',\n  'style',\n];\n\nreservedProps.forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    RESERVED,\n    false, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// A few React string attributes have a different name.\n// This is a mapping from React prop names to the attribute names.\n[\n  ['acceptCharset', 'accept-charset'],\n  ['className', 'class'],\n  ['htmlFor', 'for'],\n  ['httpEquiv', 'http-equiv'],\n].forEach(([name, attributeName]) => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    STRING,\n    false, // mustUseProperty\n    attributeName, // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are \"enumerated\" HTML attributes that accept \"true\" and \"false\".\n// In React, we let users pass `true` and `false` even though technically\n// these aren't boolean attributes (they are coerced to strings).\n['contentEditable', 'draggable', 'spellCheck', 'value'].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    BOOLEANISH_STRING,\n    false, // mustUseProperty\n    name.toLowerCase(), // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are \"enumerated\" SVG attributes that accept \"true\" and \"false\".\n// In React, we let users pass `true` and `false` even though technically\n// these aren't boolean attributes (they are coerced to strings).\n// Since these are SVG attributes, their attribute names are case-sensitive.\n[\n  'autoReverse',\n  'externalResourcesRequired',\n  'focusable',\n  'preserveAlpha',\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    BOOLEANISH_STRING,\n    false, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are HTML boolean attributes.\n[\n  'allowFullScreen',\n  'async',\n  // Note: there is a special case that prevents it from being written to the DOM\n  // on the client side because the browsers are inconsistent. Instead we call focus().\n  'autoFocus',\n  'autoPlay',\n  'controls',\n  'default',\n  'defer',\n  'disabled',\n  'disablePictureInPicture',\n  'disableRemotePlayback',\n  'formNoValidate',\n  'hidden',\n  'loop',\n  'noModule',\n  'noValidate',\n  'open',\n  'playsInline',\n  'readOnly',\n  'required',\n  'reversed',\n  'scoped',\n  'seamless',\n  // Microdata\n  'itemScope',\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    BOOLEAN,\n    false, // mustUseProperty\n    name.toLowerCase(), // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are the few React props that we set as DOM properties\n// rather than attributes. These are all booleans.\n[\n  'checked',\n  // Note: `option.selected` is not updated if `select.multiple` is\n  // disabled with `removeAttribute`. We have special logic for handling this.\n  'multiple',\n  'muted',\n  'selected',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    BOOLEAN,\n    true, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are HTML attributes that are \"overloaded booleans\": they behave like\n// booleans, but can also accept a string value.\n[\n  'capture',\n  'download',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    OVERLOADED_BOOLEAN,\n    false, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are HTML attributes that must be positive numbers.\n[\n  'cols',\n  'rows',\n  'size',\n  'span',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    POSITIVE_NUMERIC,\n    false, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are HTML attributes that must be numbers.\n['rowSpan', 'start'].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    NUMERIC,\n    false, // mustUseProperty\n    name.toLowerCase(), // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\nconst CAMELIZE = /[\\-\\:]([a-z])/g;\nconst capitalize = token => token[1].toUpperCase();\n\n// This is a list of all SVG attributes that need special casing, namespacing,\n// or boolean value assignment. Regular attributes that just accept strings\n// and have the same names are omitted, just like in the HTML attribute filter.\n// Some of these attributes can be hard to find. This list was created by\n// scraping the MDN documentation.\n[\n  'accent-height',\n  'alignment-baseline',\n  'arabic-form',\n  'baseline-shift',\n  'cap-height',\n  'clip-path',\n  'clip-rule',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'dominant-baseline',\n  'enable-background',\n  'fill-opacity',\n  'fill-rule',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'glyph-name',\n  'glyph-orientation-horizontal',\n  'glyph-orientation-vertical',\n  'horiz-adv-x',\n  'horiz-origin-x',\n  'image-rendering',\n  'letter-spacing',\n  'lighting-color',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'overline-position',\n  'overline-thickness',\n  'paint-order',\n  'panose-1',\n  'pointer-events',\n  'rendering-intent',\n  'shape-rendering',\n  'stop-color',\n  'stop-opacity',\n  'strikethrough-position',\n  'strikethrough-thickness',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke-width',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'underline-position',\n  'underline-thickness',\n  'unicode-bidi',\n  'unicode-range',\n  'units-per-em',\n  'v-alphabetic',\n  'v-hanging',\n  'v-ideographic',\n  'v-mathematical',\n  'vector-effect',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'word-spacing',\n  'writing-mode',\n  'xmlns:xlink',\n  'x-height',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(attributeName => {\n  const name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(\n    name,\n    STRING,\n    false, // mustUseProperty\n    attributeName,\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// String SVG attributes with the xlink namespace.\n[\n  'xlink:actuate',\n  'xlink:arcrole',\n  'xlink:role',\n  'xlink:show',\n  'xlink:title',\n  'xlink:type',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(attributeName => {\n  const name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(\n    name,\n    STRING,\n    false, // mustUseProperty\n    attributeName,\n    'http://www.w3.org/1999/xlink',\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// String SVG attributes with the xml namespace.\n[\n  'xml:base',\n  'xml:lang',\n  'xml:space',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(attributeName => {\n  const name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(\n    name,\n    STRING,\n    false, // mustUseProperty\n    attributeName,\n    'http://www.w3.org/XML/1998/namespace',\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These attribute exists both in HTML and SVG.\n// The attribute name is case-sensitive in SVG so we can't just use\n// the React name like we do for attributes that exist only in HTML.\n['tabIndex', 'crossOrigin'].forEach(attributeName => {\n  properties[attributeName] = new PropertyInfoRecord(\n    attributeName,\n    STRING,\n    false, // mustUseProperty\n    attributeName.toLowerCase(), // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These attributes accept URLs. These must not allow javascript: URLS.\n// These will also need to accept Trusted Types object in the future.\nconst xlinkHref = 'xlinkHref';\nproperties[xlinkHref] = new PropertyInfoRecord(\n  'xlinkHref',\n  STRING,\n  false, // mustUseProperty\n  'xlink:href',\n  'http://www.w3.org/1999/xlink',\n  true, // sanitizeURL\n  false, // removeEmptyString\n);\n\n['src', 'href', 'action', 'formAction'].forEach(attributeName => {\n  properties[attributeName] = new PropertyInfoRecord(\n    attributeName,\n    STRING,\n    false, // mustUseProperty\n    attributeName.toLowerCase(), // attributeName\n    null, // attributeNamespace\n    true, // sanitizeURL\n    true, // removeEmptyString\n  );\n});\n\n// \nconst {\n  CAMELCASE,\n  SAME,\n  possibleStandardNames: possibleStandardNamesOptimized\n} = require('../lib/possibleStandardNamesOptimized');\n\nconst ATTRIBUTE_NAME_START_CHAR =\n  ':A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\n\nconst ATTRIBUTE_NAME_CHAR =\n  ATTRIBUTE_NAME_START_CHAR + '\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\n\n/**\n * Checks whether a property name is a custom attribute.\n *\n * @see https://github.com/facebook/react/blob/15-stable/src/renderers/dom/shared/HTMLDOMPropertyConfig.js#L23-L25\n *\n * @type {(attribute: string) => boolean}\n */\nconst isCustomAttribute =\n  RegExp.prototype.test.bind(\n    // eslint-disable-next-line no-misleading-character-class\n    new RegExp('^(data|aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$')\n  );\n\n/**\n * @type {Record<string, string>}\n */\nconst possibleStandardNames = Object.keys(\n  possibleStandardNamesOptimized\n).reduce((accumulator, standardName) => {\n  const propName = possibleStandardNamesOptimized[standardName];\n  if (propName === SAME) {\n    accumulator[standardName] = standardName;\n  } else if (propName === CAMELCASE) {\n    accumulator[standardName.toLowerCase()] = standardName;\n  } else {\n    accumulator[standardName] = propName;\n  }\n  return accumulator;\n}, {});\n\nexports.BOOLEAN = BOOLEAN;\nexports.BOOLEANISH_STRING = BOOLEANISH_STRING;\nexports.NUMERIC = NUMERIC;\nexports.OVERLOADED_BOOLEAN = OVERLOADED_BOOLEAN;\nexports.POSITIVE_NUMERIC = POSITIVE_NUMERIC;\nexports.RESERVED = RESERVED;\nexports.STRING = STRING;\nexports.getPropertyInfo = getPropertyInfo;\nexports.isCustomAttribute = isCustomAttribute;\nexports.possibleStandardNames = possibleStandardNames;\n","// An attribute in which the DOM/SVG standard name is the same as the React prop name (e.g., 'accept').\nvar SAME = 0;\nexports.SAME = SAME;\n\n// An attribute in which the React prop name is the camelcased version of the DOM/SVG standard name (e.g., 'acceptCharset').\nvar CAMELCASE = 1;\nexports.CAMELCASE = CAMELCASE;\n\nexports.possibleStandardNames = {\n  accept: 0,\n  acceptCharset: 1,\n  'accept-charset': 'acceptCharset',\n  accessKey: 1,\n  action: 0,\n  allowFullScreen: 1,\n  alt: 0,\n  as: 0,\n  async: 0,\n  autoCapitalize: 1,\n  autoComplete: 1,\n  autoCorrect: 1,\n  autoFocus: 1,\n  autoPlay: 1,\n  autoSave: 1,\n  capture: 0,\n  cellPadding: 1,\n  cellSpacing: 1,\n  challenge: 0,\n  charSet: 1,\n  checked: 0,\n  children: 0,\n  cite: 0,\n  class: 'className',\n  classID: 1,\n  className: 1,\n  cols: 0,\n  colSpan: 1,\n  content: 0,\n  contentEditable: 1,\n  contextMenu: 1,\n  controls: 0,\n  controlsList: 1,\n  coords: 0,\n  crossOrigin: 1,\n  dangerouslySetInnerHTML: 1,\n  data: 0,\n  dateTime: 1,\n  default: 0,\n  defaultChecked: 1,\n  defaultValue: 1,\n  defer: 0,\n  dir: 0,\n  disabled: 0,\n  disablePictureInPicture: 1,\n  disableRemotePlayback: 1,\n  download: 0,\n  draggable: 0,\n  encType: 1,\n  enterKeyHint: 1,\n  for: 'htmlFor',\n  form: 0,\n  formMethod: 1,\n  formAction: 1,\n  formEncType: 1,\n  formNoValidate: 1,\n  formTarget: 1,\n  frameBorder: 1,\n  headers: 0,\n  height: 0,\n  hidden: 0,\n  high: 0,\n  href: 0,\n  hrefLang: 1,\n  htmlFor: 1,\n  httpEquiv: 1,\n  'http-equiv': 'httpEquiv',\n  icon: 0,\n  id: 0,\n  innerHTML: 1,\n  inputMode: 1,\n  integrity: 0,\n  is: 0,\n  itemID: 1,\n  itemProp: 1,\n  itemRef: 1,\n  itemScope: 1,\n  itemType: 1,\n  keyParams: 1,\n  keyType: 1,\n  kind: 0,\n  label: 0,\n  lang: 0,\n  list: 0,\n  loop: 0,\n  low: 0,\n  manifest: 0,\n  marginWidth: 1,\n  marginHeight: 1,\n  max: 0,\n  maxLength: 1,\n  media: 0,\n  mediaGroup: 1,\n  method: 0,\n  min: 0,\n  minLength: 1,\n  multiple: 0,\n  muted: 0,\n  name: 0,\n  noModule: 1,\n  nonce: 0,\n  noValidate: 1,\n  open: 0,\n  optimum: 0,\n  pattern: 0,\n  placeholder: 0,\n  playsInline: 1,\n  poster: 0,\n  preload: 0,\n  profile: 0,\n  radioGroup: 1,\n  readOnly: 1,\n  referrerPolicy: 1,\n  rel: 0,\n  required: 0,\n  reversed: 0,\n  role: 0,\n  rows: 0,\n  rowSpan: 1,\n  sandbox: 0,\n  scope: 0,\n  scoped: 0,\n  scrolling: 0,\n  seamless: 0,\n  selected: 0,\n  shape: 0,\n  size: 0,\n  sizes: 0,\n  span: 0,\n  spellCheck: 1,\n  src: 0,\n  srcDoc: 1,\n  srcLang: 1,\n  srcSet: 1,\n  start: 0,\n  step: 0,\n  style: 0,\n  summary: 0,\n  tabIndex: 1,\n  target: 0,\n  title: 0,\n  type: 0,\n  useMap: 1,\n  value: 0,\n  width: 0,\n  wmode: 0,\n  wrap: 0,\n  about: 0,\n  accentHeight: 1,\n  'accent-height': 'accentHeight',\n  accumulate: 0,\n  additive: 0,\n  alignmentBaseline: 1,\n  'alignment-baseline': 'alignmentBaseline',\n  allowReorder: 1,\n  alphabetic: 0,\n  amplitude: 0,\n  arabicForm: 1,\n  'arabic-form': 'arabicForm',\n  ascent: 0,\n  attributeName: 1,\n  attributeType: 1,\n  autoReverse: 1,\n  azimuth: 0,\n  baseFrequency: 1,\n  baselineShift: 1,\n  'baseline-shift': 'baselineShift',\n  baseProfile: 1,\n  bbox: 0,\n  begin: 0,\n  bias: 0,\n  by: 0,\n  calcMode: 1,\n  capHeight: 1,\n  'cap-height': 'capHeight',\n  clip: 0,\n  clipPath: 1,\n  'clip-path': 'clipPath',\n  clipPathUnits: 1,\n  clipRule: 1,\n  'clip-rule': 'clipRule',\n  color: 0,\n  colorInterpolation: 1,\n  'color-interpolation': 'colorInterpolation',\n  colorInterpolationFilters: 1,\n  'color-interpolation-filters': 'colorInterpolationFilters',\n  colorProfile: 1,\n  'color-profile': 'colorProfile',\n  colorRendering: 1,\n  'color-rendering': 'colorRendering',\n  contentScriptType: 1,\n  contentStyleType: 1,\n  cursor: 0,\n  cx: 0,\n  cy: 0,\n  d: 0,\n  datatype: 0,\n  decelerate: 0,\n  descent: 0,\n  diffuseConstant: 1,\n  direction: 0,\n  display: 0,\n  divisor: 0,\n  dominantBaseline: 1,\n  'dominant-baseline': 'dominantBaseline',\n  dur: 0,\n  dx: 0,\n  dy: 0,\n  edgeMode: 1,\n  elevation: 0,\n  enableBackground: 1,\n  'enable-background': 'enableBackground',\n  end: 0,\n  exponent: 0,\n  externalResourcesRequired: 1,\n  fill: 0,\n  fillOpacity: 1,\n  'fill-opacity': 'fillOpacity',\n  fillRule: 1,\n  'fill-rule': 'fillRule',\n  filter: 0,\n  filterRes: 1,\n  filterUnits: 1,\n  floodOpacity: 1,\n  'flood-opacity': 'floodOpacity',\n  floodColor: 1,\n  'flood-color': 'floodColor',\n  focusable: 0,\n  fontFamily: 1,\n  'font-family': 'fontFamily',\n  fontSize: 1,\n  'font-size': 'fontSize',\n  fontSizeAdjust: 1,\n  'font-size-adjust': 'fontSizeAdjust',\n  fontStretch: 1,\n  'font-stretch': 'fontStretch',\n  fontStyle: 1,\n  'font-style': 'fontStyle',\n  fontVariant: 1,\n  'font-variant': 'fontVariant',\n  fontWeight: 1,\n  'font-weight': 'fontWeight',\n  format: 0,\n  from: 0,\n  fx: 0,\n  fy: 0,\n  g1: 0,\n  g2: 0,\n  glyphName: 1,\n  'glyph-name': 'glyphName',\n  glyphOrientationHorizontal: 1,\n  'glyph-orientation-horizontal': 'glyphOrientationHorizontal',\n  glyphOrientationVertical: 1,\n  'glyph-orientation-vertical': 'glyphOrientationVertical',\n  glyphRef: 1,\n  gradientTransform: 1,\n  gradientUnits: 1,\n  hanging: 0,\n  horizAdvX: 1,\n  'horiz-adv-x': 'horizAdvX',\n  horizOriginX: 1,\n  'horiz-origin-x': 'horizOriginX',\n  ideographic: 0,\n  imageRendering: 1,\n  'image-rendering': 'imageRendering',\n  in2: 0,\n  in: 0,\n  inlist: 0,\n  intercept: 0,\n  k1: 0,\n  k2: 0,\n  k3: 0,\n  k4: 0,\n  k: 0,\n  kernelMatrix: 1,\n  kernelUnitLength: 1,\n  kerning: 0,\n  keyPoints: 1,\n  keySplines: 1,\n  keyTimes: 1,\n  lengthAdjust: 1,\n  letterSpacing: 1,\n  'letter-spacing': 'letterSpacing',\n  lightingColor: 1,\n  'lighting-color': 'lightingColor',\n  limitingConeAngle: 1,\n  local: 0,\n  markerEnd: 1,\n  'marker-end': 'markerEnd',\n  markerHeight: 1,\n  markerMid: 1,\n  'marker-mid': 'markerMid',\n  markerStart: 1,\n  'marker-start': 'markerStart',\n  markerUnits: 1,\n  markerWidth: 1,\n  mask: 0,\n  maskContentUnits: 1,\n  maskUnits: 1,\n  mathematical: 0,\n  mode: 0,\n  numOctaves: 1,\n  offset: 0,\n  opacity: 0,\n  operator: 0,\n  order: 0,\n  orient: 0,\n  orientation: 0,\n  origin: 0,\n  overflow: 0,\n  overlinePosition: 1,\n  'overline-position': 'overlinePosition',\n  overlineThickness: 1,\n  'overline-thickness': 'overlineThickness',\n  paintOrder: 1,\n  'paint-order': 'paintOrder',\n  panose1: 0,\n  'panose-1': 'panose1',\n  pathLength: 1,\n  patternContentUnits: 1,\n  patternTransform: 1,\n  patternUnits: 1,\n  pointerEvents: 1,\n  'pointer-events': 'pointerEvents',\n  points: 0,\n  pointsAtX: 1,\n  pointsAtY: 1,\n  pointsAtZ: 1,\n  prefix: 0,\n  preserveAlpha: 1,\n  preserveAspectRatio: 1,\n  primitiveUnits: 1,\n  property: 0,\n  r: 0,\n  radius: 0,\n  refX: 1,\n  refY: 1,\n  renderingIntent: 1,\n  'rendering-intent': 'renderingIntent',\n  repeatCount: 1,\n  repeatDur: 1,\n  requiredExtensions: 1,\n  requiredFeatures: 1,\n  resource: 0,\n  restart: 0,\n  result: 0,\n  results: 0,\n  rotate: 0,\n  rx: 0,\n  ry: 0,\n  scale: 0,\n  security: 0,\n  seed: 0,\n  shapeRendering: 1,\n  'shape-rendering': 'shapeRendering',\n  slope: 0,\n  spacing: 0,\n  specularConstant: 1,\n  specularExponent: 1,\n  speed: 0,\n  spreadMethod: 1,\n  startOffset: 1,\n  stdDeviation: 1,\n  stemh: 0,\n  stemv: 0,\n  stitchTiles: 1,\n  stopColor: 1,\n  'stop-color': 'stopColor',\n  stopOpacity: 1,\n  'stop-opacity': 'stopOpacity',\n  strikethroughPosition: 1,\n  'strikethrough-position': 'strikethroughPosition',\n  strikethroughThickness: 1,\n  'strikethrough-thickness': 'strikethroughThickness',\n  string: 0,\n  stroke: 0,\n  strokeDasharray: 1,\n  'stroke-dasharray': 'strokeDasharray',\n  strokeDashoffset: 1,\n  'stroke-dashoffset': 'strokeDashoffset',\n  strokeLinecap: 1,\n  'stroke-linecap': 'strokeLinecap',\n  strokeLinejoin: 1,\n  'stroke-linejoin': 'strokeLinejoin',\n  strokeMiterlimit: 1,\n  'stroke-miterlimit': 'strokeMiterlimit',\n  strokeWidth: 1,\n  'stroke-width': 'strokeWidth',\n  strokeOpacity: 1,\n  'stroke-opacity': 'strokeOpacity',\n  suppressContentEditableWarning: 1,\n  suppressHydrationWarning: 1,\n  surfaceScale: 1,\n  systemLanguage: 1,\n  tableValues: 1,\n  targetX: 1,\n  targetY: 1,\n  textAnchor: 1,\n  'text-anchor': 'textAnchor',\n  textDecoration: 1,\n  'text-decoration': 'textDecoration',\n  textLength: 1,\n  textRendering: 1,\n  'text-rendering': 'textRendering',\n  to: 0,\n  transform: 0,\n  typeof: 0,\n  u1: 0,\n  u2: 0,\n  underlinePosition: 1,\n  'underline-position': 'underlinePosition',\n  underlineThickness: 1,\n  'underline-thickness': 'underlineThickness',\n  unicode: 0,\n  unicodeBidi: 1,\n  'unicode-bidi': 'unicodeBidi',\n  unicodeRange: 1,\n  'unicode-range': 'unicodeRange',\n  unitsPerEm: 1,\n  'units-per-em': 'unitsPerEm',\n  unselectable: 0,\n  vAlphabetic: 1,\n  'v-alphabetic': 'vAlphabetic',\n  values: 0,\n  vectorEffect: 1,\n  'vector-effect': 'vectorEffect',\n  version: 0,\n  vertAdvY: 1,\n  'vert-adv-y': 'vertAdvY',\n  vertOriginX: 1,\n  'vert-origin-x': 'vertOriginX',\n  vertOriginY: 1,\n  'vert-origin-y': 'vertOriginY',\n  vHanging: 1,\n  'v-hanging': 'vHanging',\n  vIdeographic: 1,\n  'v-ideographic': 'vIdeographic',\n  viewBox: 1,\n  viewTarget: 1,\n  visibility: 0,\n  vMathematical: 1,\n  'v-mathematical': 'vMathematical',\n  vocab: 0,\n  widths: 0,\n  wordSpacing: 1,\n  'word-spacing': 'wordSpacing',\n  writingMode: 1,\n  'writing-mode': 'writingMode',\n  x1: 0,\n  x2: 0,\n  x: 0,\n  xChannelSelector: 1,\n  xHeight: 1,\n  'x-height': 'xHeight',\n  xlinkActuate: 1,\n  'xlink:actuate': 'xlinkActuate',\n  xlinkArcrole: 1,\n  'xlink:arcrole': 'xlinkArcrole',\n  xlinkHref: 1,\n  'xlink:href': 'xlinkHref',\n  xlinkRole: 1,\n  'xlink:role': 'xlinkRole',\n  xlinkShow: 1,\n  'xlink:show': 'xlinkShow',\n  xlinkTitle: 1,\n  'xlink:title': 'xlinkTitle',\n  xlinkType: 1,\n  'xlink:type': 'xlinkType',\n  xmlBase: 1,\n  'xml:base': 'xmlBase',\n  xmlLang: 1,\n  'xml:lang': 'xmlLang',\n  xmlns: 0,\n  'xml:space': 'xmlSpace',\n  xmlnsXlink: 1,\n  'xmlns:xlink': 'xmlnsXlink',\n  xmlSpace: 1,\n  y1: 0,\n  y2: 0,\n  y: 0,\n  yChannelSelector: 1,\n  z: 0,\n  zoomAndPan: 1\n};\n","import StyleToObject from 'style-to-object';\nimport { camelCase, CamelCaseOptions } from './utilities';\n\ntype StyleObject = Record<string, string>;\n\ninterface StyleToJSOptions extends CamelCaseOptions {}\n\n/**\n * Parses CSS inline style to JavaScript object (camelCased).\n */\nfunction StyleToJS(style: string, options?: StyleToJSOptions): StyleObject {\n  const output: StyleObject = {};\n\n  if (!style || typeof style !== 'string') {\n    return output;\n  }\n\n  StyleToObject(style, (property, value) => {\n    // skip CSS comment\n    if (property && value) {\n      output[camelCase(property, options)] = value;\n    }\n  });\n\n  return output;\n}\n\nStyleToJS.default = StyleToJS;\n\nexport = StyleToJS;\n","const CUSTOM_PROPERTY_REGEX = /^--[a-zA-Z0-9-]+$/;\nconst HYPHEN_REGEX = /-([a-z])/g;\nconst NO_HYPHEN_REGEX = /^[^-]+$/;\nconst VENDOR_PREFIX_REGEX = /^-(webkit|moz|ms|o|khtml)-/;\nconst MS_VENDOR_PREFIX_REGEX = /^-(ms)-/;\n\n/**\n * Checks whether to skip camelCase.\n */\nconst skipCamelCase = (property: string) =>\n  !property ||\n  NO_HYPHEN_REGEX.test(property) ||\n  CUSTOM_PROPERTY_REGEX.test(property);\n\n/**\n * Replacer that capitalizes first character.\n */\nconst capitalize = (match: string, character: string) =>\n  character.toUpperCase();\n\n/**\n * Replacer that removes beginning hyphen of vendor prefix property.\n */\nconst trimHyphen = (match: string, prefix: string) => `${prefix}-`;\n\n/**\n * CamelCase options.\n */\nexport interface CamelCaseOptions {\n  reactCompat?: boolean;\n}\n\n/**\n * CamelCases a CSS property.\n */\nexport const camelCase = (property: string, options: CamelCaseOptions = {}) => {\n  if (skipCamelCase(property)) {\n    return property;\n  }\n\n  property = property.toLowerCase();\n\n  if (options.reactCompat) {\n    // `-ms` vendor prefix should not be capitalized\n    property = property.replace(MS_VENDOR_PREFIX_REGEX, trimHyphen);\n  } else {\n    // for non-React, remove first hyphen so vendor prefix is not capitalized\n    property = property.replace(VENDOR_PREFIX_REGEX, trimHyphen);\n  }\n\n  return property.replace(HYPHEN_REGEX, capitalize);\n};\n","import parse from 'inline-style-parser';\nimport type { Declaration } from 'inline-style-parser';\n\nexport { Declaration };\n\ninterface StyleObject {\n  [name: string]: string;\n}\n\ntype Iterator = (\n  property: string,\n  value: string,\n  declaration: Declaration,\n) => void;\n\n/**\n * Parses inline style to object.\n *\n * @param style - Inline style.\n * @param iterator - Iterator.\n * @returns - Style object or null.\n *\n * @example Parsing inline style to object:\n *\n * ```js\n * import parse from 'style-to-object';\n * parse('line-height: 42;'); // { 'line-height': '42' }\n * ```\n */\nexport default function StyleToObject(\n  style: string,\n  iterator?: Iterator,\n): StyleObject | null {\n  let styleObject: StyleObject | null = null;\n\n  if (!style || typeof style !== 'string') {\n    return styleObject;\n  }\n\n  const declarations = parse(style);\n  const hasIterator = typeof iterator === 'function';\n\n  declarations.forEach((declaration) => {\n    if (declaration.type !== 'declaration') {\n      return;\n    }\n\n    const { property, value } = declaration;\n\n    if (hasIterator) {\n      iterator(property, value, declaration);\n    } else if (value) {\n      styleObject = styleObject || {};\n      styleObject[property] = value;\n    }\n  });\n\n  return styleObject;\n}\n","import HTMLReactParser from '../lib/index.js';\n\nexport {\n  Comment,\n  Element,\n  ProcessingInstruction,\n  Text,\n  attributesToProps,\n  domToReact,\n  htmlToDOM,\n} from '../lib/index.js';\n\nexport default HTMLReactParser.default || HTMLReactParser;\n","'use client';\nimport * as React from 'react';\nimport { IMAGE_FIT_COVER, IMAGE_FIT_CONTAIN, ACTION_CLOSE, MODULE_CONTROLLER, UNKNOWN_ACTION_TYPE, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_CANCEL, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_WHEEL, SLIDE_STATUS_LOADING, activeSlideStatus, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_PLACEHOLDER, ACTION_PREV, ACTION_NEXT, ACTION_SWIPE, MODULE_PORTAL, CLASS_FLEX_CENTER, MODULE_CAROUSEL, CLASS_SLIDE_WRAPPER, VK_ARROW_RIGHT, VK_ARROW_LEFT, VK_ESCAPE, MODULE_NAVIGATION, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, MODULE_NO_SCROLL, MODULE_ROOT, MODULE_TOOLBAR } from './types.js';\nimport { createPortal } from 'react-dom';\nexport { ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FULLSIZE, CLASS_SLIDE_WRAPPER_INTERACTIVE, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_PLAYING } from './types.js';\n\nconst cssPrefix$3 = \"yarl__\";\nfunction clsx(...classes) {\n    return [...classes].filter(Boolean).join(\" \");\n}\nfunction cssClass(name) {\n    return `${cssPrefix$3}${name}`;\n}\nfunction cssVar(name) {\n    return `--${cssPrefix$3}${name}`;\n}\nfunction composePrefix(base, prefix) {\n    return `${base}${prefix ? `_${prefix}` : \"\"}`;\n}\nfunction makeComposePrefix(base) {\n    return (prefix) => composePrefix(base, prefix);\n}\nfunction label(labels, defaultLabel) {\n    var _a;\n    return (_a = labels === null || labels === void 0 ? void 0 : labels[defaultLabel]) !== null && _a !== void 0 ? _a : defaultLabel;\n}\nfunction cleanup(...cleaners) {\n    return () => {\n        cleaners.forEach((cleaner) => {\n            cleaner();\n        });\n    };\n}\nfunction makeUseContext(name, contextName, context) {\n    return () => {\n        const ctx = React.useContext(context);\n        if (!ctx) {\n            throw new Error(`${name} must be used within a ${contextName}.Provider`);\n        }\n        return ctx;\n    };\n}\nfunction hasWindow() {\n    return typeof window !== \"undefined\";\n}\nfunction round(value, decimals = 0) {\n    const factor = 10 ** decimals;\n    return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nfunction isImageSlide(slide) {\n    return slide.type === undefined || slide.type === \"image\";\n}\nfunction isImageFitCover(image, imageFit) {\n    return image.imageFit === IMAGE_FIT_COVER || (image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER);\n}\nfunction parseInt(value) {\n    return typeof value === \"string\" ? Number.parseInt(value, 10) : value;\n}\nfunction parseLengthPercentage(input) {\n    if (typeof input === \"number\") {\n        return { pixel: input };\n    }\n    if (typeof input === \"string\") {\n        const value = parseInt(input);\n        return input.endsWith(\"%\") ? { percent: value } : { pixel: value };\n    }\n    return { pixel: 0 };\n}\nfunction computeSlideRect(containerRect, padding) {\n    const paddingValue = parseLengthPercentage(padding);\n    const paddingPixels = paddingValue.percent !== undefined ? (containerRect.width / 100) * paddingValue.percent : paddingValue.pixel;\n    return {\n        width: Math.max(containerRect.width - 2 * paddingPixels, 0),\n        height: Math.max(containerRect.height - 2 * paddingPixels, 0),\n    };\n}\nfunction devicePixelRatio() {\n    return (hasWindow() ? window === null || window === void 0 ? void 0 : window.devicePixelRatio : undefined) || 1;\n}\nfunction getSlideIndex(index, slidesCount) {\n    return slidesCount > 0 ? ((index % slidesCount) + slidesCount) % slidesCount : 0;\n}\nfunction hasSlides(slides) {\n    return slides.length > 0;\n}\nfunction getSlide(slides, index) {\n    return slides[getSlideIndex(index, slides.length)];\n}\nfunction getSlideIfPresent(slides, index) {\n    return hasSlides(slides) ? getSlide(slides, index) : undefined;\n}\nfunction getSlideKey(slide) {\n    return isImageSlide(slide) ? slide.src : undefined;\n}\nfunction addToolbarButton(toolbar, key, button) {\n    if (!button)\n        return toolbar;\n    const { buttons, ...restToolbar } = toolbar;\n    const index = buttons.findIndex((item) => item === key);\n    const buttonWithKey = React.isValidElement(button) ? React.cloneElement(button, { key }, null) : button;\n    if (index >= 0) {\n        const result = [...buttons];\n        result.splice(index, 1, buttonWithKey);\n        return { buttons: result, ...restToolbar };\n    }\n    return { buttons: [buttonWithKey, ...buttons], ...restToolbar };\n}\nfunction stopNavigationEventsPropagation() {\n    const stopPropagation = (event) => {\n        event.stopPropagation();\n    };\n    return { onPointerDown: stopPropagation, onKeyDown: stopPropagation, onWheel: stopPropagation };\n}\nfunction calculatePreload(carousel, slides, minimum = 0) {\n    return Math.min(carousel.preload, Math.max(carousel.finite ? slides.length - 1 : Math.floor(slides.length / 2), minimum));\n}\n\nconst LightboxDefaultProps = {\n    open: false,\n    close: () => { },\n    index: 0,\n    slides: [],\n    render: {},\n    plugins: [],\n    toolbar: { buttons: [ACTION_CLOSE] },\n    labels: {},\n    animation: {\n        fade: 250,\n        swipe: 500,\n        easing: {\n            fade: \"ease\",\n            swipe: \"ease-out\",\n            navigation: \"ease-in-out\",\n        },\n    },\n    carousel: {\n        finite: false,\n        preload: 2,\n        padding: \"16px\",\n        spacing: \"30%\",\n        imageFit: IMAGE_FIT_CONTAIN,\n        imageProps: {},\n    },\n    controller: {\n        ref: null,\n        focus: true,\n        aria: false,\n        touchAction: \"none\",\n        closeOnPullUp: false,\n        closeOnPullDown: false,\n        closeOnBackdropClick: false,\n        preventDefaultWheelX: true,\n        preventDefaultWheelY: false,\n    },\n    portal: {},\n    noScroll: {\n        disabled: false,\n    },\n    on: {},\n    styles: {},\n    className: \"\",\n};\n\nfunction createModule(name, component) {\n    return { name, component };\n}\nfunction createNode(module, children) {\n    return { module, children };\n}\nfunction traverseNode(node, target, apply) {\n    if (node.module.name === target) {\n        return apply(node);\n    }\n    if (node.children) {\n        return [\n            createNode(node.module, node.children.flatMap((n) => { var _a; return (_a = traverseNode(n, target, apply)) !== null && _a !== void 0 ? _a : []; })),\n        ];\n    }\n    return [node];\n}\nfunction traverse(nodes, target, apply) {\n    return nodes.flatMap((node) => { var _a; return (_a = traverseNode(node, target, apply)) !== null && _a !== void 0 ? _a : []; });\n}\nfunction withPlugins(root, plugins = [], augmentations = []) {\n    let config = root;\n    const contains = (target) => {\n        const nodes = [...config];\n        while (nodes.length > 0) {\n            const node = nodes.pop();\n            if ((node === null || node === void 0 ? void 0 : node.module.name) === target)\n                return true;\n            if (node === null || node === void 0 ? void 0 : node.children)\n                nodes.push(...node.children);\n        }\n        return false;\n    };\n    const addParent = (target, module) => {\n        if (target === \"\") {\n            config = [createNode(module, config)];\n            return;\n        }\n        config = traverse(config, target, (node) => [createNode(module, [node])]);\n    };\n    const append = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(node.module, [createNode(module, node.children)])]);\n    };\n    const addChild = (target, module, precede) => {\n        config = traverse(config, target, (node) => {\n            var _a;\n            return [\n                createNode(node.module, [\n                    ...(precede ? [createNode(module)] : []),\n                    ...((_a = node.children) !== null && _a !== void 0 ? _a : []),\n                    ...(!precede ? [createNode(module)] : []),\n                ]),\n            ];\n        });\n    };\n    const addSibling = (target, module, precede) => {\n        config = traverse(config, target, (node) => [\n            ...(precede ? [createNode(module)] : []),\n            node,\n            ...(!precede ? [createNode(module)] : []),\n        ]);\n    };\n    const addModule = (module) => {\n        append(MODULE_CONTROLLER, module);\n    };\n    const replace = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(module, node.children)]);\n    };\n    const remove = (target) => {\n        config = traverse(config, target, (node) => node.children);\n    };\n    const augment = (augmentation) => {\n        augmentations.push(augmentation);\n    };\n    plugins.forEach((plugin) => {\n        plugin({\n            contains,\n            addParent,\n            append,\n            addChild,\n            addSibling,\n            addModule,\n            replace,\n            remove,\n            augment,\n        });\n    });\n    return {\n        config,\n        augmentation: (props) => augmentations.reduce((acc, augmentation) => augmentation(acc), props),\n    };\n}\n\nconst DocumentContext = React.createContext(null);\nconst useDocumentContext = makeUseContext(\"useDocument\", \"DocumentContext\", DocumentContext);\nfunction DocumentContextProvider({ nodeRef, children }) {\n    const context = React.useMemo(() => {\n        const getOwnerDocument = (node) => { var _a; return ((_a = (node || nodeRef.current)) === null || _a === void 0 ? void 0 : _a.ownerDocument) || document; };\n        const getOwnerWindow = (node) => { var _a; return ((_a = getOwnerDocument(node)) === null || _a === void 0 ? void 0 : _a.defaultView) || window; };\n        return { getOwnerDocument, getOwnerWindow };\n    }, [nodeRef]);\n    return React.createElement(DocumentContext.Provider, { value: context }, children);\n}\n\nconst EventsContext = React.createContext(null);\nconst useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nfunction EventsProvider({ children }) {\n    const [subscriptions] = React.useState({});\n    React.useEffect(() => () => {\n        Object.keys(subscriptions).forEach((topic) => delete subscriptions[topic]);\n    }, [subscriptions]);\n    const context = React.useMemo(() => {\n        const unsubscribe = (topic, callback) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.splice(0, subscriptions[topic].length, ...subscriptions[topic].filter((cb) => cb !== callback));\n        };\n        const subscribe = (topic, callback) => {\n            if (!subscriptions[topic]) {\n                subscriptions[topic] = [];\n            }\n            subscriptions[topic].push(callback);\n            return () => unsubscribe(topic, callback);\n        };\n        const publish = (...[topic, event]) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach((callback) => callback(event));\n        };\n        return { publish, subscribe, unsubscribe };\n    }, [subscriptions]);\n    return React.createElement(EventsContext.Provider, { value: context }, children);\n}\n\nconst LightboxPropsContext = React.createContext(null);\nconst useLightboxProps = makeUseContext(\"useLightboxProps\", \"LightboxPropsContext\", LightboxPropsContext);\nfunction LightboxPropsProvider({ children, ...props }) {\n    return React.createElement(LightboxPropsContext.Provider, { value: props }, children);\n}\n\nconst LightboxStateContext = React.createContext(null);\nconst useLightboxState = makeUseContext(\"useLightboxState\", \"LightboxStateContext\", LightboxStateContext);\nconst LightboxDispatchContext = React.createContext(null);\nconst useLightboxDispatch = makeUseContext(\"useLightboxDispatch\", \"LightboxDispatchContext\", LightboxDispatchContext);\nfunction reducer(state, action) {\n    switch (action.type) {\n        case \"swipe\": {\n            const { slides } = state;\n            const increment = (action === null || action === void 0 ? void 0 : action.increment) || 0;\n            const globalIndex = state.globalIndex + increment;\n            const currentIndex = getSlideIndex(globalIndex, slides.length);\n            const currentSlide = getSlideIfPresent(slides, currentIndex);\n            const animation = increment || action.duration\n                ? {\n                    increment,\n                    duration: action.duration,\n                    easing: action.easing,\n                }\n                : undefined;\n            return { slides, currentIndex, globalIndex, currentSlide, animation };\n        }\n        case \"update\":\n            if (action.slides !== state.slides || action.index !== state.currentIndex) {\n                return {\n                    slides: action.slides,\n                    currentIndex: action.index,\n                    globalIndex: action.index,\n                    currentSlide: getSlideIfPresent(action.slides, action.index),\n                };\n            }\n            return state;\n        default:\n            throw new Error(UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction LightboxStateProvider({ slides, index, children }) {\n    const [state, dispatch] = React.useReducer(reducer, {\n        slides,\n        currentIndex: index,\n        globalIndex: index,\n        currentSlide: getSlideIfPresent(slides, index),\n    });\n    React.useEffect(() => {\n        dispatch({ type: \"update\", slides, index });\n    }, [slides, index]);\n    const context = React.useMemo(() => ({ ...state, state, dispatch }), [state, dispatch]);\n    return (React.createElement(LightboxDispatchContext.Provider, { value: dispatch },\n        React.createElement(LightboxStateContext.Provider, { value: context }, children)));\n}\n\nconst TimeoutsContext = React.createContext(null);\nconst useTimeouts = makeUseContext(\"useTimeouts\", \"TimeoutsContext\", TimeoutsContext);\nfunction TimeoutsProvider({ children }) {\n    const [timeouts] = React.useState([]);\n    React.useEffect(() => () => {\n        timeouts.forEach((tid) => window.clearTimeout(tid));\n        timeouts.splice(0, timeouts.length);\n    }, [timeouts]);\n    const context = React.useMemo(() => {\n        const removeTimeout = (id) => {\n            timeouts.splice(0, timeouts.length, ...timeouts.filter((tid) => tid !== id));\n        };\n        const setTimeout = (fn, delay) => {\n            const id = window.setTimeout(() => {\n                removeTimeout(id);\n                fn();\n            }, delay);\n            timeouts.push(id);\n            return id;\n        };\n        const clearTimeout = (id) => {\n            if (id !== undefined) {\n                removeTimeout(id);\n                window.clearTimeout(id);\n            }\n        };\n        return { setTimeout, clearTimeout };\n    }, [timeouts]);\n    return React.createElement(TimeoutsContext.Provider, { value: context }, children);\n}\n\nconst IconButton = React.forwardRef(function IconButton({ label: label$1, className, icon: Icon, renderIcon, onClick, style, ...rest }, ref) {\n    const { styles, labels } = useLightboxProps();\n    const buttonLabel = label(labels, label$1);\n    return (React.createElement(\"button\", { ref: ref, type: \"button\", title: buttonLabel, \"aria-label\": buttonLabel, className: clsx(cssClass(ELEMENT_BUTTON), className), onClick: onClick, style: { ...style, ...styles.button }, ...rest }, renderIcon ? renderIcon() : React.createElement(Icon, { className: cssClass(ELEMENT_ICON), style: styles.icon })));\n});\n\nfunction svgIcon(name, children) {\n    const icon = (props) => (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", \"aria-hidden\": \"true\", focusable: \"false\", ...props }, children));\n    icon.displayName = name;\n    return icon;\n}\nfunction createIcon(name, glyph) {\n    return svgIcon(name, React.createElement(\"g\", { fill: \"currentColor\" },\n        React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n        glyph));\n}\nfunction createIconDisabled(name, glyph) {\n    return svgIcon(name, React.createElement(React.Fragment, null,\n        React.createElement(\"defs\", null,\n            React.createElement(\"mask\", { id: \"strike\" },\n                React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"white\" }),\n                React.createElement(\"path\", { d: \"M0 0L24 24\", stroke: \"black\", strokeWidth: 4 }))),\n        React.createElement(\"path\", { d: \"M0.70707 2.121320L21.878680 23.292883\", stroke: \"currentColor\", strokeWidth: 2 }),\n        React.createElement(\"g\", { fill: \"currentColor\", mask: \"url(#strike)\" },\n            React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n            glyph)));\n}\nconst CloseIcon = createIcon(\"Close\", React.createElement(\"path\", { d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" }));\nconst PreviousIcon = createIcon(\"Previous\", React.createElement(\"path\", { d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\" }));\nconst NextIcon = createIcon(\"Next\", React.createElement(\"path\", { d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\" }));\nconst LoadingIcon = createIcon(\"Loading\", React.createElement(React.Fragment, null, Array.from({ length: 8 }).map((_, index, array) => (React.createElement(\"line\", { key: index, x1: \"12\", y1: \"6.5\", x2: \"12\", y2: \"1.8\", strokeLinecap: \"round\", strokeWidth: \"2.6\", stroke: \"currentColor\", strokeOpacity: (1 / array.length) * (index + 1), transform: `rotate(${(360 / array.length) * index}, 12, 12)` })))));\nconst ErrorIcon = createIcon(\"Error\", React.createElement(\"path\", { d: \"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z\" }));\n\nconst useLayoutEffect = hasWindow() ? React.useLayoutEffect : React.useEffect;\n\nfunction useMotionPreference() {\n    const [reduceMotion, setReduceMotion] = React.useState(false);\n    React.useEffect(() => {\n        var _a, _b;\n        const mediaQuery = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-reduced-motion: reduce)\");\n        setReduceMotion(mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.matches);\n        const listener = (event) => setReduceMotion(event.matches);\n        (_b = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.addEventListener) === null || _b === void 0 ? void 0 : _b.call(mediaQuery, \"change\", listener);\n        return () => { var _a; return (_a = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(mediaQuery, \"change\", listener); };\n    }, []);\n    return reduceMotion;\n}\n\nfunction currentTransformation(node) {\n    let x = 0;\n    let y = 0;\n    let z = 0;\n    const matrix = window.getComputedStyle(node).transform;\n    const matcher = matrix.match(/matrix.*\\((.+)\\)/);\n    if (matcher) {\n        const values = matcher[1].split(\",\").map(parseInt);\n        if (values.length === 6) {\n            x = values[4];\n            y = values[5];\n        }\n        else if (values.length === 16) {\n            x = values[12];\n            y = values[13];\n            z = values[14];\n        }\n    }\n    return { x, y, z };\n}\nfunction useAnimation(nodeRef, computeAnimation) {\n    const snapshot = React.useRef();\n    const animation = React.useRef();\n    const reduceMotion = useMotionPreference();\n    useLayoutEffect(() => {\n        var _a, _b, _c;\n        if (nodeRef.current && snapshot.current !== undefined && !reduceMotion) {\n            const { keyframes, duration, easing, onfinish } = computeAnimation(snapshot.current, nodeRef.current.getBoundingClientRect(), currentTransformation(nodeRef.current)) || {};\n            if (keyframes && duration) {\n                (_a = animation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n                animation.current = undefined;\n                try {\n                    animation.current = (_c = (_b = nodeRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, keyframes, { duration, easing });\n                }\n                catch (err) {\n                    console.error(err);\n                }\n                if (animation.current) {\n                    animation.current.onfinish = () => {\n                        animation.current = undefined;\n                        onfinish === null || onfinish === void 0 ? void 0 : onfinish();\n                    };\n                }\n            }\n        }\n        snapshot.current = undefined;\n    });\n    return {\n        prepareAnimation: (currentSnapshot) => {\n            snapshot.current = currentSnapshot;\n        },\n        isAnimationPlaying: () => { var _a; return ((_a = animation.current) === null || _a === void 0 ? void 0 : _a.playState) === \"running\"; },\n    };\n}\n\nfunction useContainerRect() {\n    const containerRef = React.useRef(null);\n    const observerRef = React.useRef();\n    const [containerRect, setContainerRect] = React.useState();\n    const setContainerRef = React.useCallback((node) => {\n        containerRef.current = node;\n        if (observerRef.current) {\n            observerRef.current.disconnect();\n            observerRef.current = undefined;\n        }\n        const updateContainerRect = () => {\n            if (node) {\n                const styles = window.getComputedStyle(node);\n                const parse = (value) => parseFloat(value) || 0;\n                setContainerRect({\n                    width: Math.round(node.clientWidth - parse(styles.paddingLeft) - parse(styles.paddingRight)),\n                    height: Math.round(node.clientHeight - parse(styles.paddingTop) - parse(styles.paddingBottom)),\n                });\n            }\n            else {\n                setContainerRect(undefined);\n            }\n        };\n        updateContainerRect();\n        if (node && typeof ResizeObserver !== \"undefined\") {\n            observerRef.current = new ResizeObserver(updateContainerRect);\n            observerRef.current.observe(node);\n        }\n    }, []);\n    return { setContainerRef, containerRef, containerRect };\n}\n\nfunction useDelay() {\n    const timeoutId = React.useRef();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    return React.useCallback((callback, delay) => {\n        clearTimeout(timeoutId.current);\n        timeoutId.current = setTimeout(callback, delay > 0 ? delay : 0);\n    }, [setTimeout, clearTimeout]);\n}\n\nfunction useEventCallback(fn) {\n    const ref = React.useRef(fn);\n    useLayoutEffect(() => {\n        ref.current = fn;\n    });\n    return React.useCallback((...args) => { var _a; return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args); }, []);\n}\n\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n}\nfunction useForkRef(refA, refB) {\n    return React.useMemo(() => refA == null && refB == null\n        ? null\n        : (refValue) => {\n            setRef(refA, refValue);\n            setRef(refB, refValue);\n        }, [refA, refB]);\n}\n\nfunction useLoseFocus(focus, disabled = false) {\n    const focused = React.useRef();\n    useLayoutEffect(() => {\n        if (disabled && focused.current) {\n            focused.current = false;\n            focus();\n        }\n    }, [disabled, focus]);\n    const onFocus = React.useCallback(() => {\n        focused.current = true;\n    }, []);\n    const onBlur = React.useCallback(() => {\n        focused.current = false;\n    }, []);\n    return { onFocus, onBlur };\n}\n\nfunction useRTL() {\n    const [isRTL, setIsRTL] = React.useState(false);\n    useLayoutEffect(() => {\n        setIsRTL(window.getComputedStyle(window.document.documentElement).direction === \"rtl\");\n    }, []);\n    return isRTL;\n}\n\nfunction useSensors() {\n    const [subscribers] = React.useState({});\n    const notifySubscribers = React.useCallback((type, event) => {\n        var _a;\n        (_a = subscribers[type]) === null || _a === void 0 ? void 0 : _a.forEach((listener) => {\n            if (!event.isPropagationStopped())\n                listener(event);\n        });\n    }, [subscribers]);\n    const registerSensors = React.useMemo(() => ({\n        onPointerDown: (event) => notifySubscribers(EVENT_ON_POINTER_DOWN, event),\n        onPointerMove: (event) => notifySubscribers(EVENT_ON_POINTER_MOVE, event),\n        onPointerUp: (event) => notifySubscribers(EVENT_ON_POINTER_UP, event),\n        onPointerLeave: (event) => notifySubscribers(EVENT_ON_POINTER_LEAVE, event),\n        onPointerCancel: (event) => notifySubscribers(EVENT_ON_POINTER_CANCEL, event),\n        onKeyDown: (event) => notifySubscribers(EVENT_ON_KEY_DOWN, event),\n        onKeyUp: (event) => notifySubscribers(EVENT_ON_KEY_UP, event),\n        onWheel: (event) => notifySubscribers(EVENT_ON_WHEEL, event),\n    }), [notifySubscribers]);\n    const subscribeSensors = React.useCallback((type, callback) => {\n        if (!subscribers[type]) {\n            subscribers[type] = [];\n        }\n        subscribers[type].unshift(callback);\n        return () => {\n            const listeners = subscribers[type];\n            if (listeners) {\n                listeners.splice(0, listeners.length, ...listeners.filter((el) => el !== callback));\n            }\n        };\n    }, [subscribers]);\n    return { registerSensors, subscribeSensors };\n}\n\nfunction useThrottle(callback, delay) {\n    const lastCallbackTime = React.useRef(0);\n    const delayCallback = useDelay();\n    const executeCallback = useEventCallback((...args) => {\n        lastCallbackTime.current = Date.now();\n        callback(args);\n    });\n    return React.useCallback((...args) => {\n        delayCallback(() => {\n            executeCallback(args);\n        }, delay - (Date.now() - lastCallbackTime.current));\n    }, [delay, executeCallback, delayCallback]);\n}\n\nconst slidePrefix = makeComposePrefix(\"slide\");\nconst slideImagePrefix = makeComposePrefix(\"slide_image\");\nfunction ImageSlide({ slide: image, offset, render, rect, imageFit, imageProps, onClick, onLoad, onError, style, }) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const [status, setStatus] = React.useState(SLIDE_STATUS_LOADING);\n    const { publish } = useEvents();\n    const { setTimeout } = useTimeouts();\n    const imageRef = React.useRef(null);\n    React.useEffect(() => {\n        if (offset === 0) {\n            publish(activeSlideStatus(status));\n        }\n    }, [offset, status, publish]);\n    const handleLoading = useEventCallback((img) => {\n        (\"decode\" in img ? img.decode() : Promise.resolve())\n            .catch(() => { })\n            .then(() => {\n            if (!img.parentNode) {\n                return;\n            }\n            setStatus(SLIDE_STATUS_COMPLETE);\n            setTimeout(() => {\n                onLoad === null || onLoad === void 0 ? void 0 : onLoad(img);\n            }, 0);\n        });\n    });\n    const setImageRef = React.useCallback((img) => {\n        imageRef.current = img;\n        if (img === null || img === void 0 ? void 0 : img.complete) {\n            handleLoading(img);\n        }\n    }, [handleLoading]);\n    const handleOnLoad = React.useCallback((event) => {\n        handleLoading(event.currentTarget);\n    }, [handleLoading]);\n    const handleOnError = useEventCallback(() => {\n        setStatus(SLIDE_STATUS_ERROR);\n        onError === null || onError === void 0 ? void 0 : onError();\n    });\n    const cover = isImageFitCover(image, imageFit);\n    const nonInfinite = (value, fallback) => (Number.isFinite(value) ? value : fallback);\n    const maxWidth = nonInfinite(Math.max(...((_b = (_a = image.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) !== null && _b !== void 0 ? _b : []).concat(image.width ? [image.width] : []).filter(Boolean)), ((_c = imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalWidth) || 0);\n    const maxHeight = nonInfinite(Math.max(...((_e = (_d = image.srcSet) === null || _d === void 0 ? void 0 : _d.map((x) => x.height)) !== null && _e !== void 0 ? _e : []).concat(image.height ? [image.height] : []).filter(Boolean)), ((_f = imageRef.current) === null || _f === void 0 ? void 0 : _f.naturalHeight) || 0);\n    const defaultStyle = maxWidth && maxHeight\n        ? {\n            maxWidth: `min(${maxWidth}px, 100%)`,\n            maxHeight: `min(${maxHeight}px, 100%)`,\n        }\n        : {\n            maxWidth: \"100%\",\n            maxHeight: \"100%\",\n        };\n    const srcSet = (_g = image.srcSet) === null || _g === void 0 ? void 0 : _g.sort((a, b) => a.width - b.width).map((item) => `${item.src} ${item.width}w`).join(\", \");\n    const estimateActualWidth = () => rect && !cover && image.width && image.height ? (rect.height / image.height) * image.width : Number.MAX_VALUE;\n    const sizes = srcSet && rect && hasWindow() ? `${Math.round(Math.min(estimateActualWidth(), rect.width))}px` : undefined;\n    const { style: imagePropsStyle, className: imagePropsClassName, ...restImageProps } = imageProps || {};\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"img\", { ref: setImageRef, onLoad: handleOnLoad, onError: handleOnError, onClick: onClick, draggable: false, className: clsx(cssClass(slideImagePrefix()), cover && cssClass(slideImagePrefix(\"cover\")), status !== SLIDE_STATUS_COMPLETE && cssClass(slideImagePrefix(\"loading\")), imagePropsClassName), style: { ...defaultStyle, ...style, ...imagePropsStyle }, ...restImageProps, alt: image.alt, sizes: sizes, srcSet: srcSet, src: image.src }),\n        status !== SLIDE_STATUS_COMPLETE && (React.createElement(\"div\", { className: cssClass(slidePrefix(SLIDE_STATUS_PLACEHOLDER)) },\n            status === SLIDE_STATUS_LOADING &&\n                ((render === null || render === void 0 ? void 0 : render.iconLoading) ? (render.iconLoading()) : (React.createElement(LoadingIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_LOADING))) }))),\n            status === SLIDE_STATUS_ERROR &&\n                ((render === null || render === void 0 ? void 0 : render.iconError) ? (render.iconError()) : (React.createElement(ErrorIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_ERROR))) })))))));\n}\n\nconst LightboxRoot = React.forwardRef(function LightboxRoot({ className, children, ...rest }, ref) {\n    const nodeRef = React.useRef(null);\n    return (React.createElement(DocumentContextProvider, { nodeRef: nodeRef },\n        React.createElement(\"div\", { ref: useForkRef(ref, nodeRef), className: clsx(cssClass(\"root\"), className), ...rest }, children)));\n});\n\nvar SwipeState;\n(function (SwipeState) {\n    SwipeState[SwipeState[\"NONE\"] = 0] = \"NONE\";\n    SwipeState[SwipeState[\"SWIPE\"] = 1] = \"SWIPE\";\n    SwipeState[SwipeState[\"PULL\"] = 2] = \"PULL\";\n    SwipeState[SwipeState[\"ANIMATION\"] = 3] = \"ANIMATION\";\n})(SwipeState || (SwipeState = {}));\n\nfunction usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled) {\n    React.useEffect(() => !disabled\n        ? cleanup(subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp))\n        : () => { }, [subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled]);\n}\n\nvar Gesture;\n(function (Gesture) {\n    Gesture[Gesture[\"NONE\"] = 0] = \"NONE\";\n    Gesture[Gesture[\"SWIPE\"] = 1] = \"SWIPE\";\n    Gesture[Gesture[\"PULL\"] = 2] = \"PULL\";\n})(Gesture || (Gesture = {}));\nconst SWIPE_THRESHOLD = 30;\nfunction usePointerSwipe(subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel, pullUpEnabled, pullDownEnabled, onPullStart, onPullProgress, onPullFinish, onPullCancel) {\n    const offset = React.useRef(0);\n    const pointers = React.useRef([]);\n    const activePointer = React.useRef();\n    const startTime = React.useRef(0);\n    const gesture = React.useRef(Gesture.NONE);\n    const clearPointer = React.useCallback((event) => {\n        if (activePointer.current === event.pointerId) {\n            activePointer.current = undefined;\n            gesture.current = Gesture.NONE;\n        }\n        const currentPointers = pointers.current;\n        currentPointers.splice(0, currentPointers.length, ...currentPointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const addPointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        pointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        addPointer(event);\n    });\n    const exceedsPullThreshold = (value, threshold) => (pullDownEnabled && value > threshold) || (pullUpEnabled && value < -threshold);\n    const onPointerUp = useEventCallback((event) => {\n        if (pointers.current.find((x) => x.pointerId === event.pointerId) && activePointer.current === event.pointerId) {\n            const duration = Date.now() - startTime.current;\n            const currentOffset = offset.current;\n            if (gesture.current === Gesture.SWIPE) {\n                if (Math.abs(currentOffset) > 0.3 * containerWidth ||\n                    (Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration)) {\n                    onSwipeFinish(currentOffset, duration);\n                }\n                else {\n                    onSwipeCancel(currentOffset);\n                }\n            }\n            else if (gesture.current === Gesture.PULL) {\n                if (exceedsPullThreshold(currentOffset, 2 * SWIPE_THRESHOLD)) {\n                    onPullFinish(currentOffset, duration);\n                }\n                else {\n                    onPullCancel(currentOffset);\n                }\n            }\n            offset.current = 0;\n            gesture.current = Gesture.NONE;\n        }\n        clearPointer(event);\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointer = pointers.current.find((p) => p.pointerId === event.pointerId);\n        if (pointer) {\n            const isCurrentPointer = activePointer.current === event.pointerId;\n            if (event.buttons === 0) {\n                if (isCurrentPointer && offset.current !== 0) {\n                    onPointerUp(event);\n                }\n                else {\n                    clearPointer(pointer);\n                }\n                return;\n            }\n            const deltaX = event.clientX - pointer.clientX;\n            const deltaY = event.clientY - pointer.clientY;\n            if (activePointer.current === undefined) {\n                const startGesture = (newGesture) => {\n                    addPointer(event);\n                    activePointer.current = event.pointerId;\n                    startTime.current = Date.now();\n                    gesture.current = newGesture;\n                };\n                if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > SWIPE_THRESHOLD && isSwipeValid(deltaX)) {\n                    startGesture(Gesture.SWIPE);\n                    onSwipeStart();\n                }\n                else if (Math.abs(deltaY) > Math.abs(deltaX) && exceedsPullThreshold(deltaY, SWIPE_THRESHOLD)) {\n                    startGesture(Gesture.PULL);\n                    onPullStart();\n                }\n            }\n            else if (isCurrentPointer) {\n                if (gesture.current === Gesture.SWIPE) {\n                    offset.current = deltaX;\n                    onSwipeProgress(deltaX);\n                }\n                else if (gesture.current === Gesture.PULL) {\n                    offset.current = deltaY;\n                    onPullProgress(deltaY);\n                }\n            }\n        }\n    });\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp);\n}\n\nfunction usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY, }) {\n    const ref = React.useRef(null);\n    const listener = useEventCallback((event) => {\n        const horizontal = Math.abs(event.deltaX) > Math.abs(event.deltaY);\n        if ((horizontal && preventDefaultWheelX) || (!horizontal && preventDefaultWheelY) || event.ctrlKey) {\n            event.preventDefault();\n        }\n    });\n    return React.useCallback((node) => {\n        var _a;\n        if (node) {\n            node.addEventListener(\"wheel\", listener, { passive: false });\n        }\n        else {\n            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"wheel\", listener);\n        }\n        ref.current = node;\n    }, [listener]);\n}\n\nfunction useWheelSwipe(swipeState, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n    const offset = React.useRef(0);\n    const intent = React.useRef(0);\n    const intentCleanup = React.useRef();\n    const resetCleanup = React.useRef();\n    const wheelResidualMomentum = React.useRef(0);\n    const startTime = React.useRef(0);\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const cancelSwipeIntentCleanup = React.useCallback(() => {\n        if (intentCleanup.current) {\n            clearTimeout(intentCleanup.current);\n            intentCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const cancelSwipeResetCleanup = React.useCallback(() => {\n        if (resetCleanup.current) {\n            clearTimeout(resetCleanup.current);\n            resetCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const handleCleanup = useEventCallback(() => {\n        if (swipeState !== SwipeState.SWIPE) {\n            offset.current = 0;\n            startTime.current = 0;\n            cancelSwipeIntentCleanup();\n            cancelSwipeResetCleanup();\n        }\n    });\n    React.useEffect(handleCleanup, [swipeState, handleCleanup]);\n    const handleCancelSwipe = useEventCallback((currentSwipeOffset) => {\n        resetCleanup.current = undefined;\n        if (offset.current === currentSwipeOffset) {\n            onSwipeCancel(offset.current);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey) {\n            return;\n        }\n        if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n            return;\n        }\n        if (swipeState === SwipeState.NONE) {\n            if (Math.abs(event.deltaX) <= 1.2 * Math.abs(wheelResidualMomentum.current)) {\n                wheelResidualMomentum.current = event.deltaX;\n                return;\n            }\n            if (!isSwipeValid(-event.deltaX)) {\n                return;\n            }\n            intent.current += event.deltaX;\n            cancelSwipeIntentCleanup();\n            if (Math.abs(intent.current) > 30) {\n                intent.current = 0;\n                wheelResidualMomentum.current = 0;\n                startTime.current = Date.now();\n                onSwipeStart();\n            }\n            else {\n                const currentSwipeIntent = intent.current;\n                intentCleanup.current = setTimeout(() => {\n                    intentCleanup.current = undefined;\n                    if (currentSwipeIntent === intent.current) {\n                        intent.current = 0;\n                    }\n                }, swipeAnimationDuration);\n            }\n        }\n        else if (swipeState === SwipeState.SWIPE) {\n            let newSwipeOffset = offset.current - event.deltaX;\n            newSwipeOffset = Math.min(Math.abs(newSwipeOffset), containerWidth) * Math.sign(newSwipeOffset);\n            offset.current = newSwipeOffset;\n            onSwipeProgress(newSwipeOffset);\n            cancelSwipeResetCleanup();\n            if (Math.abs(newSwipeOffset) > 0.2 * containerWidth) {\n                wheelResidualMomentum.current = event.deltaX;\n                onSwipeFinish(newSwipeOffset, Date.now() - startTime.current);\n                return;\n            }\n            resetCleanup.current = setTimeout(() => handleCancelSwipe(newSwipeOffset), 2 * swipeAnimationDuration);\n        }\n        else {\n            wheelResidualMomentum.current = event.deltaX;\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_WHEEL, onWheel), [subscribeSensors, onWheel]);\n}\n\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = React.createContext(null);\nconst useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nfunction Controller({ children, ...props }) {\n    var _a;\n    const { carousel, animation, controller, on, styles, render } = props;\n    const { closeOnPullUp, closeOnPullDown, preventDefaultWheelX, preventDefaultWheelY } = controller;\n    const [toolbarWidth, setToolbarWidth] = React.useState();\n    const state = useLightboxState();\n    const dispatch = useLightboxDispatch();\n    const [swipeState, setSwipeState] = React.useState(SwipeState.NONE);\n    const swipeOffset = React.useRef(0);\n    const pullOffset = React.useRef(0);\n    const pullOpacity = React.useRef(1);\n    const { registerSensors, subscribeSensors } = useSensors();\n    const { subscribe, publish } = useEvents();\n    const cleanupAnimationIncrement = useDelay();\n    const cleanupSwipeOffset = useDelay();\n    const cleanupPullOffset = useDelay();\n    const { containerRef, setContainerRef, containerRect } = useContainerRect();\n    const handleContainerRef = useForkRef(usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY }), setContainerRef);\n    const carouselRef = React.useRef(null);\n    const setCarouselRef = useForkRef(carouselRef, undefined);\n    const { getOwnerDocument } = useDocumentContext();\n    const isRTL = useRTL();\n    const rtl = (value) => (isRTL ? -1 : 1) * (typeof value === \"number\" ? value : 1);\n    const focus = useEventCallback(() => { var _a; return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus(); });\n    const getLightboxProps = useEventCallback(() => props);\n    const getLightboxState = useEventCallback(() => state);\n    const prev = React.useCallback((params) => publish(ACTION_PREV, params), [publish]);\n    const next = React.useCallback((params) => publish(ACTION_NEXT, params), [publish]);\n    const close = React.useCallback(() => publish(ACTION_CLOSE), [publish]);\n    const isSwipeValid = (offset) => !(carousel.finite &&\n        ((rtl(offset) > 0 && state.currentIndex === 0) ||\n            (rtl(offset) < 0 && state.currentIndex === state.slides.length - 1)));\n    const setSwipeOffset = (offset) => {\n        var _a;\n        swipeOffset.current = offset;\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), `${Math.round(offset)}px`);\n    };\n    const setPullOffset = (offset) => {\n        var _a, _b;\n        pullOffset.current = offset;\n        pullOpacity.current = (() => {\n            const threshold = 60;\n            const minOpacity = 0.5;\n            const offsetValue = (() => {\n                if (closeOnPullDown && offset > 0)\n                    return offset;\n                if (closeOnPullUp && offset < 0)\n                    return -offset;\n                return 0;\n            })();\n            return Math.min(Math.max(round(1 - (offsetValue / threshold) * (1 - minOpacity), 2), minOpacity), 1);\n        })();\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"pull_offset\"), `${Math.round(offset)}px`);\n        (_b = containerRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(cssVar(\"pull_opacity\"), `${pullOpacity.current}`);\n    };\n    const { prepareAnimation: preparePullAnimation } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n        if (carouselRef.current && containerRect) {\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(0, ${snapshot.rect.y - rect.y + translate.y}px)`,\n                        opacity: snapshot.opacity,\n                    },\n                    { transform: \"translate(0, 0)\", opacity: 1 },\n                ],\n                duration: snapshot.duration,\n                easing: animation.easing.fade,\n            };\n        }\n        return undefined;\n    });\n    const pull = (offset, cancel) => {\n        if (closeOnPullUp || closeOnPullDown) {\n            setPullOffset(offset);\n            let duration = 0;\n            if (carouselRef.current) {\n                duration = animation.fade * (cancel ? 2 : 1);\n                preparePullAnimation({\n                    rect: carouselRef.current.getBoundingClientRect(),\n                    opacity: pullOpacity.current,\n                    duration,\n                });\n            }\n            cleanupPullOffset(() => {\n                setPullOffset(0);\n                setSwipeState(SwipeState.NONE);\n            }, duration);\n            setSwipeState(SwipeState.ANIMATION);\n            if (!cancel) {\n                close();\n            }\n        }\n    };\n    const { prepareAnimation, isAnimationPlaying } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n        var _a;\n        if (carouselRef.current && containerRect && ((_a = state.animation) === null || _a === void 0 ? void 0 : _a.duration)) {\n            const parsedSpacing = parseLengthPercentage(carousel.spacing);\n            const spacingValue = (parsedSpacing.percent ? (parsedSpacing.percent * containerRect.width) / 100 : parsedSpacing.pixel) || 0;\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(${rtl(state.globalIndex - snapshot.index) * (containerRect.width + spacingValue) +\n                            snapshot.rect.x -\n                            rect.x +\n                            translate.x}px, 0)`,\n                    },\n                    { transform: \"translate(0, 0)\" },\n                ],\n                duration: state.animation.duration,\n                easing: state.animation.easing,\n            };\n        }\n        return undefined;\n    });\n    const swipe = useEventCallback((action) => {\n        var _a, _b;\n        const currentSwipeOffset = action.offset || 0;\n        const swipeDuration = !currentSwipeOffset ? ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) : animation.swipe;\n        const swipeEasing = !currentSwipeOffset && !isAnimationPlaying() ? animation.easing.navigation : animation.easing.swipe;\n        let { direction } = action;\n        const count = (_b = action.count) !== null && _b !== void 0 ? _b : 1;\n        let newSwipeState = SwipeState.ANIMATION;\n        let newSwipeAnimationDuration = swipeDuration * count;\n        if (!direction) {\n            const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n            const elapsedTime = action.duration || 0;\n            const expectedTime = containerWidth\n                ? (swipeDuration / containerWidth) * Math.abs(currentSwipeOffset)\n                : swipeDuration;\n            if (count !== 0) {\n                if (elapsedTime < expectedTime) {\n                    newSwipeAnimationDuration =\n                        (newSwipeAnimationDuration / expectedTime) * Math.max(elapsedTime, expectedTime / 5);\n                }\n                else if (containerWidth) {\n                    newSwipeAnimationDuration =\n                        (swipeDuration / containerWidth) * (containerWidth - Math.abs(currentSwipeOffset));\n                }\n                direction = rtl(currentSwipeOffset) > 0 ? ACTION_PREV : ACTION_NEXT;\n            }\n            else {\n                newSwipeAnimationDuration = swipeDuration / 2;\n            }\n        }\n        let increment = 0;\n        if (direction === ACTION_PREV) {\n            if (isSwipeValid(rtl(1))) {\n                increment = -count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        else if (direction === ACTION_NEXT) {\n            if (isSwipeValid(rtl(-1))) {\n                increment = count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n        cleanupSwipeOffset(() => {\n            setSwipeOffset(0);\n            setSwipeState(SwipeState.NONE);\n        }, newSwipeAnimationDuration);\n        if (carouselRef.current) {\n            prepareAnimation({\n                rect: carouselRef.current.getBoundingClientRect(),\n                index: state.globalIndex,\n            });\n        }\n        setSwipeState(newSwipeState);\n        publish(ACTION_SWIPE, {\n            type: \"swipe\",\n            increment,\n            duration: newSwipeAnimationDuration,\n            easing: swipeEasing,\n        });\n    });\n    React.useEffect(() => {\n        var _a, _b;\n        if (((_a = state.animation) === null || _a === void 0 ? void 0 : _a.increment) && ((_b = state.animation) === null || _b === void 0 ? void 0 : _b.duration)) {\n            cleanupAnimationIncrement(() => dispatch({ type: \"swipe\", increment: 0 }), state.animation.duration);\n        }\n    }, [state.animation, dispatch, cleanupAnimationIncrement]);\n    const swipeParams = [\n        subscribeSensors,\n        isSwipeValid,\n        (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0,\n        animation.swipe,\n        () => setSwipeState(SwipeState.SWIPE),\n        (offset) => setSwipeOffset(offset),\n        (offset, duration) => swipe({ offset, duration, count: 1 }),\n        (offset) => swipe({ offset, count: 0 }),\n    ];\n    const pullParams = [\n        () => {\n            if (closeOnPullDown) {\n                setSwipeState(SwipeState.PULL);\n            }\n        },\n        (offset) => setPullOffset(offset),\n        (offset) => pull(offset),\n        (offset) => pull(offset, true),\n    ];\n    usePointerSwipe(...swipeParams, closeOnPullUp, closeOnPullDown, ...pullParams);\n    useWheelSwipe(swipeState, ...swipeParams);\n    const focusOnMount = useEventCallback(() => {\n        if (controller.focus &&\n            getOwnerDocument().querySelector(`.${cssClass(MODULE_PORTAL)} .${cssClass(cssContainerPrefix())}`)) {\n            focus();\n        }\n    });\n    React.useEffect(focusOnMount, [focusOnMount]);\n    const onViewCallback = useEventCallback(() => {\n        var _a;\n        (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, { index: state.currentIndex });\n    });\n    React.useEffect(onViewCallback, [state.globalIndex, onViewCallback]);\n    React.useEffect(() => cleanup(subscribe(ACTION_PREV, (action) => swipe({ direction: ACTION_PREV, ...action })), subscribe(ACTION_NEXT, (action) => swipe({ direction: ACTION_NEXT, ...action })), subscribe(ACTION_SWIPE, (action) => dispatch(action))), [subscribe, swipe, dispatch]);\n    const context = React.useMemo(() => ({\n        prev,\n        next,\n        close,\n        focus,\n        slideRect: containerRect ? computeSlideRect(containerRect, carousel.padding) : { width: 0, height: 0 },\n        containerRect: containerRect || { width: 0, height: 0 },\n        subscribeSensors,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n    }), [\n        prev,\n        next,\n        close,\n        focus,\n        subscribeSensors,\n        containerRect,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n        carousel.padding,\n    ]);\n    React.useImperativeHandle(controller.ref, () => ({\n        prev,\n        next,\n        close,\n        focus,\n        getLightboxProps,\n        getLightboxState,\n    }), [prev, next, close, focus, getLightboxProps, getLightboxState]);\n    return (React.createElement(\"div\", { ref: handleContainerRef, className: clsx(cssClass(cssContainerPrefix()), cssClass(CLASS_FLEX_CENTER)), style: {\n            ...(swipeState === SwipeState.SWIPE\n                ? { [cssVar(\"swipe_offset\")]: `${Math.round(swipeOffset.current)}px` }\n                : null),\n            ...(swipeState === SwipeState.PULL\n                ? {\n                    [cssVar(\"pull_offset\")]: `${Math.round(pullOffset.current)}px`,\n                    [cssVar(\"pull_opacity\")]: `${pullOpacity.current}`,\n                }\n                : null),\n            ...(controller.touchAction !== \"none\" ? { [cssVar(\"controller_touch_action\")]: controller.touchAction } : null),\n            ...styles.container,\n        }, ...(controller.aria ? { role: \"presentation\", \"aria-live\": \"polite\" } : null), tabIndex: -1, ...registerSensors }, containerRect && (React.createElement(ControllerContext.Provider, { value: context },\n        children, (_a = render.controls) === null || _a === void 0 ? void 0 :\n        _a.call(render)))));\n}\nconst ControllerModule = createModule(MODULE_CONTROLLER, Controller);\n\nfunction cssPrefix$2(value) {\n    return composePrefix(MODULE_CAROUSEL, value);\n}\nfunction cssSlidePrefix(value) {\n    return composePrefix(\"slide\", value);\n}\nfunction CarouselSlide({ slide, offset }) {\n    const containerRef = React.useRef(null);\n    const { currentIndex } = useLightboxState();\n    const { slideRect, close } = useController();\n    const { render, carousel: { imageFit, imageProps }, on: { click: onClick }, controller: { closeOnBackdropClick }, styles: { slide: style }, } = useLightboxProps();\n    const renderSlide = () => {\n        var _a, _b, _c, _d;\n        let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect: slideRect });\n        if (!rendered && isImageSlide(slide)) {\n            rendered = (React.createElement(ImageSlide, { slide: slide, offset: offset, render: render, rect: slideRect, imageFit: imageFit, imageProps: imageProps, onClick: offset === 0 ? () => onClick === null || onClick === void 0 ? void 0 : onClick({ index: currentIndex }) : undefined }));\n        }\n        return rendered ? (React.createElement(React.Fragment, null, (_b = render.slideHeader) === null || _b === void 0 ? void 0 :\n            _b.call(render, { slide }),\n            ((_c = render.slideContainer) !== null && _c !== void 0 ? _c : (({ children }) => children))({ slide, children: rendered }), (_d = render.slideFooter) === null || _d === void 0 ? void 0 :\n            _d.call(render, { slide }))) : null;\n    };\n    const handleBackdropClick = (event) => {\n        const container = containerRef.current;\n        const target = event.target instanceof HTMLElement ? event.target : undefined;\n        if (closeOnBackdropClick &&\n            target &&\n            container &&\n            (target === container ||\n                (Array.from(container.children).find((x) => x === target) &&\n                    target.classList.contains(cssClass(CLASS_SLIDE_WRAPPER))))) {\n            close();\n        }\n    };\n    return (React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(cssSlidePrefix()), offset === 0 && cssClass(cssSlidePrefix(\"current\")), cssClass(CLASS_FLEX_CENTER)), \"aria-hidden\": offset !== 0, onClick: handleBackdropClick, style: style }, renderSlide()));\n}\nfunction Placeholder() {\n    const style = useLightboxProps().styles.slide;\n    return React.createElement(\"div\", { className: cssClass(\"slide\"), style: style });\n}\nfunction Carousel({ carousel }) {\n    const { slides, currentIndex, globalIndex } = useLightboxState();\n    const { setCarouselRef } = useController();\n    const spacingValue = parseLengthPercentage(carousel.spacing);\n    const paddingValue = parseLengthPercentage(carousel.padding);\n    const preload = calculatePreload(carousel, slides, 1);\n    const items = [];\n    if (hasSlides(slides)) {\n        for (let index = currentIndex - preload; index <= currentIndex + preload; index += 1) {\n            const slide = getSlide(slides, index);\n            const key = globalIndex - currentIndex + index;\n            const placeholder = carousel.finite && (index < 0 || index > slides.length - 1);\n            items.push(!placeholder\n                ? {\n                    key: [`${key}`, getSlideKey(slide)].filter(Boolean).join(\"|\"),\n                    offset: index - currentIndex,\n                    slide,\n                }\n                : { key });\n        }\n    }\n    return (React.createElement(\"div\", { ref: setCarouselRef, className: clsx(cssClass(cssPrefix$2()), items.length > 0 && cssClass(cssPrefix$2(\"with_slides\"))), style: {\n            [`${cssVar(cssPrefix$2(\"slides_count\"))}`]: items.length,\n            [`${cssVar(cssPrefix$2(\"spacing_px\"))}`]: spacingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"spacing_percent\"))}`]: spacingValue.percent || 0,\n            [`${cssVar(cssPrefix$2(\"padding_px\"))}`]: paddingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"padding_percent\"))}`]: paddingValue.percent || 0,\n        } }, items.map(({ key, slide, offset }) => slide ? React.createElement(CarouselSlide, { key: key, slide: slide, offset: offset }) : React.createElement(Placeholder, { key: key }))));\n}\nconst CarouselModule = createModule(MODULE_CAROUSEL, Carousel);\n\nfunction useNavigationState() {\n    const { carousel } = useLightboxProps();\n    const { slides, currentIndex } = useLightboxState();\n    const prevDisabled = slides.length === 0 || (carousel.finite && currentIndex === 0);\n    const nextDisabled = slides.length === 0 || (carousel.finite && currentIndex === slides.length - 1);\n    return { prevDisabled, nextDisabled };\n}\n\nfunction useKeyboardNavigation(subscribeSensors) {\n    var _a;\n    const isRTL = useRTL();\n    const { publish } = useEvents();\n    const { animation } = useLightboxProps();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    const throttle = ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) / 2;\n    const prev = useThrottle(() => publish(ACTION_PREV), throttle);\n    const next = useThrottle(() => publish(ACTION_NEXT), throttle);\n    const handleKeyDown = useEventCallback((event) => {\n        switch (event.key) {\n            case VK_ESCAPE:\n                publish(ACTION_CLOSE);\n                break;\n            case VK_ARROW_LEFT:\n                if (!(isRTL ? nextDisabled : prevDisabled))\n                    (isRTL ? next : prev)();\n                break;\n            case VK_ARROW_RIGHT:\n                if (!(isRTL ? prevDisabled : nextDisabled))\n                    (isRTL ? prev : next)();\n                break;\n            default:\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_KEY_DOWN, handleKeyDown), [subscribeSensors, handleKeyDown]);\n}\n\nfunction NavigationButton({ label, icon, renderIcon, action, onClick, disabled, style }) {\n    return (React.createElement(IconButton, { label: label, icon: icon, renderIcon: renderIcon, className: cssClass(`navigation_${action}`), disabled: disabled, onClick: onClick, style: style, ...useLoseFocus(useController().focus, disabled) }));\n}\nfunction Navigation({ render: { buttonPrev, buttonNext, iconPrev, iconNext }, styles }) {\n    const { prev, next, subscribeSensors } = useController();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    useKeyboardNavigation(subscribeSensors);\n    return (React.createElement(React.Fragment, null,\n        buttonPrev ? (buttonPrev()) : (React.createElement(NavigationButton, { label: \"Previous\", action: ACTION_PREV, icon: PreviousIcon, renderIcon: iconPrev, style: styles.navigationPrev, disabled: prevDisabled, onClick: prev })),\n        buttonNext ? (buttonNext()) : (React.createElement(NavigationButton, { label: \"Next\", action: ACTION_NEXT, icon: NextIcon, renderIcon: iconNext, style: styles.navigationNext, disabled: nextDisabled, onClick: next }))));\n}\nconst NavigationModule = createModule(MODULE_NAVIGATION, Navigation);\n\nconst noScroll = cssClass(CLASS_NO_SCROLL);\nconst noScrollPadding = cssClass(CLASS_NO_SCROLL_PADDING);\nfunction isHTMLElement(element) {\n    return \"style\" in element;\n}\nfunction padScrollbar(element, padding, rtl) {\n    const styles = window.getComputedStyle(element);\n    const property = rtl ? \"padding-left\" : \"padding-right\";\n    const computedValue = rtl ? styles.paddingLeft : styles.paddingRight;\n    const originalValue = element.style.getPropertyValue(property);\n    element.style.setProperty(property, `${(parseInt(computedValue) || 0) + padding}px`);\n    return () => {\n        if (originalValue) {\n            element.style.setProperty(property, originalValue);\n        }\n        else {\n            element.style.removeProperty(property);\n        }\n    };\n}\nfunction NoScroll({ noScroll: { disabled }, children }) {\n    const rtl = useRTL();\n    const { getOwnerDocument, getOwnerWindow } = useDocumentContext();\n    React.useEffect(() => {\n        if (disabled)\n            return () => { };\n        const cleanup = [];\n        const ownerWindow = getOwnerWindow();\n        const { body, documentElement } = getOwnerDocument();\n        const scrollbar = Math.round(ownerWindow.innerWidth - documentElement.clientWidth);\n        if (scrollbar > 0) {\n            cleanup.push(padScrollbar(body, scrollbar, rtl));\n            const elements = body.getElementsByTagName(\"*\");\n            for (let i = 0; i < elements.length; i += 1) {\n                const element = elements[i];\n                if (isHTMLElement(element) &&\n                    ownerWindow.getComputedStyle(element).getPropertyValue(\"position\") === \"fixed\" &&\n                    !element.classList.contains(noScrollPadding)) {\n                    cleanup.push(padScrollbar(element, scrollbar, rtl));\n                }\n            }\n        }\n        body.classList.add(noScroll);\n        return () => {\n            body.classList.remove(noScroll);\n            cleanup.forEach((clean) => clean());\n        };\n    }, [rtl, disabled, getOwnerDocument, getOwnerWindow]);\n    return React.createElement(React.Fragment, null, children);\n}\nconst NoScrollModule = createModule(MODULE_NO_SCROLL, NoScroll);\n\nfunction cssPrefix$1(value) {\n    return composePrefix(MODULE_PORTAL, value);\n}\nfunction setAttribute(element, attribute, value) {\n    const previousValue = element.getAttribute(attribute);\n    element.setAttribute(attribute, value);\n    return () => {\n        if (previousValue) {\n            element.setAttribute(attribute, previousValue);\n        }\n        else {\n            element.removeAttribute(attribute);\n        }\n    };\n}\nfunction Portal({ children, animation, styles, className, on, portal, close }) {\n    const [mounted, setMounted] = React.useState(false);\n    const [visible, setVisible] = React.useState(false);\n    const cleanup = React.useRef([]);\n    const restoreFocus = React.useRef(null);\n    const { setTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const reduceMotion = useMotionPreference();\n    const animationDuration = !reduceMotion ? animation.fade : 0;\n    React.useEffect(() => {\n        setMounted(true);\n        return () => {\n            setMounted(false);\n            setVisible(false);\n        };\n    }, []);\n    const handleCleanup = useEventCallback(() => {\n        cleanup.current.forEach((clean) => clean());\n        cleanup.current = [];\n    });\n    const handleClose = useEventCallback(() => {\n        var _a;\n        setVisible(false);\n        handleCleanup();\n        (_a = on.exiting) === null || _a === void 0 ? void 0 : _a.call(on);\n        setTimeout(() => {\n            var _a;\n            (_a = on.exited) === null || _a === void 0 ? void 0 : _a.call(on);\n            close();\n        }, animationDuration);\n    });\n    React.useEffect(() => subscribe(ACTION_CLOSE, handleClose), [subscribe, handleClose]);\n    const handleEnter = useEventCallback((node) => {\n        var _a, _b, _c;\n        node.scrollTop;\n        setVisible(true);\n        (_a = on.entering) === null || _a === void 0 ? void 0 : _a.call(on);\n        const elements = (_c = (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : [];\n        for (let i = 0; i < elements.length; i += 1) {\n            const element = elements[i];\n            if ([\"TEMPLATE\", \"SCRIPT\", \"STYLE\"].indexOf(element.tagName) === -1 && element !== node) {\n                cleanup.current.push(setAttribute(element, \"inert\", \"true\"));\n                cleanup.current.push(setAttribute(element, \"aria-hidden\", \"true\"));\n            }\n        }\n        cleanup.current.push(() => {\n            var _a, _b;\n            (_b = (_a = restoreFocus.current) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n        setTimeout(() => {\n            var _a;\n            (_a = on.entered) === null || _a === void 0 ? void 0 : _a.call(on);\n        }, animationDuration);\n    });\n    const handleRef = React.useCallback((node) => {\n        if (node) {\n            handleEnter(node);\n        }\n        else {\n            handleCleanup();\n        }\n    }, [handleEnter, handleCleanup]);\n    return mounted\n        ? createPortal(React.createElement(LightboxRoot, { ref: handleRef, className: clsx(className, cssClass(cssPrefix$1()), cssClass(CLASS_NO_SCROLL_PADDING), visible && cssClass(cssPrefix$1(\"open\"))), role: \"presentation\", \"aria-live\": \"polite\", style: {\n                ...(animation.fade !== LightboxDefaultProps.animation.fade\n                    ? { [cssVar(\"fade_animation_duration\")]: `${animationDuration}ms` }\n                    : null),\n                ...(animation.easing.fade !== LightboxDefaultProps.animation.easing.fade\n                    ? { [cssVar(\"fade_animation_timing_function\")]: animation.easing.fade }\n                    : null),\n                ...styles.root,\n            }, onFocus: (event) => {\n                if (!restoreFocus.current) {\n                    restoreFocus.current = event.relatedTarget;\n                }\n            } }, children), portal.root || document.body)\n        : null;\n}\nconst PortalModule = createModule(MODULE_PORTAL, Portal);\n\nfunction Root({ children }) {\n    return React.createElement(React.Fragment, null, children);\n}\nconst RootModule = createModule(MODULE_ROOT, Root);\n\nfunction cssPrefix(value) {\n    return composePrefix(MODULE_TOOLBAR, value);\n}\nfunction Toolbar({ toolbar: { buttons }, render: { buttonClose, iconClose }, styles }) {\n    const { close, setToolbarWidth } = useController();\n    const { setContainerRef, containerRect } = useContainerRect();\n    useLayoutEffect(() => {\n        setToolbarWidth(containerRect === null || containerRect === void 0 ? void 0 : containerRect.width);\n    }, [setToolbarWidth, containerRect === null || containerRect === void 0 ? void 0 : containerRect.width]);\n    const renderCloseButton = () => {\n        if (buttonClose)\n            return buttonClose();\n        return React.createElement(IconButton, { key: ACTION_CLOSE, label: \"Close\", icon: CloseIcon, renderIcon: iconClose, onClick: close });\n    };\n    return (React.createElement(\"div\", { ref: setContainerRef, style: styles.toolbar, className: cssClass(cssPrefix()) }, buttons === null || buttons === void 0 ? void 0 : buttons.map((button) => (button === ACTION_CLOSE ? renderCloseButton() : button))));\n}\nconst ToolbarModule = createModule(MODULE_TOOLBAR, Toolbar);\n\nfunction renderNode(node, props) {\n    var _a;\n    return React.createElement(node.module.component, { key: node.module.name, ...props }, (_a = node.children) === null || _a === void 0 ? void 0 : _a.map((child) => renderNode(child, props)));\n}\nfunction mergeAnimation(defaultAnimation, animation = {}) {\n    const { easing: defaultAnimationEasing, ...restDefaultAnimation } = defaultAnimation;\n    const { easing, ...restAnimation } = animation;\n    return {\n        easing: { ...defaultAnimationEasing, ...easing },\n        ...restDefaultAnimation,\n        ...restAnimation,\n    };\n}\nfunction Lightbox({ carousel, animation, render, toolbar, controller, noScroll, on, plugins, slides, index, ...restProps }) {\n    const { animation: defaultAnimation, carousel: defaultCarousel, render: defaultRender, toolbar: defaultToolbar, controller: defaultController, noScroll: defaultNoScroll, on: defaultOn, slides: defaultSlides, index: defaultIndex, plugins: defaultPlugins, ...restDefaultProps } = LightboxDefaultProps;\n    const { config, augmentation } = withPlugins([\n        createNode(PortalModule, [\n            createNode(NoScrollModule, [\n                createNode(ControllerModule, [\n                    createNode(CarouselModule),\n                    createNode(ToolbarModule),\n                    createNode(NavigationModule),\n                ]),\n            ]),\n        ]),\n    ], plugins || defaultPlugins);\n    const props = augmentation({\n        animation: mergeAnimation(defaultAnimation, animation),\n        carousel: { ...defaultCarousel, ...carousel },\n        render: { ...defaultRender, ...render },\n        toolbar: { ...defaultToolbar, ...toolbar },\n        controller: { ...defaultController, ...controller },\n        noScroll: { ...defaultNoScroll, ...noScroll },\n        on: { ...defaultOn, ...on },\n        ...restDefaultProps,\n        ...restProps,\n    });\n    if (!props.open)\n        return null;\n    return (React.createElement(LightboxPropsProvider, { ...props },\n        React.createElement(LightboxStateProvider, { slides: slides || defaultSlides, index: parseInt(index || defaultIndex) },\n            React.createElement(TimeoutsProvider, null,\n                React.createElement(EventsProvider, null, renderNode(createNode(RootModule, config), props))))));\n}\n\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, CLASS_FLEX_CENTER, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, CLASS_SLIDE_WRAPPER, Carousel, CarouselModule, CloseIcon, Controller, ControllerContext, ControllerModule, DocumentContext, DocumentContextProvider, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, ErrorIcon, EventsContext, EventsProvider, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, IconButton, ImageSlide, Lightbox, LightboxDefaultProps, LightboxDispatchContext, LightboxPropsContext, LightboxPropsProvider, LightboxRoot, LightboxStateContext, LightboxStateProvider, LoadingIcon, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, Navigation, NavigationButton, NavigationModule, NextIcon, NoScroll, NoScrollModule, Portal, PortalModule, PreviousIcon, Root, RootModule, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SwipeState, TimeoutsContext, TimeoutsProvider, Toolbar, ToolbarModule, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus, addToolbarButton, calculatePreload, cleanup, clsx, composePrefix, computeSlideRect, createIcon, createIconDisabled, createModule, createNode, cssClass, cssVar, Lightbox as default, devicePixelRatio, getSlide, getSlideIfPresent, getSlideIndex, getSlideKey, hasSlides, hasWindow, isImageFitCover, isImageSlide, label, makeComposePrefix, makeUseContext, parseInt, parseLengthPercentage, round, setRef, stopNavigationEventsPropagation, useAnimation, useContainerRect, useController, useDelay, useDocumentContext, useEventCallback, useEvents, useForkRef, useKeyboardNavigation, useLayoutEffect, useLightboxDispatch, useLightboxProps, useLightboxState, useLoseFocus, useMotionPreference, useNavigationState, usePointerEvents, usePointerSwipe, usePreventWheelDefaults, useRTL, useSensors, useThrottle, useTimeouts, useWheelSwipe, withPlugins };","import * as React from 'react';\nimport { cssClass, useLightboxProps, makeUseContext, useController, clsx, cssVar, createIcon, createIconDisabled, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport { PLUGIN_CAPTIONS } from '../../types.js';\n\nconst cssPrefix = (className) => cssClass(`slide_${className}`);\n\nconst defaultCaptionsProps = {\n    descriptionTextAlign: \"start\",\n    descriptionMaxLines: 3,\n    showToggle: false,\n    hidden: false,\n};\nconst resolveCaptionsProps = (captions) => ({\n    ...defaultCaptionsProps,\n    ...captions,\n});\nfunction useCaptionsProps() {\n    const { captions } = useLightboxProps();\n    return resolveCaptionsProps(captions);\n}\n\nconst CaptionsContext = React.createContext(null);\nconst useCaptions = makeUseContext(\"useCaptions\", \"CaptionsContext\", CaptionsContext);\nfunction CaptionsContextProvider({ captions, children }) {\n    const { ref, hidden } = resolveCaptionsProps(captions);\n    const [visible, setVisible] = React.useState(!hidden);\n    const context = React.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return React.createElement(CaptionsContext.Provider, { value: context }, children);\n}\n\nfunction Title({ title }) {\n    const { toolbarWidth } = useController();\n    const { styles } = useLightboxProps();\n    const { visible } = useCaptions();\n    if (!visible)\n        return null;\n    return (React.createElement(\"div\", { style: styles.captionsTitleContainer, className: clsx(cssPrefix(\"captions_container\"), cssPrefix(\"title_container\")) },\n        React.createElement(\"div\", { className: cssPrefix(\"title\"), style: {\n                ...(toolbarWidth ? { [cssVar(\"toolbar_width\")]: `${toolbarWidth}px` } : null),\n                ...styles.captionsTitle,\n            } }, title)));\n}\n\nfunction Description({ description }) {\n    const { descriptionTextAlign, descriptionMaxLines } = useCaptionsProps();\n    const { styles } = useLightboxProps();\n    const { visible } = useCaptions();\n    if (!visible)\n        return null;\n    return (React.createElement(\"div\", { style: styles.captionsDescriptionContainer, className: clsx(cssPrefix(\"captions_container\"), cssPrefix(\"description_container\")) },\n        React.createElement(\"div\", { className: cssPrefix(\"description\"), style: {\n                ...(descriptionTextAlign !== defaultCaptionsProps.descriptionTextAlign ||\n                    descriptionMaxLines !== defaultCaptionsProps.descriptionMaxLines\n                    ? {\n                        [cssVar(\"slide_description_text_align\")]: descriptionTextAlign,\n                        [cssVar(\"slide_description_max_lines\")]: descriptionMaxLines,\n                    }\n                    : null),\n                ...styles.captionsDescription,\n            } }, typeof description === \"string\"\n            ? description\n                .split(\"\\n\")\n                .flatMap((line, index) => [...(index > 0 ? [React.createElement(\"br\", { key: index })] : []), line])\n            : description)));\n}\n\nconst captionsIcon = () => (React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    React.createElement(\"path\", { d: \"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z\" })));\nconst CaptionsVisible = createIcon(\"CaptionsVisible\", captionsIcon());\nconst CaptionsHidden = createIconDisabled(\"CaptionsVisible\", captionsIcon());\nfunction CaptionsButton() {\n    const { visible, show, hide } = useCaptions();\n    const { render } = useLightboxProps();\n    if (render.buttonCaptions) {\n        return React.createElement(React.Fragment, null, render.buttonCaptions({ visible, show, hide }));\n    }\n    return (React.createElement(IconButton, { label: visible ? \"Hide captions\" : \"Show captions\", icon: visible ? CaptionsVisible : CaptionsHidden, renderIcon: visible ? render.iconCaptionsVisible : render.iconCaptionsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Captions({ augment, addModule }) {\n    augment(({ captions: captionsProps, render: { slideFooter: renderFooter, ...restRender }, toolbar, ...restProps }) => {\n        const captions = resolveCaptionsProps(captionsProps);\n        return {\n            render: {\n                slideFooter: ({ slide }) => (React.createElement(React.Fragment, null, renderFooter === null || renderFooter === void 0 ? void 0 :\n                    renderFooter({ slide }),\n                    slide.title && React.createElement(Title, { title: slide.title }),\n                    slide.description && React.createElement(Description, { description: slide.description }))),\n                ...restRender,\n            },\n            toolbar: addToolbarButton(toolbar, PLUGIN_CAPTIONS, captions.showToggle ? React.createElement(CaptionsButton, null) : null),\n            captions,\n            ...restProps,\n        };\n    });\n    addModule(createModule(PLUGIN_CAPTIONS, CaptionsContextProvider));\n}\n\nexport { Captions as default };\n","import * as React from 'react';\nimport { makeUseContext, useDocumentContext, useLayoutEffect, cleanup, useEventCallback, clsx, cssClass, createIcon, useLightboxProps, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport { PLUGIN_FULLSCREEN, CLASS_FULLSIZE, PLUGIN_THUMBNAILS, MODULE_CONTROLLER } from '../../types.js';\n\nconst defaultFullscreenProps = {\n    auto: false,\n    ref: null,\n};\nconst resolveFullscreenProps = (fullscreen) => ({\n    ...defaultFullscreenProps,\n    ...fullscreen,\n});\n\nconst FullscreenContext = React.createContext(null);\nconst useFullscreen = makeUseContext(\"useFullscreen\", \"FullscreenContext\", FullscreenContext);\nfunction FullscreenContextProvider({ fullscreen: fullscreenProps, on, children }) {\n    const { auto, ref } = resolveFullscreenProps(fullscreenProps);\n    const containerRef = React.useRef(null);\n    const [disabled, setDisabled] = React.useState();\n    const [fullscreen, setFullscreen] = React.useState(false);\n    const wasFullscreen = React.useRef(false);\n    const { getOwnerDocument } = useDocumentContext();\n    useLayoutEffect(() => {\n        var _a, _b, _c, _d;\n        const ownerDocument = getOwnerDocument();\n        setDisabled(!((_d = (_c = (_b = (_a = ownerDocument.fullscreenEnabled) !== null && _a !== void 0 ? _a : ownerDocument.webkitFullscreenEnabled) !== null && _b !== void 0 ? _b : ownerDocument.mozFullScreenEnabled) !== null && _c !== void 0 ? _c : ownerDocument.msFullscreenEnabled) !== null && _d !== void 0 ? _d : false));\n    }, [getOwnerDocument]);\n    const getFullscreenElement = React.useCallback(() => {\n        var _a;\n        const ownerDocument = getOwnerDocument();\n        const fullscreenElement = ownerDocument.fullscreenElement ||\n            ownerDocument.webkitFullscreenElement ||\n            ownerDocument.mozFullScreenElement ||\n            ownerDocument.msFullscreenElement;\n        return ((_a = fullscreenElement === null || fullscreenElement === void 0 ? void 0 : fullscreenElement.shadowRoot) === null || _a === void 0 ? void 0 : _a.fullscreenElement) || fullscreenElement;\n    }, [getOwnerDocument]);\n    const enter = React.useCallback(() => {\n        const container = containerRef.current;\n        try {\n            if (container.requestFullscreen) {\n                container.requestFullscreen().catch(() => { });\n            }\n            else if (container.webkitRequestFullscreen) {\n                container.webkitRequestFullscreen();\n            }\n            else if (container.mozRequestFullScreen) {\n                container.mozRequestFullScreen();\n            }\n            else if (container.msRequestFullscreen) {\n                container.msRequestFullscreen();\n            }\n        }\n        catch (err) {\n        }\n    }, []);\n    const exit = React.useCallback(() => {\n        if (!getFullscreenElement())\n            return;\n        const ownerDocument = getOwnerDocument();\n        try {\n            if (ownerDocument.exitFullscreen) {\n                ownerDocument.exitFullscreen().catch(() => { });\n            }\n            else if (ownerDocument.webkitExitFullscreen) {\n                ownerDocument.webkitExitFullscreen();\n            }\n            else if (ownerDocument.mozCancelFullScreen) {\n                ownerDocument.mozCancelFullScreen();\n            }\n            else if (ownerDocument.msExitFullscreen) {\n                ownerDocument.msExitFullscreen();\n            }\n        }\n        catch (err) {\n        }\n    }, [getFullscreenElement, getOwnerDocument]);\n    React.useEffect(() => {\n        const ownerDocument = getOwnerDocument();\n        const listener = () => {\n            setFullscreen(getFullscreenElement() === containerRef.current);\n        };\n        return cleanup(...[\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"].map((event) => {\n            ownerDocument.addEventListener(event, listener);\n            return () => ownerDocument.removeEventListener(event, listener);\n        }));\n    }, [getFullscreenElement, getOwnerDocument]);\n    const onEnterFullscreen = useEventCallback(() => { var _a; return (_a = on.enterFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onExitFullscreen = useEventCallback(() => { var _a; return (_a = on.exitFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    React.useEffect(() => {\n        if (fullscreen) {\n            wasFullscreen.current = true;\n        }\n        if (wasFullscreen.current) {\n            (fullscreen ? onEnterFullscreen : onExitFullscreen)();\n        }\n    }, [fullscreen, onEnterFullscreen, onExitFullscreen]);\n    const handleAutoFullscreen = useEventCallback(() => {\n        var _a;\n        (_a = (auto ? enter : null)) === null || _a === void 0 ? void 0 : _a();\n        return exit;\n    });\n    React.useEffect(handleAutoFullscreen, [handleAutoFullscreen]);\n    const context = React.useMemo(() => ({ fullscreen, disabled, enter, exit }), [fullscreen, disabled, enter, exit]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return (React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(PLUGIN_FULLSCREEN), cssClass(CLASS_FULLSIZE)) },\n        React.createElement(FullscreenContext.Provider, { value: context }, children)));\n}\n\nconst EnterFullscreenIcon = createIcon(\"EnterFullscreen\", React.createElement(\"path\", { d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\" }));\nconst ExitFullscreenIcon = createIcon(\"ExitFullscreen\", React.createElement(\"path\", { d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\" }));\nfunction FullscreenButton() {\n    var _a;\n    const { fullscreen, disabled, enter, exit } = useFullscreen();\n    const { render } = useLightboxProps();\n    if (disabled)\n        return null;\n    if (render.buttonFullscreen) {\n        return React.createElement(React.Fragment, null, (_a = render.buttonFullscreen) === null || _a === void 0 ? void 0 : _a.call(render, { fullscreen, disabled, enter, exit }));\n    }\n    return (React.createElement(IconButton, { disabled: disabled, label: fullscreen ? \"Exit Fullscreen\" : \"Enter Fullscreen\", icon: fullscreen ? ExitFullscreenIcon : EnterFullscreenIcon, renderIcon: fullscreen ? render.iconExitFullscreen : render.iconEnterFullscreen, onClick: fullscreen ? exit : enter }));\n}\n\nfunction Fullscreen({ augment, contains, addParent }) {\n    augment(({ fullscreen, toolbar, ...restProps }) => ({\n        toolbar: addToolbarButton(toolbar, PLUGIN_FULLSCREEN, React.createElement(FullscreenButton, null)),\n        fullscreen: resolveFullscreenProps(fullscreen),\n        ...restProps,\n    }));\n    addParent(contains(PLUGIN_THUMBNAILS) ? PLUGIN_THUMBNAILS : MODULE_CONTROLLER, createModule(PLUGIN_FULLSCREEN, FullscreenContextProvider));\n}\n\nexport { Fullscreen as default };\n","import * as React from 'react';\nimport { makeUseContext, useLightboxState, useTimeouts, useEvents, useController, useEventCallback, cleanup, createIcon, useLightboxProps, useLoseFocus, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport { SLIDE_STATUS_LOADING, SLIDE_STATUS_PLAYING, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, ACTIVE_SLIDE_ERROR, SLIDE_STATUS_ERROR, ACTIVE_SLIDE_COMPLETE, SLIDE_STATUS_COMPLETE, PLUGIN_SLIDESHOW } from '../../types.js';\n\nconst defaultSlideshowProps = {\n    autoplay: false,\n    delay: 3000,\n    ref: null,\n};\nconst resolveSlideshowProps = (slideshow) => ({\n    ...defaultSlideshowProps,\n    ...slideshow,\n});\n\nconst SlideshowContext = React.createContext(null);\nconst useSlideshow = makeUseContext(\"useSlideshow\", \"SlideshowContext\", SlideshowContext);\nfunction SlideshowContextProvider({ slideshow, carousel: { finite }, on, children }) {\n    const { autoplay, delay, ref } = resolveSlideshowProps(slideshow);\n    const wasPlaying = React.useRef(autoplay);\n    const [playing, setPlaying] = React.useState(autoplay);\n    const scheduler = React.useRef();\n    const slideStatus = React.useRef();\n    const { slides, currentIndex } = useLightboxState();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const { next } = useController();\n    const disabled = slides.length === 0 || (finite && currentIndex === slides.length - 1);\n    const play = React.useCallback(() => {\n        if (!playing && !disabled) {\n            setPlaying(true);\n        }\n    }, [playing, disabled]);\n    const pause = React.useCallback(() => {\n        if (playing) {\n            setPlaying(false);\n        }\n    }, [playing]);\n    const cancelScheduler = React.useCallback(() => {\n        clearTimeout(scheduler.current);\n        scheduler.current = undefined;\n    }, [clearTimeout]);\n    const scheduleNextSlide = useEventCallback(() => {\n        cancelScheduler();\n        if (!playing ||\n            disabled ||\n            slideStatus.current === SLIDE_STATUS_LOADING ||\n            slideStatus.current === SLIDE_STATUS_PLAYING) {\n            return;\n        }\n        scheduler.current = setTimeout(() => {\n            if (playing) {\n                slideStatus.current = undefined;\n                next();\n            }\n        }, delay);\n    });\n    React.useEffect(scheduleNextSlide, [currentIndex, playing, scheduleNextSlide]);\n    React.useEffect(() => {\n        if (playing && disabled) {\n            setPlaying(false);\n        }\n    }, [currentIndex, playing, disabled]);\n    const onSlideshowStart = useEventCallback(() => { var _a; return (_a = on.slideshowStart) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onSlideshowStop = useEventCallback(() => { var _a; return (_a = on.slideshowStop) === null || _a === void 0 ? void 0 : _a.call(on); });\n    React.useEffect(() => {\n        if (playing) {\n            onSlideshowStart();\n        }\n        else if (wasPlaying.current) {\n            onSlideshowStop();\n        }\n        wasPlaying.current = playing;\n    }, [playing, onSlideshowStart, onSlideshowStop]);\n    React.useEffect(() => cleanup(cancelScheduler, subscribe(ACTIVE_SLIDE_LOADING, () => {\n        slideStatus.current = SLIDE_STATUS_LOADING;\n        cancelScheduler();\n    }), subscribe(ACTIVE_SLIDE_PLAYING, () => {\n        slideStatus.current = SLIDE_STATUS_PLAYING;\n        cancelScheduler();\n    }), subscribe(ACTIVE_SLIDE_ERROR, () => {\n        slideStatus.current = SLIDE_STATUS_ERROR;\n        scheduleNextSlide();\n    }), subscribe(ACTIVE_SLIDE_COMPLETE, () => {\n        slideStatus.current = SLIDE_STATUS_COMPLETE;\n        scheduleNextSlide();\n    })), [subscribe, cancelScheduler, scheduleNextSlide]);\n    const context = React.useMemo(() => ({ playing, disabled, play, pause }), [playing, disabled, play, pause]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return React.createElement(SlideshowContext.Provider, { value: context }, children);\n}\n\nconst PlayIcon = createIcon(\"Play\", React.createElement(\"path\", { d: \"M8 5v14l11-7z\" }));\nconst PauseIcon = createIcon(\"Pause\", React.createElement(\"path\", { d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" }));\nfunction SlideshowButton() {\n    const { playing, disabled, play, pause } = useSlideshow();\n    const { render } = useLightboxProps();\n    const focusListeners = useLoseFocus(useController().focus, disabled);\n    if (render.buttonSlideshow) {\n        return React.createElement(React.Fragment, null, render.buttonSlideshow({ playing, disabled, play, pause }));\n    }\n    return (React.createElement(IconButton, { label: playing ? \"Pause\" : \"Play\", icon: playing ? PauseIcon : PlayIcon, renderIcon: playing ? render.iconSlideshowPause : render.iconSlideshowPlay, onClick: playing ? pause : play, disabled: disabled, ...focusListeners }));\n}\n\nfunction Slideshow({ augment, addModule }) {\n    augment(({ slideshow, toolbar, ...restProps }) => ({\n        toolbar: addToolbarButton(toolbar, PLUGIN_SLIDESHOW, React.createElement(SlideshowButton, null)),\n        slideshow: resolveSlideshowProps(slideshow),\n        ...restProps,\n    }));\n    addModule(createModule(PLUGIN_SLIDESHOW, SlideshowContextProvider));\n}\n\nexport { Slideshow as default };\n","import * as React from 'react';\nimport { useLightboxProps, composePrefix, createIcon, ImageSlide, isImageSlide, cssClass, makeComposePrefix, useDocumentContext, useEventCallback, clsx, cssVar, getSlideKey, useRTL, useEvents, useLightboxState, useSensors, useKeyboardNavigation, useAnimation, cleanup, calculatePreload, hasSlides, getSlide, makeUseContext, LightboxPropsProvider, createIconDisabled, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport { PLUGIN_THUMBNAILS, ELEMENT_ICON, CLASS_FLEX_CENTER, ACTION_SWIPE, ACTION_NEXT, ACTION_PREV, PLUGIN_FULLSCREEN, MODULE_CONTROLLER } from '../../types.js';\n\nconst defaultThumbnailsProps = {\n    ref: null,\n    position: \"bottom\",\n    width: 120,\n    height: 80,\n    border: 1,\n    borderRadius: 4,\n    padding: 4,\n    gap: 16,\n    imageFit: \"contain\",\n    vignette: true,\n    hidden: false,\n    showToggle: false,\n};\nconst resolveThumbnailsProps = (thumbnails) => ({\n    ...defaultThumbnailsProps,\n    ...thumbnails,\n});\nfunction useThumbnailsProps() {\n    const { thumbnails } = useLightboxProps();\n    return resolveThumbnailsProps(thumbnails);\n}\n\nconst cssPrefix = (value) => composePrefix(PLUGIN_THUMBNAILS, value);\nconst cssThumbnailPrefix = (value) => cssPrefix(composePrefix(\"thumbnail\", value));\n\nconst VideoThumbnailIcon = createIcon(\"VideoThumbnail\", React.createElement(\"path\", { d: \"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" }));\nconst UnknownThumbnailIcon = createIcon(\"UnknownThumbnail\", React.createElement(\"path\", { d: \"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z\" }));\nfunction renderThumbnail({ slide, render, rect, imageFit }) {\n    var _a;\n    const customThumbnail = (_a = render.thumbnail) === null || _a === void 0 ? void 0 : _a.call(render, { slide, render, rect, imageFit });\n    if (customThumbnail) {\n        return customThumbnail;\n    }\n    const imageSlideProps = { render, rect, imageFit };\n    if (slide.thumbnail) {\n        return React.createElement(ImageSlide, { slide: { src: slide.thumbnail }, ...imageSlideProps });\n    }\n    if (isImageSlide(slide)) {\n        return React.createElement(ImageSlide, { slide: slide, ...imageSlideProps });\n    }\n    const thumbnailIconClass = cssClass(cssThumbnailPrefix(ELEMENT_ICON));\n    if (slide.type === \"video\") {\n        return (React.createElement(React.Fragment, null,\n            slide.poster && React.createElement(ImageSlide, { slide: { src: slide.poster }, ...imageSlideProps }),\n            React.createElement(VideoThumbnailIcon, { className: thumbnailIconClass })));\n    }\n    return React.createElement(UnknownThumbnailIcon, { className: thumbnailIconClass });\n}\nconst activePrefix = makeComposePrefix(\"active\");\nconst fadeInPrefix = makeComposePrefix(\"fadein\");\nconst fadeOutPrefix = makeComposePrefix(\"fadeout\");\nconst placeholderPrefix = makeComposePrefix(\"placeholder\");\nconst DELAY = \"delay\";\nconst DURATION = \"duration\";\nfunction Thumbnail({ slide, onClick, active, fadeIn, fadeOut, placeholder, onLoseFocus }) {\n    const ref = React.useRef(null);\n    const { render, styles } = useLightboxProps();\n    const { getOwnerDocument } = useDocumentContext();\n    const { width, height, imageFit } = useThumbnailsProps();\n    const rect = { width, height };\n    const onLoseFocusCallback = useEventCallback(onLoseFocus);\n    React.useEffect(() => {\n        if (fadeOut && getOwnerDocument().activeElement === ref.current) {\n            onLoseFocusCallback();\n        }\n    }, [fadeOut, onLoseFocusCallback, getOwnerDocument]);\n    return (React.createElement(\"button\", { ref: ref, type: \"button\", className: clsx(cssClass(CLASS_FLEX_CENTER), cssClass(cssThumbnailPrefix()), active && cssClass(cssThumbnailPrefix(activePrefix())), fadeIn && cssClass(cssThumbnailPrefix(fadeInPrefix())), fadeOut && cssClass(cssThumbnailPrefix(fadeOutPrefix())), placeholder && cssClass(cssThumbnailPrefix(placeholderPrefix()))), style: {\n            ...(fadeIn\n                ? {\n                    [cssVar(cssThumbnailPrefix(fadeInPrefix(DURATION)))]: `${fadeIn.duration}ms`,\n                    [cssVar(cssThumbnailPrefix(fadeInPrefix(DELAY)))]: `${fadeIn.delay}ms`,\n                }\n                : null),\n            ...(fadeOut\n                ? {\n                    [cssVar(cssThumbnailPrefix(fadeOutPrefix(DURATION)))]: `${fadeOut.duration}ms`,\n                    [cssVar(cssThumbnailPrefix(fadeOutPrefix(DELAY)))]: `${fadeOut.delay}ms`,\n                }\n                : null),\n            ...styles.thumbnail,\n        }, onClick: onClick }, slide && renderThumbnail({ slide, render, rect, imageFit })));\n}\n\nfunction isHorizontal(position) {\n    return [\"top\", \"bottom\"].includes(position);\n}\nfunction boxSize(thumbnails, dimension) {\n    return dimension + 2 * (thumbnails.border + thumbnails.padding) + thumbnails.gap;\n}\nfunction getThumbnailKey(slide) {\n    const { thumbnail, poster } = slide || { thumbnail: \"placeholder\" };\n    return ((typeof thumbnail === \"string\" && thumbnail) ||\n        (typeof poster === \"string\" && poster) ||\n        (slide && getSlideKey(slide)) ||\n        undefined);\n}\nfunction ThumbnailsTrack({ visible, containerRef }) {\n    const track = React.useRef(null);\n    const isRTL = useRTL();\n    const { publish, subscribe } = useEvents();\n    const { carousel, styles } = useLightboxProps();\n    const { slides, globalIndex, animation } = useLightboxState();\n    const { registerSensors, subscribeSensors } = useSensors();\n    useKeyboardNavigation(subscribeSensors);\n    const thumbnails = useThumbnailsProps();\n    const { position, width, height, border, borderStyle, borderColor, borderRadius, padding, gap, vignette } = thumbnails;\n    const animationDuration = (animation === null || animation === void 0 ? void 0 : animation.duration) || 0;\n    const offset = (animationDuration > 0 && (animation === null || animation === void 0 ? void 0 : animation.increment)) || 0;\n    const { prepareAnimation } = useAnimation(track, (snapshot) => ({\n        keyframes: isHorizontal(position)\n            ? [\n                {\n                    transform: `translateX(${(isRTL ? -1 : 1) * boxSize(thumbnails, width) * offset + snapshot}px)`,\n                },\n                { transform: \"translateX(0)\" },\n            ]\n            : [\n                {\n                    transform: `translateY(${boxSize(thumbnails, height) * offset + snapshot}px)`,\n                },\n                { transform: \"translateY(0)\" },\n            ],\n        duration: animationDuration,\n        easing: animation === null || animation === void 0 ? void 0 : animation.easing,\n    }));\n    const handleControllerSwipe = useEventCallback(() => {\n        let animationOffset = 0;\n        if (containerRef.current && track.current) {\n            const containerRect = containerRef.current.getBoundingClientRect();\n            const trackRect = track.current.getBoundingClientRect();\n            animationOffset = isHorizontal(position)\n                ? trackRect.left - containerRect.left - (containerRect.width - trackRect.width) / 2\n                : trackRect.top - containerRect.top - (containerRect.height - trackRect.height) / 2;\n        }\n        prepareAnimation(animationOffset);\n    });\n    React.useEffect(() => cleanup(subscribe(ACTION_SWIPE, handleControllerSwipe)), [subscribe, handleControllerSwipe]);\n    const preload = calculatePreload(carousel, slides);\n    const items = [];\n    if (hasSlides(slides)) {\n        for (let index = globalIndex - preload - Math.abs(offset); index <= globalIndex + preload + Math.abs(offset); index += 1) {\n            const placeholder = (carousel.finite && (index < 0 || index > slides.length - 1)) ||\n                (offset < 0 && index < globalIndex - preload) ||\n                (offset > 0 && index > globalIndex + preload);\n            const slide = !placeholder ? getSlide(slides, index) : null;\n            const key = [`${index}`, getThumbnailKey(slide)].filter(Boolean).join(\"|\");\n            items.push({ key, index, slide });\n        }\n    }\n    const handleClick = (slideIndex) => () => {\n        if (slideIndex > globalIndex) {\n            publish(ACTION_NEXT, { count: slideIndex - globalIndex });\n        }\n        else if (slideIndex < globalIndex) {\n            publish(ACTION_PREV, { count: globalIndex - slideIndex });\n        }\n    };\n    return (React.createElement(\"div\", { className: clsx(cssClass(cssPrefix(\"container\")), cssClass(CLASS_FLEX_CENTER)), style: {\n            ...(!visible ? { display: \"none\" } : null),\n            ...(width !== defaultThumbnailsProps.width ? { [cssVar(cssThumbnailPrefix(\"width\"))]: `${width}px` } : null),\n            ...(height !== defaultThumbnailsProps.height\n                ? { [cssVar(cssThumbnailPrefix(\"height\"))]: `${height}px` }\n                : null),\n            ...(border !== defaultThumbnailsProps.border\n                ? { [cssVar(cssThumbnailPrefix(\"border\"))]: `${border}px` }\n                : null),\n            ...(borderStyle ? { [cssVar(cssThumbnailPrefix(\"border_style\"))]: borderStyle } : null),\n            ...(borderColor ? { [cssVar(cssThumbnailPrefix(\"border_color\"))]: borderColor } : null),\n            ...(borderRadius !== defaultThumbnailsProps.borderRadius\n                ? { [cssVar(cssThumbnailPrefix(\"border_radius\"))]: `${borderRadius}px` }\n                : null),\n            ...(padding !== defaultThumbnailsProps.padding\n                ? { [cssVar(cssThumbnailPrefix(\"padding\"))]: `${padding}px` }\n                : null),\n            ...(gap !== defaultThumbnailsProps.gap ? { [cssVar(cssThumbnailPrefix(\"gap\"))]: `${gap}px` } : null),\n            ...styles.thumbnailsContainer,\n        } },\n        React.createElement(\"nav\", { ref: track, style: styles.thumbnailsTrack, className: clsx(cssClass(cssPrefix(\"track\")), cssClass(CLASS_FLEX_CENTER)), tabIndex: -1, ...registerSensors }, items.map(({ key, index, slide }) => {\n            const fadeAnimationDuration = animationDuration / Math.abs(offset || 1);\n            const fadeIn = (offset > 0 && index > globalIndex + preload - offset && index <= globalIndex + preload) ||\n                (offset < 0 && index < globalIndex - preload - offset && index >= globalIndex - preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: ((offset > 0 ? index - (globalIndex + preload - offset) : globalIndex - preload - offset - index) -\n                        1) *\n                        fadeAnimationDuration,\n                }\n                : undefined;\n            const fadeOut = (offset > 0 && index < globalIndex - preload) || (offset < 0 && index > globalIndex + preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: (offset > 0\n                        ? offset - (globalIndex - preload - index)\n                        : -offset - (index - (globalIndex + preload))) * fadeAnimationDuration,\n                }\n                : undefined;\n            return (React.createElement(Thumbnail, { key: key, slide: slide, active: index === globalIndex, fadeIn: fadeIn, fadeOut: fadeOut, placeholder: !slide, onClick: handleClick(index), onLoseFocus: () => { var _a; return (_a = track.current) === null || _a === void 0 ? void 0 : _a.focus(); } }));\n        })),\n        vignette && React.createElement(\"div\", { className: cssClass(cssPrefix(\"vignette\")) })));\n}\n\nconst ThumbnailsContext = React.createContext(null);\nconst useThumbnails = makeUseContext(\"useThumbnails\", \"ThumbnailsContext\", ThumbnailsContext);\nfunction ThumbnailsContextProvider({ children, ...props }) {\n    const { ref, position, hidden } = resolveThumbnailsProps(props.thumbnails);\n    const [visible, setVisible] = React.useState(!hidden);\n    const containerRef = React.useRef(null);\n    const context = React.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return (React.createElement(LightboxPropsProvider, { ...props },\n        React.createElement(ThumbnailsContext.Provider, { value: context },\n            React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(cssPrefix()), cssClass(cssPrefix(`${position}`))) },\n                [\"start\", \"top\"].includes(position) && React.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible }),\n                React.createElement(\"div\", { className: cssClass(cssPrefix(\"wrapper\")) }, children),\n                [\"end\", \"bottom\"].includes(position) && React.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible })))));\n}\n\nconst thumbnailsIcon = () => (React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    React.createElement(\"path\", { d: \"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z\" })));\nconst ThumbnailsVisible = createIcon(\"ThumbnailsVisible\", thumbnailsIcon());\nconst ThumbnailsHidden = createIconDisabled(\"ThumbnailsHidden\", thumbnailsIcon());\nfunction ThumbnailsButton() {\n    const { visible, show, hide } = useThumbnails();\n    const { render } = useLightboxProps();\n    if (render.buttonThumbnails) {\n        return React.createElement(React.Fragment, null, render.buttonThumbnails({ visible, show, hide }));\n    }\n    return (React.createElement(IconButton, { label: visible ? \"Hide thumbnails\" : \"Show thumbnails\", icon: visible ? ThumbnailsVisible : ThumbnailsHidden, renderIcon: visible ? render.iconThumbnailsVisible : render.iconThumbnailsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Thumbnails({ augment, contains, append, addParent }) {\n    augment(({ thumbnails: thumbnailsProps, toolbar, ...restProps }) => {\n        const thumbnails = resolveThumbnailsProps(thumbnailsProps);\n        return {\n            toolbar: addToolbarButton(toolbar, PLUGIN_THUMBNAILS, thumbnails.showToggle ? React.createElement(ThumbnailsButton, null) : null),\n            thumbnails,\n            ...restProps,\n        };\n    });\n    const module = createModule(PLUGIN_THUMBNAILS, ThumbnailsContextProvider);\n    if (contains(PLUGIN_FULLSCREEN)) {\n        append(PLUGIN_FULLSCREEN, module);\n    }\n    else {\n        addParent(MODULE_CONTROLLER, module);\n    }\n}\n\nexport { Thumbnails as default };\n","import * as React from 'react';\nimport { useLightboxProps, useEvents, useContainerRect, useEventCallback, clsx, cssClass } from '../../index.js';\nimport { ACTIVE_SLIDE_LOADING, CLASS_FLEX_CENTER, CLASS_SLIDE_WRAPPER, ACTIVE_SLIDE_PLAYING, ACTIVE_SLIDE_COMPLETE } from '../../types.js';\n\nconst defaultVideoProps = {\n    controls: true,\n    playsInline: true,\n};\nconst resolveVideoProps = (video) => ({\n    ...defaultVideoProps,\n    ...video,\n});\nfunction useVideoProps() {\n    const { video } = useLightboxProps();\n    return resolveVideoProps(video);\n}\n\nfunction VideoSlide({ slide, offset }) {\n    const video = useVideoProps();\n    const { publish } = useEvents();\n    const { setContainerRef, containerRect } = useContainerRect();\n    const videoRef = React.useRef(null);\n    React.useEffect(() => {\n        if (offset !== 0 && videoRef.current && !videoRef.current.paused) {\n            videoRef.current.pause();\n        }\n    }, [offset]);\n    React.useEffect(() => {\n        if (offset === 0 && videoRef.current && (slide.autoPlay || video.autoPlay)) {\n            publish(ACTIVE_SLIDE_LOADING);\n            videoRef.current.play().catch(() => { });\n        }\n    }, [offset, video.autoPlay, slide.autoPlay, publish]);\n    const handleVideoRef = useEventCallback((node) => {\n        if (offset === 0 && (video.autoPlay || slide.autoPlay) && node.paused) {\n            node.play().catch(() => { });\n        }\n    });\n    const setVideoRef = React.useCallback((node) => {\n        videoRef.current = node;\n        if (node) {\n            handleVideoRef(node);\n        }\n    }, [handleVideoRef]);\n    const { width, height, poster, sources } = slide;\n    const scaleWidthAndHeight = () => {\n        const scalingProps = {};\n        scalingProps.style = { maxWidth: \"100%\", maxHeight: \"100%\" };\n        if (width && height && containerRect) {\n            const widthBound = width / height > containerRect.width / containerRect.height;\n            const elementWidth = widthBound ? containerRect.width : Math.round((containerRect.height / height) * width);\n            const elementHeight = !widthBound ? containerRect.height : Math.round((containerRect.width / width) * height);\n            scalingProps.width = elementWidth;\n            scalingProps.height = elementHeight;\n            scalingProps.style.width = elementWidth;\n            scalingProps.style.height = elementHeight;\n        }\n        return scalingProps;\n    };\n    const resolveBoolean = (attr) => {\n        if (slide[attr] === false)\n            return null;\n        if (slide[attr] === true)\n            return { [attr]: true };\n        if (video[attr] === false)\n            return null;\n        if (video[attr] === true)\n            return { [attr]: true };\n        return null;\n    };\n    const resolveString = (attr) => {\n        if (video[attr] || slide[attr]) {\n            return { [attr]: slide[attr] || video[attr] };\n        }\n        return null;\n    };\n    return (React.createElement(React.Fragment, null, sources && (React.createElement(\"div\", { ref: setContainerRef, style: {\n            width: \"100%\",\n            height: \"100%\",\n            ...(width ? { maxWidth: `${width}px` } : null),\n        }, className: clsx(cssClass(\"video_container\"), cssClass(CLASS_FLEX_CENTER), cssClass(CLASS_SLIDE_WRAPPER)) }, containerRect && (React.createElement(\"video\", { ref: setVideoRef, poster: poster, ...scaleWidthAndHeight(), ...resolveBoolean(\"controls\"), ...resolveBoolean(\"playsInline\"), ...resolveBoolean(\"loop\"), ...resolveBoolean(\"muted\"), ...resolveBoolean(\"playsInline\"), ...resolveBoolean(\"disablePictureInPicture\"), ...resolveBoolean(\"disableRemotePlayback\"), ...resolveString(\"controlsList\"), ...resolveString(\"crossOrigin\"), ...resolveString(\"preload\"), onPlay: () => {\n            publish(ACTIVE_SLIDE_PLAYING);\n        }, onEnded: () => {\n            publish(ACTIVE_SLIDE_COMPLETE);\n        } }, sources.map(({ src, type, media }) => (React.createElement(\"source\", { key: [src, type, media].filter(Boolean).join(\"|\"), src: src, type: type, media: media })))))))));\n}\n\nfunction isVideoSlide(slide) {\n    return slide.type === \"video\";\n}\nfunction Video({ augment }) {\n    augment(({ render: { slide: renderSlide, ...restRender }, video, ...restProps }) => ({\n        render: {\n            slide: ({ slide, offset, rect }) => {\n                var _a;\n                return isVideoSlide(slide) ? (React.createElement(VideoSlide, { key: (_a = slide.sources) === null || _a === void 0 ? void 0 : _a.map((source) => source.src).join(\"|\"), slide: slide, offset: offset })) : (renderSlide === null || renderSlide === void 0 ? void 0 : renderSlide({ slide, offset, rect }));\n            },\n            ...restRender,\n        },\n        video: resolveVideoProps(video),\n        ...restProps,\n    }));\n}\n\nexport { Video as default };\n","import * as React from 'react';\nimport { useLightboxProps, useMotionPreference, useEventCallback, useLayoutEffect, useLightboxState, isImageSlide, isImageFitCover, round, useDocumentContext, useController, usePointerEvents, cleanup, makeUseContext, createIcon, IconButton, devicePixelRatio, ImageSlide, clsx, cssClass, addToolbarButton, createModule } from '../../index.js';\nimport { EVENT_ON_KEY_DOWN, EVENT_ON_WHEEL, UNKNOWN_ACTION_TYPE, CLASS_FULLSIZE, CLASS_FLEX_CENTER, CLASS_SLIDE_WRAPPER, CLASS_SLIDE_WRAPPER_INTERACTIVE, PLUGIN_ZOOM } from '../../types.js';\n\nconst defaultZoomProps = {\n    maxZoomPixelRatio: 1,\n    zoomInMultiplier: 2,\n    doubleTapDelay: 300,\n    doubleClickDelay: 500,\n    doubleClickMaxStops: 2,\n    keyboardMoveDistance: 50,\n    wheelZoomDistanceFactor: 100,\n    pinchZoomDistanceFactor: 100,\n    scrollToZoom: false,\n};\nconst resolveZoomProps = (zoom) => ({\n    ...defaultZoomProps,\n    ...zoom,\n});\n\nfunction useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef) {\n    const zoomAnimation = React.useRef();\n    const zoomAnimationStart = React.useRef();\n    const { zoom: zoomAnimationDuration } = useLightboxProps().animation;\n    const reduceMotion = useMotionPreference();\n    const playZoomAnimation = useEventCallback(() => {\n        var _a, _b, _c;\n        (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        zoomAnimation.current = undefined;\n        if (zoomAnimationStart.current && (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)) {\n            try {\n                zoomAnimation.current = (_c = (_b = zoomWrapperRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                    { transform: zoomAnimationStart.current },\n                    { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` },\n                ], {\n                    duration: !reduceMotion ? (zoomAnimationDuration !== null && zoomAnimationDuration !== void 0 ? zoomAnimationDuration : 500) : 0,\n                    easing: zoomAnimation.current ? \"ease-out\" : \"ease-in-out\",\n                });\n            }\n            catch (err) {\n                console.error(err);\n            }\n            zoomAnimationStart.current = undefined;\n            if (zoomAnimation.current) {\n                zoomAnimation.current.onfinish = () => {\n                    zoomAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    useLayoutEffect(playZoomAnimation, [zoom, offsetX, offsetY, playZoomAnimation]);\n    return React.useCallback(() => {\n        zoomAnimationStart.current = (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)\n            ? window.getComputedStyle(zoomWrapperRef.current).transform\n            : undefined;\n    }, [zoomWrapperRef]);\n}\n\nfunction useZoomCallback(zoom, disabled) {\n    const { on } = useLightboxProps();\n    const onZoomCallback = useEventCallback(() => {\n        var _a;\n        if (!disabled) {\n            (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, { zoom });\n        }\n    });\n    React.useEffect(onZoomCallback, [zoom, onZoomCallback]);\n}\n\nfunction useZoomProps() {\n    const { zoom } = useLightboxProps();\n    return resolveZoomProps(zoom);\n}\n\nfunction useZoomImageRect(slideRect, imageDimensions) {\n    var _a, _b;\n    let imageRect = { width: 0, height: 0 };\n    let maxImageRect = { width: 0, height: 0 };\n    const { currentSlide } = useLightboxState();\n    const { imageFit } = useLightboxProps().carousel;\n    const { maxZoomPixelRatio } = useZoomProps();\n    if (slideRect && currentSlide) {\n        const slide = { ...currentSlide, ...imageDimensions };\n        if (isImageSlide(slide)) {\n            const cover = isImageFitCover(slide, imageFit);\n            const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) || []).concat(slide.width ? [slide.width] : []));\n            const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map((x) => x.height)) || []).concat(slide.height ? [slide.height] : []));\n            if (width > 0 && height > 0 && slideRect.width > 0 && slideRect.height > 0) {\n                maxImageRect = cover\n                    ? {\n                        width: Math.round(Math.min(width, (slideRect.width / slideRect.height) * height)),\n                        height: Math.round(Math.min(height, (slideRect.height / slideRect.width) * width)),\n                    }\n                    : { width, height };\n                maxImageRect = {\n                    width: maxImageRect.width * maxZoomPixelRatio,\n                    height: maxImageRect.height * maxZoomPixelRatio,\n                };\n                imageRect = cover\n                    ? {\n                        width: Math.min(slideRect.width, maxImageRect.width, width),\n                        height: Math.min(slideRect.height, maxImageRect.height, height),\n                    }\n                    : {\n                        width: Math.round(Math.min(slideRect.width, (slideRect.height / height) * width, width)),\n                        height: Math.round(Math.min(slideRect.height, (slideRect.width / width) * height, height)),\n                    };\n            }\n        }\n    }\n    const maxZoom = imageRect.width ? Math.max(round(maxImageRect.width / imageRect.width, 5), 1) : 1;\n    return { imageRect, maxZoom };\n}\n\nfunction distance(pointerA, pointerB) {\n    return ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\n}\nfunction scaleZoom(value, delta, factor = 100, clamp = 2) {\n    return value * Math.min(1 + Math.abs(delta / factor), clamp) ** Math.sign(delta);\n}\nfunction useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapperRef) {\n    const activePointers = React.useRef([]);\n    const lastPointerDown = React.useRef(0);\n    const pinchZoomDistance = React.useRef();\n    const { globalIndex } = useLightboxState();\n    const { getOwnerWindow } = useDocumentContext();\n    const { containerRef, subscribeSensors } = useController();\n    const { keyboardMoveDistance, zoomInMultiplier, wheelZoomDistanceFactor, scrollToZoom, doubleTapDelay, doubleClickDelay, doubleClickMaxStops, pinchZoomDistanceFactor, } = useZoomProps();\n    const translateCoordinates = React.useCallback((event) => {\n        if (containerRef.current) {\n            const { pageX, pageY } = event;\n            const { scrollX, scrollY } = getOwnerWindow();\n            const { left, top, width, height } = containerRef.current.getBoundingClientRect();\n            return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n        }\n        return [];\n    }, [containerRef, getOwnerWindow]);\n    const onKeyDown = useEventCallback((event) => {\n        const preventDefault = () => {\n            event.preventDefault();\n            event.stopPropagation();\n        };\n        if (zoom > 1) {\n            const move = (deltaX, deltaY) => {\n                preventDefault();\n                changeOffsets(deltaX, deltaY);\n            };\n            if (event.key === \"ArrowDown\") {\n                move(0, keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowUp\") {\n                move(0, -keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowLeft\") {\n                move(-keyboardMoveDistance, 0);\n            }\n            else if (event.key === \"ArrowRight\") {\n                move(keyboardMoveDistance, 0);\n            }\n        }\n        const handleChangeZoom = (zoomValue) => {\n            preventDefault();\n            changeZoom(zoomValue);\n        };\n        const hasMeta = () => event.getModifierState(\"Meta\");\n        if (event.key === \"+\" || (event.key === \"=\" && hasMeta())) {\n            handleChangeZoom(zoom * zoomInMultiplier);\n        }\n        else if (event.key === \"-\" || (event.key === \"_\" && hasMeta())) {\n            handleChangeZoom(zoom / zoomInMultiplier);\n        }\n        else if (event.key === \"0\" && hasMeta()) {\n            handleChangeZoom(1);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey || scrollToZoom) {\n            if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n                event.stopPropagation();\n                changeZoom(scaleZoom(zoom, -event.deltaY, wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n                return;\n            }\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (!scrollToZoom) {\n                changeOffsets(event.deltaX, event.deltaY);\n            }\n        }\n    });\n    const clearPointer = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length, ...pointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const replacePointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        activePointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        var _a;\n        const pointers = activePointers.current;\n        if ((event.pointerType === \"mouse\" && event.buttons > 1) ||\n            !((_a = zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n        }\n        const { timeStamp } = event;\n        if (pointers.length === 0 &&\n            timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n            lastPointerDown.current = 0;\n            changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n        }\n        else {\n            lastPointerDown.current = timeStamp;\n        }\n        replacePointer(event);\n        if (pointers.length === 2) {\n            pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n        }\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointers = activePointers.current;\n        const activePointer = pointers.find((p) => p.pointerId === event.pointerId);\n        if (pointers.length === 2 && pinchZoomDistance.current) {\n            event.stopPropagation();\n            replacePointer(event);\n            const currentDistance = distance(pointers[0], pointers[1]);\n            const delta = currentDistance - pinchZoomDistance.current;\n            if (Math.abs(delta) > 0) {\n                changeZoom(scaleZoom(zoom, delta, pinchZoomDistanceFactor), true, ...pointers\n                    .map((x) => translateCoordinates(x))\n                    .reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n                pinchZoomDistance.current = currentDistance;\n            }\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (activePointer) {\n                if (pointers.length === 1) {\n                    changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n                }\n                replacePointer(event);\n            }\n        }\n    });\n    const onPointerUp = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        if (pointers.length === 2 && pointers.find((p) => p.pointerId === event.pointerId)) {\n            pinchZoomDistance.current = undefined;\n        }\n        clearPointer(event);\n    }, [clearPointer]);\n    const cleanupSensors = React.useCallback(() => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length);\n        lastPointerDown.current = 0;\n        pinchZoomDistance.current = undefined;\n    }, []);\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled);\n    React.useEffect(cleanupSensors, [globalIndex, cleanupSensors]);\n    React.useEffect(() => {\n        if (!disabled) {\n            return cleanup(cleanupSensors, subscribeSensors(EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(EVENT_ON_WHEEL, onWheel));\n        }\n        return () => { };\n    }, [disabled, subscribeSensors, cleanupSensors, onKeyDown, onWheel]);\n}\n\nfunction useZoomState(imageRect, maxZoom, zoomWrapperRef) {\n    const [zoom, setZoom] = React.useState(1);\n    const [offsetX, setOffsetX] = React.useState(0);\n    const [offsetY, setOffsetY] = React.useState(0);\n    const animate = useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef);\n    const { currentSlide, globalIndex } = useLightboxState();\n    const { containerRect, slideRect } = useController();\n    const { zoomInMultiplier } = useZoomProps();\n    const currentSource = currentSlide && isImageSlide(currentSlide) ? currentSlide.src : undefined;\n    const disabled = !currentSource || !(zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current);\n    useLayoutEffect(() => {\n        setZoom(1);\n        setOffsetX(0);\n        setOffsetY(0);\n    }, [globalIndex, currentSource]);\n    const changeOffsets = React.useCallback((dx, dy, targetZoom) => {\n        const newZoom = targetZoom || zoom;\n        const newOffsetX = offsetX - (dx || 0);\n        const newOffsetY = offsetY - (dy || 0);\n        const maxOffsetX = (imageRect.width * newZoom - slideRect.width) / 2 / newZoom;\n        const maxOffsetY = (imageRect.height * newZoom - slideRect.height) / 2 / newZoom;\n        setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n        setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n    }, [zoom, offsetX, offsetY, slideRect, imageRect.width, imageRect.height]);\n    const changeZoom = React.useCallback((targetZoom, rapid, dx, dy) => {\n        const newZoom = round(Math.min(Math.max(targetZoom + 0.001 < maxZoom ? targetZoom : maxZoom, 1), maxZoom), 5);\n        if (newZoom === zoom)\n            return;\n        if (!rapid) {\n            animate();\n        }\n        changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n        setZoom(newZoom);\n    }, [zoom, maxZoom, changeOffsets, animate]);\n    const handleControllerRectChange = useEventCallback(() => {\n        if (zoom > 1) {\n            if (zoom > maxZoom) {\n                changeZoom(maxZoom, true);\n            }\n            changeOffsets();\n        }\n    });\n    useLayoutEffect(handleControllerRectChange, [containerRect.width, containerRect.height, handleControllerRectChange]);\n    const zoomIn = React.useCallback(() => changeZoom(zoom * zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    const zoomOut = React.useCallback(() => changeZoom(zoom / zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    return { zoom, offsetX, offsetY, disabled, changeOffsets, changeZoom, zoomIn, zoomOut };\n}\n\nconst ZoomControllerContext = React.createContext(null);\nconst useZoom = makeUseContext(\"useZoom\", \"ZoomControllerContext\", ZoomControllerContext);\nfunction ZoomContextProvider({ children }) {\n    const [zoomWrapper, setZoomWrapper] = React.useState();\n    const { slideRect } = useController();\n    const { imageRect, maxZoom } = useZoomImageRect(slideRect, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.imageDimensions);\n    const { zoom, offsetX, offsetY, disabled, changeZoom, changeOffsets, zoomIn, zoomOut } = useZoomState(imageRect, maxZoom, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    useZoomCallback(zoom, disabled);\n    useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    const zoomRef = React.useMemo(() => ({ zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom }), [zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom]);\n    React.useImperativeHandle(useZoomProps().ref, () => zoomRef, [zoomRef]);\n    const context = React.useMemo(() => ({ ...zoomRef, setZoomWrapper }), [zoomRef, setZoomWrapper]);\n    return React.createElement(ZoomControllerContext.Provider, { value: context }, children);\n}\n\nconst ZoomInIcon = createIcon(\"ZoomIn\", React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" }),\n    React.createElement(\"path\", { d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" })));\nconst ZoomOutIcon = createIcon(\"ZoomOut\", React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" }));\nconst ZoomButton = React.forwardRef(function ZoomButton({ zoomIn, onLoseFocus }, ref) {\n    const wasEnabled = React.useRef(false);\n    const wasFocused = React.useRef(false);\n    const { zoom, maxZoom, zoomIn: zoomInCallback, zoomOut: zoomOutCallback, disabled: zoomDisabled } = useZoom();\n    const { render } = useLightboxProps();\n    const disabled = zoomDisabled || (zoomIn ? zoom >= maxZoom : zoom <= 1);\n    React.useEffect(() => {\n        if (disabled && wasEnabled.current && wasFocused.current) {\n            onLoseFocus();\n        }\n        if (!disabled) {\n            wasEnabled.current = true;\n        }\n    }, [disabled, onLoseFocus]);\n    return (React.createElement(IconButton, { ref: ref, disabled: disabled, label: zoomIn ? \"Zoom in\" : \"Zoom out\", icon: zoomIn ? ZoomInIcon : ZoomOutIcon, renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut, onClick: zoomIn ? zoomInCallback : zoomOutCallback, onFocus: () => {\n            wasFocused.current = true;\n        }, onBlur: () => {\n            wasFocused.current = false;\n        } }));\n});\n\nfunction ZoomButtonsGroup() {\n    const zoomInRef = React.useRef(null);\n    const zoomOutRef = React.useRef(null);\n    const { focus } = useController();\n    const focusSibling = React.useCallback((sibling) => {\n        var _a, _b;\n        if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n            (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n        }\n        else {\n            focus();\n        }\n    }, [focus]);\n    const focusZoomIn = React.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n    const focusZoomOut = React.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ZoomButton, { zoomIn: true, ref: zoomInRef, onLoseFocus: focusZoomOut }),\n        React.createElement(ZoomButton, { ref: zoomOutRef, onLoseFocus: focusZoomIn })));\n}\n\nfunction ZoomToolbarControl() {\n    const { render } = useLightboxProps();\n    const zoomRef = useZoom();\n    if (render.buttonZoom) {\n        return React.createElement(React.Fragment, null, render.buttonZoom(zoomRef));\n    }\n    return React.createElement(ZoomButtonsGroup, null);\n}\n\nfunction isResponsiveImageSlide(slide) {\n    var _a;\n    return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n}\nfunction reducer({ current, preload }, { type, source }) {\n    switch (type) {\n        case \"fetch\":\n            if (!current) {\n                return { current: source };\n            }\n            return { current, preload: source };\n        case \"done\":\n            if (source === preload) {\n                return { current: source };\n            }\n            return { current, preload };\n        default:\n            throw new Error(UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction ResponsiveImage(props) {\n    var _a, _b;\n    const [{ current, preload }, dispatch] = React.useReducer(reducer, {});\n    const { slide: image, rect, imageFit, render, interactive } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = isImageFitCover(image, imageFit);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = devicePixelRatio();\n    const handleResize = useEventCallback(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current || srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            dispatch({ type: \"fetch\", source: targetSource.src });\n        }\n    });\n    useLayoutEffect(handleResize, [rect.width, rect.height, pixelDensity, handleResize]);\n    const handlePreload = useEventCallback((currentPreload) => dispatch({ type: \"done\", source: currentPreload }));\n    const style = {\n        WebkitTransform: !interactive ? \"translateZ(0)\" : \"initial\",\n    };\n    if (!cover) {\n        Object.assign(style, rect.width / rect.height < width / height ? { width: \"100%\", height: \"auto\" } : { width: \"auto\", height: \"100%\" });\n    }\n    return (React.createElement(React.Fragment, null,\n        preload && preload !== current && (React.createElement(ImageSlide, { key: \"preload\", ...props, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (React.createElement(ImageSlide, { key: \"current\", ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n}\n\nfunction ZoomWrapper({ render, slide, offset, rect }) {\n    var _a;\n    const [imageDimensions, setImageDimensions] = React.useState();\n    const zoomWrapperRef = React.useRef(null);\n    const { zoom, maxZoom, offsetX, offsetY, setZoomWrapper } = useZoom();\n    const interactive = zoom > 1;\n    const { carousel, on } = useLightboxProps();\n    const { currentIndex } = useLightboxState();\n    useLayoutEffect(() => {\n        if (offset === 0) {\n            setZoomWrapper({ zoomWrapperRef, imageDimensions });\n            return () => setZoomWrapper(undefined);\n        }\n        return () => { };\n    }, [offset, imageDimensions, setZoomWrapper]);\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect, zoom, maxZoom });\n    if (!rendered && isImageSlide(slide)) {\n        const slideProps = {\n            slide,\n            offset,\n            rect,\n            render,\n            imageFit: carousel.imageFit,\n            imageProps: carousel.imageProps,\n            onClick: offset === 0 ? () => { var _a; return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, { index: currentIndex }); } : undefined,\n        };\n        rendered = isResponsiveImageSlide(slide) ? (React.createElement(ResponsiveImage, { ...slideProps, slide: slide, interactive: interactive, rect: offset === 0 ? { width: rect.width * zoom, height: rect.height * zoom } : rect })) : (React.createElement(ImageSlide, { onLoad: (img) => setImageDimensions({ width: img.naturalWidth, height: img.naturalHeight }), ...slideProps }));\n    }\n    if (!rendered)\n        return null;\n    return (React.createElement(\"div\", { ref: zoomWrapperRef, className: clsx(cssClass(CLASS_FULLSIZE), cssClass(CLASS_FLEX_CENTER), cssClass(CLASS_SLIDE_WRAPPER), interactive && cssClass(CLASS_SLIDE_WRAPPER_INTERACTIVE)), style: offset === 0 ? { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` } : undefined }, rendered));\n}\n\nconst Zoom = ({ augment, addModule }) => {\n    augment(({ zoom: zoomProps, toolbar, render, controller, ...restProps }) => {\n        const zoom = resolveZoomProps(zoomProps);\n        return {\n            zoom,\n            toolbar: addToolbarButton(toolbar, PLUGIN_ZOOM, React.createElement(ZoomToolbarControl, null)),\n            render: {\n                ...render,\n                slide: (props) => { var _a; return isImageSlide(props.slide) ? React.createElement(ZoomWrapper, { render: render, ...props }) : (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, props); },\n            },\n            controller: { ...controller, preventDefaultWheelY: zoom.scrollToZoom },\n            ...restProps,\n        };\n    });\n    addModule(createModule(PLUGIN_ZOOM, ZoomContextProvider));\n};\n\nexport { Zoom as default };\n","const MODULE_CAROUSEL = \"carousel\";\nconst MODULE_CONTROLLER = \"controller\";\nconst MODULE_NAVIGATION = \"navigation\";\nconst MODULE_NO_SCROLL = \"no-scroll\";\nconst MODULE_PORTAL = \"portal\";\nconst MODULE_ROOT = \"root\";\nconst MODULE_TOOLBAR = \"toolbar\";\nconst PLUGIN_CAPTIONS = \"captions\";\nconst PLUGIN_COUNTER = \"counter\";\nconst PLUGIN_DOWNLOAD = \"download\";\nconst PLUGIN_FULLSCREEN = \"fullscreen\";\nconst PLUGIN_INLINE = \"inline\";\nconst PLUGIN_SHARE = \"share\";\nconst PLUGIN_SLIDESHOW = \"slideshow\";\nconst PLUGIN_THUMBNAILS = \"thumbnails\";\nconst PLUGIN_ZOOM = \"zoom\";\nconst SLIDE_STATUS_LOADING = \"loading\";\nconst SLIDE_STATUS_PLAYING = \"playing\";\nconst SLIDE_STATUS_ERROR = \"error\";\nconst SLIDE_STATUS_COMPLETE = \"complete\";\nconst SLIDE_STATUS_PLACEHOLDER = \"placeholder\";\nconst activeSlideStatus = (status) => `active-slide-${status}`;\nconst ACTIVE_SLIDE_LOADING = activeSlideStatus(SLIDE_STATUS_LOADING);\nconst ACTIVE_SLIDE_PLAYING = activeSlideStatus(SLIDE_STATUS_PLAYING);\nconst ACTIVE_SLIDE_ERROR = activeSlideStatus(SLIDE_STATUS_ERROR);\nconst ACTIVE_SLIDE_COMPLETE = activeSlideStatus(SLIDE_STATUS_COMPLETE);\nconst CLASS_FULLSIZE = \"fullsize\";\nconst CLASS_FLEX_CENTER = \"flex_center\";\nconst CLASS_NO_SCROLL = \"no_scroll\";\nconst CLASS_NO_SCROLL_PADDING = \"no_scroll_padding\";\nconst CLASS_SLIDE_WRAPPER = \"slide_wrapper\";\nconst CLASS_SLIDE_WRAPPER_INTERACTIVE = \"slide_wrapper_interactive\";\nconst ACTION_PREV = \"prev\";\nconst ACTION_NEXT = \"next\";\nconst ACTION_SWIPE = \"swipe\";\nconst ACTION_CLOSE = \"close\";\nconst EVENT_ON_POINTER_DOWN = \"onPointerDown\";\nconst EVENT_ON_POINTER_MOVE = \"onPointerMove\";\nconst EVENT_ON_POINTER_UP = \"onPointerUp\";\nconst EVENT_ON_POINTER_LEAVE = \"onPointerLeave\";\nconst EVENT_ON_POINTER_CANCEL = \"onPointerCancel\";\nconst EVENT_ON_KEY_DOWN = \"onKeyDown\";\nconst EVENT_ON_KEY_UP = \"onKeyUp\";\nconst EVENT_ON_WHEEL = \"onWheel\";\nconst VK_ESCAPE = \"Escape\";\nconst VK_ARROW_LEFT = \"ArrowLeft\";\nconst VK_ARROW_RIGHT = \"ArrowRight\";\nconst ELEMENT_BUTTON = \"button\";\nconst ELEMENT_ICON = \"icon\";\nconst IMAGE_FIT_CONTAIN = \"contain\";\nconst IMAGE_FIT_COVER = \"cover\";\nconst UNKNOWN_ACTION_TYPE = \"Unknown action type\";\n\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FLEX_CENTER, CLASS_FULLSIZE, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, CLASS_SLIDE_WRAPPER, CLASS_SLIDE_WRAPPER_INTERACTIVE, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SLIDE_STATUS_PLAYING, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus };\n"],"names":["ElementType","Object","defineProperty","exports","value","Doctype","CDATA","Tag","Style","Script","Comment","Directive","Text","Root","isTag","elem","type","CASE_SENSITIVE_TAG_NAMES","reduce","accumulator","tagName","toLowerCase","HTML","HEAD","BODY","FIRST_TAG_REGEX","HEAD_TAG_REGEX","BODY_TAG_REGEX","parseFromDocument","html","Error","parseFromString","DOMParser","window","domParser_1","concat","document","implementation","htmlDocument_1","createHTMLDocument","element","documentElement","querySelector","innerHTML","parseFromTemplate","template","createElement","content","childNodes","match","firstTagName","doc","test","_a","parentNode","removeChild","_b","querySelectorAll","elements","domparser_1","__importDefault","require","utilities_1","DIRECTIVE_REGEX","TypeError","directive","undefined","formatDOM","default","domhandler_1","constants_1","formatAttributes","attributes","map","index","attributesLength","length","attribute","name","formatTagName","caseSensitiveTagName","CASE_SENSITIVE_TAG_NAMES_MAP","getCaseSensitiveTagName","nodes","parent","current","domNodes","nodesLength","node","nodeType","nodeName","Element","children","nodeValue","prev","next","push","ProcessingInstruction","substring","indexOf","unshift","__createBinding","this","create","o","m","k","k2","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","__exportStar","p","prototype","hasOwnProperty","call","DomHandler","domelementtype_1","node_js_1","defaultOpts","withStartIndices","withEndIndices","xmlMode","callback","options","elementCB","dom","root","Document","done","tagStack","lastNode","parser","onparserinit","onreset","onend","handleCallback","onerror","error","onclosetag","pop","endIndex","onopentag","attribs","addNode","ontext","data","oncomment","oncommentend","oncdatastart","text","oncdataend","onprocessinginstruction","previousSibling","startIndex","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","String","__","constructor","__assign","assign","t","s","i","n","arguments","apply","cloneNode","hasChildren","isDocument","isDirective","isComment","isText","isCDATA","NodeWithChildren","DataNode","Node","set","recursive","_super","_this","keys","namespace","prefix","result","cloneChildren","clone_1","forEach","child","clone_2","clone_3","instruction","sourceCodeLocation","childs","react_property_1","UNCONTROLLED_COMPONENT_ATTRIBUTES","UNCONTROLLED_COMPONENT_NAMES","valueOnlyInputs","reset","submit","getPropName","attributeName","possibleStandardNames","props","isInputValueOnly","Boolean","attributeValue","isCustomAttribute","attributeNameLowerCased","propName","propertyInfo","getPropertyInfo","includes","BOOLEAN","OVERLOADED_BOOLEAN","PRESERVE_CUSTOM_ATTRIBUTES","setStyleProp","style","react_1","attributes_to_props_1","React","cloneElement","isValidElement","skipAttributesToProps","isCustomComponent","domToReact","reactElements","hasReplace","replace","transform","returnFirstArg","library","replaceElement","key","dangerouslySetInnerHTML","__html","defaultValue","isWhitespace","trim","canTextBeChildOfNode","html_dom_parser_1","dom_to_react_1","domParserOptions","lowerCaseAttributeNames","htmlparser2","style_to_js_1","RESERVED_SVG_MATHML_ELEMENTS","Set","has","is","styleOptions","reactCompat","Number","version","split","ELEMENTS_WITH_NO_TEXT_CHILDREN","arg","COMMENT_REGEX","NEWLINE_REGEX","WHITESPACE_REGEX","PROPERTY_REGEX","COLON_REGEX","VALUE_REGEX","SEMICOLON_REGEX","TRIM_REGEX","EMPTY_STRING","str","module","lineno","column","updatePosition","lines","lastIndexOf","position","start","line","Position","whitespace","end","source","errorsList","msg","err","reason","filename","silent","re","exec","slice","comments","rules","c","comment","pos","charAt","declaration","prop","val","ret","property","decl","decls","declarations","PropertyInfoRecord","mustUseProperty","attributeNamespace","sanitizeURL","removeEmptyString","acceptsBooleans","propertyName","properties","_ref","CAMELIZE","capitalize","token","toUpperCase","CAMELCASE","SAME","possibleStandardNamesOptimized","RegExp","bind","standardName","BOOLEANISH_STRING","NUMERIC","POSITIVE_NUMERIC","RESERVED","STRING","accept","acceptCharset","accessKey","action","allowFullScreen","alt","as","async","autoCapitalize","autoComplete","autoCorrect","autoFocus","autoPlay","autoSave","capture","cellPadding","cellSpacing","challenge","charSet","checked","cite","class","classID","className","cols","colSpan","contentEditable","contextMenu","controls","controlsList","coords","crossOrigin","dateTime","defaultChecked","defer","dir","disabled","disablePictureInPicture","disableRemotePlayback","download","draggable","encType","enterKeyHint","for","form","formMethod","formAction","formEncType","formNoValidate","formTarget","frameBorder","headers","height","hidden","high","href","hrefLang","htmlFor","httpEquiv","icon","id","inputMode","integrity","itemID","itemProp","itemRef","itemScope","itemType","keyParams","keyType","kind","label","lang","list","loop","low","manifest","marginWidth","marginHeight","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","noModule","nonce","noValidate","open","optimum","pattern","placeholder","playsInline","poster","preload","profile","radioGroup","readOnly","referrerPolicy","rel","required","reversed","role","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","spellCheck","src","srcDoc","srcLang","srcSet","step","summary","tabIndex","target","title","useMap","width","wmode","wrap","about","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","color","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","datatype","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodOpacity","floodColor","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","ideographic","imageRendering","in2","in","inlist","intercept","k1","k3","k4","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","resource","restart","results","rotate","rx","ry","scale","security","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeWidth","strokeOpacity","suppressContentEditableWarning","suppressHydrationWarning","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","typeof","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","unselectable","vAlphabetic","values","vectorEffect","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewBox","viewTarget","visibility","vMathematical","vocab","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","style_to_object_1","StyleToJS","output","camelCase","CUSTOM_PROPERTY_REGEX","HYPHEN_REGEX","NO_HYPHEN_REGEX","VENDOR_PREFIX_REGEX","MS_VENDOR_PREFIX_REGEX","character","trimHyphen","skipCamelCase","inline_style_parser_1","iterator","styleObject","hasIterator","HTMLReactParser","cssPrefix$3","clsx","_len","classes","_key","join","cssClass","cssVar","composePrefix","base","makeComposePrefix","cleanup","_len2","cleaners","_key2","cleaner","makeUseContext","contextName","context","ctx","hasWindow","round","factor","Math","EPSILON","isImageSlide","slide","isImageFitCover","image","imageFit","IMAGE_FIT_COVER","IMAGE_FIT_CONTAIN","parseInt","parseLengthPercentage","input","pixel","endsWith","percent","computeSlideRect","containerRect","padding","paddingValue","paddingPixels","devicePixelRatio","getSlideIndex","slidesCount","hasSlides","slides","getSlide","getSlideIfPresent","getSlideKey","addToolbarButton","toolbar","button","buttons","restToolbar","findIndex","item","buttonWithKey","splice","calculatePreload","carousel","minimum","finite","floor","LightboxDefaultProps","close","render","plugins","ACTION_CLOSE","labels","animation","fade","swipe","easing","navigation","imageProps","controller","ref","focus","aria","touchAction","closeOnPullUp","closeOnPullDown","closeOnBackdropClick","preventDefaultWheelX","preventDefaultWheelY","portal","noScroll","on","styles","createModule","component","createNode","traverseNode","flatMap","traverse","DocumentContext","useDocumentContext","DocumentContextProvider","nodeRef","getOwnerDocument","ownerDocument","getOwnerWindow","defaultView","Provider","EventsContext","useEvents","EventsProvider","_ref2","subscriptions","topic","unsubscribe","cb","publish","_len3","_ref3","_key3","event","subscribe","LightboxPropsContext","useLightboxProps","LightboxPropsProvider","_ref4","LightboxStateContext","useLightboxState","LightboxDispatchContext","useLightboxDispatch","reducer","state","increment","globalIndex","currentIndex","currentSlide","duration","UNKNOWN_ACTION_TYPE","LightboxStateProvider","_ref5","dispatch","TimeoutsContext","useTimeouts","TimeoutsProvider","_ref6","timeouts","tid","clearTimeout","removeTimeout","setTimeout","fn","delay","IconButton","_ref7","label$1","Icon","renderIcon","onClick","rest","buttonLabel","defaultLabel","ELEMENT_BUTTON","ELEMENT_ICON","svgIcon","displayName","createIcon","glyph","createIconDisabled","CloseIcon","PreviousIcon","NextIcon","LoadingIcon","_","array","ErrorIcon","useLayoutEffect","useMotionPreference","reduceMotion","setReduceMotion","mediaQuery","matchMedia","matches","listener","addEventListener","removeEventListener","useAnimation","computeAnimation","snapshot","_c","keyframes","onfinish","getBoundingClientRect","matcher","getComputedStyle","currentTransformation","cancel","animate","console","prepareAnimation","currentSnapshot","isAnimationPlaying","playState","useContainerRect","containerRef","observerRef","setContainerRect","setContainerRef","disconnect","updateContainerRect","parse","parseFloat","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","ResizeObserver","observe","useDelay","timeoutId","useEventCallback","_len4","args","_key4","setRef","useForkRef","refA","refB","refValue","useLoseFocus","focused","onFocus","onBlur","useRTL","isRTL","setIsRTL","useSensors","subscribers","notifySubscribers","isPropagationStopped","registerSensors","onPointerDown","EVENT_ON_POINTER_DOWN","onPointerMove","EVENT_ON_POINTER_MOVE","onPointerUp","EVENT_ON_POINTER_UP","onPointerLeave","EVENT_ON_POINTER_LEAVE","onPointerCancel","EVENT_ON_POINTER_CANCEL","onKeyDown","EVENT_ON_KEY_DOWN","onKeyUp","EVENT_ON_KEY_UP","onWheel","EVENT_ON_WHEEL","subscribeSensors","listeners","el","useThrottle","lastCallbackTime","delayCallback","executeCallback","Date","now","_len5","_key5","_len6","_key6","slidePrefix","slideImagePrefix","ImageSlide","_ref8","rect","onLoad","onError","_d","_e","_f","_g","status","setStatus","SLIDE_STATUS_LOADING","imageRef","activeSlideStatus","handleLoading","img","decode","Promise","resolve","catch","then","SLIDE_STATUS_COMPLETE","setImageRef","complete","handleOnLoad","currentTarget","handleOnError","SLIDE_STATUS_ERROR","cover","nonInfinite","fallback","isFinite","maxWidth","naturalWidth","maxHeight","naturalHeight","defaultStyle","sort","a","MAX_VALUE","imagePropsStyle","imagePropsClassName","restImageProps","SLIDE_STATUS_PLACEHOLDER","iconLoading","iconError","LightboxRoot","_ref9","SwipeState","Gesture","usePointerEvents","SWIPE_THRESHOLD","cssContainerPrefix","ControllerContext","useController","ControllerModule","MODULE_CONTROLLER","_ref11","toolbarWidth","setToolbarWidth","swipeState","setSwipeState","NONE","swipeOffset","pullOffset","pullOpacity","cleanupAnimationIncrement","cleanupSwipeOffset","cleanupPullOffset","handleContainerRef","_ref10","horizontal","abs","deltaX","deltaY","ctrlKey","preventDefault","passive","usePreventWheelDefaults","carouselRef","setCarouselRef","rtl","getLightboxProps","getLightboxState","params","ACTION_PREV","ACTION_NEXT","isSwipeValid","setSwipeOffset","setProperty","setPullOffset","offsetValue","preparePullAnimation","translate","pull","ANIMATION","parsedSpacing","spacingValue","currentSwipeOffset","swipeDuration","swipeEasing","count","newSwipeState","newSwipeAnimationDuration","containerWidth","elapsedTime","expectedTime","ACTION_SWIPE","swipeParams","SWIPE","pullParams","PULL","swipeAnimationDuration","onSwipeStart","onSwipeProgress","onSwipeFinish","onSwipeCancel","pullUpEnabled","pullDownEnabled","onPullStart","onPullProgress","onPullFinish","onPullCancel","pointers","activePointer","startTime","gesture","clearPointer","pointerId","currentPointers","addPointer","persist","exceedsPullThreshold","threshold","find","currentOffset","pointer","isCurrentPointer","clientX","clientY","startGesture","newGesture","usePointerSwipe","intent","intentCleanup","resetCleanup","wheelResidualMomentum","cancelSwipeIntentCleanup","cancelSwipeResetCleanup","handleCleanup","handleCancelSwipe","currentSwipeIntent","newSwipeOffset","sign","useWheelSwipe","focusOnMount","MODULE_PORTAL","onViewCallback","view","slideRect","CLASS_FLEX_CENTER","container","cssPrefix$2","MODULE_CAROUSEL","cssSlidePrefix","CarouselSlide","_ref12","click","HTMLElement","classList","contains","CLASS_SLIDE_WRAPPER","renderSlide","rendered","slideHeader","slideContainer","_ref13","slideFooter","Placeholder","CarouselModule","_ref14","items","_ref15","useNavigationState","prevDisabled","nextDisabled","useKeyboardNavigation","throttle","handleKeyDown","VK_ESCAPE","VK_ARROW_LEFT","VK_ARROW_RIGHT","NavigationButton","_ref16","NavigationModule","MODULE_NAVIGATION","_ref17","buttonPrev","buttonNext","iconPrev","iconNext","navigationPrev","navigationNext","CLASS_NO_SCROLL","noScrollPadding","CLASS_NO_SCROLL_PADDING","isHTMLElement","padScrollbar","computedValue","originalValue","getPropertyValue","removeProperty","NoScrollModule","MODULE_NO_SCROLL","_ref18","ownerWindow","body","scrollbar","innerWidth","getElementsByTagName","add","remove","clean","cssPrefix$1","setAttribute","previousValue","getAttribute","removeAttribute","PortalModule","_ref19","mounted","setMounted","visible","setVisible","restoreFocus","animationDuration","handleClose","exiting","exited","handleEnter","scrollTop","entering","entered","handleRef","createPortal","relatedTarget","RootModule","MODULE_ROOT","_ref20","ToolbarModule","MODULE_TOOLBAR","_ref21","buttonClose","iconClose","renderNode","mergeAnimation","defaultAnimation","defaultAnimationEasing","restDefaultAnimation","restAnimation","Lightbox","_ref22","restProps","defaultCarousel","defaultRender","defaultToolbar","defaultController","defaultNoScroll","defaultOn","defaultSlides","defaultIndex","defaultPlugins","restDefaultProps","config","augmentation","augmentations","addParent","append","addChild","precede","addSibling","addModule","augment","plugin","acc","withPlugins","cssPrefix","defaultCaptionsProps","descriptionTextAlign","descriptionMaxLines","showToggle","resolveCaptionsProps","captions","CaptionsContext","useCaptions","CaptionsContextProvider","show","hide","Title","captionsTitleContainer","captionsTitle","Description","description","useCaptionsProps","captionsDescriptionContainer","captionsDescription","captionsIcon","CaptionsVisible","CaptionsHidden","CaptionsButton","buttonCaptions","iconCaptionsVisible","iconCaptionsHidden","Captions","captionsProps","renderFooter","restRender","PLUGIN_CAPTIONS","defaultFullscreenProps","auto","resolveFullscreenProps","fullscreen","FullscreenContext","useFullscreen","FullscreenContextProvider","fullscreenProps","setDisabled","setFullscreen","wasFullscreen","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","getFullscreenElement","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","shadowRoot","enter","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","exit","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","onEnterFullscreen","enterFullscreen","onExitFullscreen","handleAutoFullscreen","PLUGIN_FULLSCREEN","CLASS_FULLSIZE","EnterFullscreenIcon","ExitFullscreenIcon","FullscreenButton","buttonFullscreen","iconExitFullscreen","iconEnterFullscreen","Fullscreen","PLUGIN_THUMBNAILS","defaultSlideshowProps","autoplay","resolveSlideshowProps","slideshow","SlideshowContext","useSlideshow","SlideshowContextProvider","wasPlaying","playing","setPlaying","scheduler","slideStatus","play","pause","cancelScheduler","scheduleNextSlide","SLIDE_STATUS_PLAYING","onSlideshowStart","slideshowStart","onSlideshowStop","slideshowStop","ACTIVE_SLIDE_LOADING","ACTIVE_SLIDE_PLAYING","ACTIVE_SLIDE_ERROR","ACTIVE_SLIDE_COMPLETE","PlayIcon","PauseIcon","SlideshowButton","focusListeners","buttonSlideshow","iconSlideshowPause","iconSlideshowPlay","Slideshow","PLUGIN_SLIDESHOW","defaultThumbnailsProps","border","borderRadius","gap","vignette","resolveThumbnailsProps","thumbnails","useThumbnailsProps","cssThumbnailPrefix","VideoThumbnailIcon","UnknownThumbnailIcon","activePrefix","fadeInPrefix","fadeOutPrefix","placeholderPrefix","DELAY","DURATION","Thumbnail","active","fadeIn","fadeOut","onLoseFocus","onLoseFocusCallback","activeElement","thumbnail","customThumbnail","imageSlideProps","thumbnailIconClass","renderThumbnail","isHorizontal","boxSize","dimension","getThumbnailKey","ThumbnailsTrack","track","borderStyle","borderColor","handleControllerSwipe","animationOffset","trackRect","left","top","thumbnailsContainer","thumbnailsTrack","fadeAnimationDuration","slideIndex","ThumbnailsContext","useThumbnails","ThumbnailsContextProvider","thumbnailsIcon","ThumbnailsVisible","ThumbnailsHidden","ThumbnailsButton","buttonThumbnails","iconThumbnailsVisible","iconThumbnailsHidden","Thumbnails","thumbnailsProps","defaultVideoProps","resolveVideoProps","video","VideoSlide","useVideoProps","videoRef","paused","handleVideoRef","setVideoRef","sources","resolveBoolean","attr","resolveString","scaleWidthAndHeight","scalingProps","widthBound","elementWidth","elementHeight","onPlay","onEnded","Video","isVideoSlide","defaultZoomProps","maxZoomPixelRatio","zoomInMultiplier","doubleTapDelay","doubleClickDelay","doubleClickMaxStops","keyboardMoveDistance","wheelZoomDistanceFactor","pinchZoomDistanceFactor","scrollToZoom","resolveZoomProps","zoom","useZoomProps","distance","pointerA","pointerB","scaleZoom","delta","clamp","useZoomState","imageRect","maxZoom","zoomWrapperRef","setZoom","offsetX","setOffsetX","offsetY","setOffsetY","zoomAnimation","zoomAnimationStart","zoomAnimationDuration","playZoomAnimation","useZoomAnimation","currentSource","changeOffsets","targetZoom","newZoom","newOffsetX","newOffsetY","maxOffsetX","maxOffsetY","changeZoom","rapid","handleControllerRectChange","zoomIn","zoomOut","ZoomControllerContext","useZoom","ZoomContextProvider","zoomWrapper","setZoomWrapper","imageDimensions","maxImageRect","useZoomImageRect","onZoomCallback","useZoomCallback","activePointers","lastPointerDown","pinchZoomDistance","translateCoordinates","pageX","pageY","scrollX","scrollY","stopPropagation","move","handleChangeZoom","zoomValue","hasMeta","getModifierState","replacePointer","pointerType","timeStamp","currentDistance","coordinate","cleanupSensors","useZoomSensors","zoomRef","ZoomInIcon","ZoomOutIcon","ZoomButton","wasEnabled","wasFocused","zoomInCallback","zoomOutCallback","zoomDisabled","iconZoomIn","iconZoomOut","ZoomButtonsGroup","zoomInRef","zoomOutRef","focusSibling","sibling","focusZoomIn","focusZoomOut","ZoomToolbarControl","buttonZoom","ResponsiveImage","interactive","targetWidth","pixelDensity","handleResize","targetSource","handlePreload","currentPreload","WebkitTransform","ZoomWrapper","setImageDimensions","slideProps","isResponsiveImageSlide","CLASS_SLIDE_WRAPPER_INTERACTIVE","Zoom","zoomProps","PLUGIN_ZOOM"],"sourceRoot":""}