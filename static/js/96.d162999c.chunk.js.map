{"version":3,"file":"static/js/96.d162999c.chunk.js","mappings":"6MAMA,MA4BA,EA5B4BA,KAC1B,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAQC,EAAAA,EAAAA,MACR,YAAEC,IAAgBC,EAAAA,EAAAA,KAClBC,GAAiBC,EAAAA,EAAAA,SAAO,GAqB9B,OAnBAC,EAAAA,EAAAA,YAAU,KACR,GAAIF,EAAeG,QAAS,OAE5B,MAAMC,EAAc,IAAIC,gBAAgBC,OAAOC,SAASC,QAClDC,EAAUL,EAAYM,IAAI,WAC1BC,EAAcP,EAAYM,IAAI,eAC9BE,EAAeR,EAAYM,IAAI,gBAErB,SAAZD,GAAsBE,GAAeC,GACvCd,EAAYa,EAAaC,GACzBZ,EAAeG,SAAU,IAEzBH,EAAeG,SAAU,EACzBP,EAAMiB,MAAM,4CACZnB,EAAS,SACX,GAEC,CAACI,EAAaJ,KAEVoB,EAAAA,EAAAA,KAACC,EAAAA,EAAM,GAAG,C","sources":["pages/Auth/GoogleCallback.jsx"],"sourcesContent":["import { useEffect, useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../../contexts/authContext\";\r\nimport { useToast } from \"../../contexts/toastContext\";\r\nimport Loader from \"../../components/Loader\";\r\n\r\nconst AuthCallbackHandler = () => {\r\n  const navigate = useNavigate();\r\n  const toast = useToast();\r\n  const { googleLogin } = useAuth();\r\n  const hasExecutedRef = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (hasExecutedRef.current) return;\r\n\r\n    const queryParams = new URLSearchParams(window.location.search);\r\n    const success = queryParams.get(\"success\");\r\n    const accessToken = queryParams.get(\"accessToken\");\r\n    const refreshToken = queryParams.get(\"refreshToken\");\r\n\r\n    if (success === \"true\" && accessToken && refreshToken) {\r\n      googleLogin(accessToken, refreshToken);\r\n      hasExecutedRef.current = true;\r\n    } else {\r\n      hasExecutedRef.current = true;\r\n      toast.error(\"Authentication failed. Please try again.\");\r\n      navigate(\"/auth\");\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [googleLogin, navigate]);\r\n\r\n  return <Loader />;\r\n};\r\n\r\nexport default AuthCallbackHandler;\r\n"],"names":["AuthCallbackHandler","navigate","useNavigate","toast","useToast","googleLogin","useAuth","hasExecutedRef","useRef","useEffect","current","queryParams","URLSearchParams","window","location","search","success","get","accessToken","refreshToken","error","_jsx","Loader"],"sourceRoot":""}