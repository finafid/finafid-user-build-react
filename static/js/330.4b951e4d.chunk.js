"use strict";(self.webpackChunkfinafid_frontend=self.webpackChunkfinafid_frontend||[]).push([[330],{1276:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(423),n=a(579);const r=e=>{let{rating:t,maxRating:a=5,size:r=16}=e;return(0,n.jsx)("div",{className:"flex",children:(()=>{const e=[],l=Math.ceil(t),i=Math.floor(t)!==Math.ceil(t);for(let c=1;c<=a;c++)c<=t?e.push((0,n.jsx)("span",{className:"text-yellow-500 text-lg",children:(0,n.jsx)(s.KQV,{size:r})},c)):c===l&&i?e.push((0,n.jsx)("span",{className:"text-yellow-500 text-lg",children:(0,n.jsx)(s.f5A,{size:r})},c)):e.push((0,n.jsx)("span",{className:"text-gray-300 text-lg",children:(0,n.jsx)(s.aJd,{size:r})},c));return e})()})}},4604:(e,t,a)=>{a.d(t,{pH:()=>N,UO:()=>m,eL:()=>g,Km:()=>h,TE:()=>u,Je:()=>f,jw:()=>v,v1:()=>j,tA:()=>p,bp:()=>y,m$:()=>x});var s=a(2532),n=a(9723),r=a(3248),l=a(7097),i=a(5026);const c=async()=>{var e;return null===(e=(await i.A.get("/getAllUtsavProduct")).data)||void 0===e?void 0:e.productDetails},d=async()=>{var e;return null===(e=(await i.A.get("/getAllNewArrivals")).data)||void 0===e?void 0:e.productDetails},o=async()=>(await i.A.get("/getAllTopSellingProduct")).data,u=e=>(0,s.I)({queryKey:["productGroup",e],queryFn:()=>(async e=>(await i.A.get("/getProductById/".concat(e))).data)(e),staleTime:3e5,enabled:!!e}),x=e=>(0,s.I)({queryKey:["variants",e],queryFn:()=>(async e=>(await i.A.get("/getAllVariantsOnUser",{params:e})).data)(e),staleTime:3e5,placeholderData:n.rX}),m=()=>(0,s.I)({queryKey:["variants","utsav"],queryFn:c,staleTime:3e5}),g=e=>(0,s.I)({queryKey:["variants","featured",e],queryFn:()=>(async e=>{var t;return null===(t=(await i.A.get("/getFeaturedProductBasedOnCategory/".concat(e))).data)||void 0===t?void 0:t.productList})(e),staleTime:3e5,enabled:!!e}),p=()=>(0,s.I)({queryKey:["products","top selling"],queryFn:o,staleTime:3e5}),h=()=>(0,s.I)({queryKey:["variants","new arrivals"],queryFn:d,staleTime:3e5}),v=e=>(0,s.I)({queryKey:["recommendations",e],queryFn:()=>(async e=>{var t;return null===(t=(await i.A.get("/suggestionProductList/".concat(e))).data)||void 0===t?void 0:t.suggestionProductList})(e),staleTime:3e5,enabled:!!e}),y=e=>(0,s.I)({queryKey:["variant",e],queryFn:()=>(async e=>{var t;return null===(t=(await i.A.get("/getVariantById/".concat(e))).data)||void 0===t?void 0:t.variantDetails})(e),staleTime:3e5,enabled:!!e}),j=e=>(0,s.I)({queryKey:["reviews",e],queryFn:()=>(async e=>(await i.A.get("/GetAllReviews/".concat(e))).data)(e),staleTime:3e5,enabled:!!e}),f=e=>(0,s.I)({queryKey:["rating",e],queryFn:()=>(async e=>(await i.A.get("/getAvgRating/".concat(e))).data)(e),staleTime:3e5,enabled:!!e}),N=e=>{const t=(0,r.jE)();return(0,l.n)({mutationFn:e=>{let{reviewData:t,productId:a}=e;return(async(e,t)=>(await i.A.post("/createReview/".concat(t),e,{headers:{"Content-Type":"multipart/form-data"}})).data)(t,a)},onSuccess:()=>{t.invalidateQueries(["reviews",e])}})}},5609:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(5200),n=a(5043);const r="...",l=(e,t)=>{let a=t-e+1;return Array.from({length:a},((t,a)=>a+e))};var i=a(579);const c=e=>{let{onPageChange:t,totalCount:a,siblingCount:c=1,currentPage:d,pageSize:o}=e;const u=(e=>{let{totalCount:t,limit:a,siblingCount:s=1,currentPage:i}=e;return(0,n.useMemo)((()=>{const e=Math.ceil(t/a);if(s+5>=e)return l(1,e);const n=Math.max(i-s,1),c=Math.min(i+s,e),d=n>2,o=c<e-2,u=e;if(!d&&o)return[...l(1,3+2*s),r,e];if(d&&!o){let t=l(e-(3+2*s)+1,e);return[1,r,...t]}if(d&&o){let e=l(n,c);return[1,r,...e,r,u]}}),[t,a,s,i])})({currentPage:d,totalCount:a,siblingCount:c,limit:o}),x=u[u.length-1];if(0===d||u.length<2)return null;return(0,i.jsx)("div",{className:"my-8",children:(0,i.jsxs)("ul",{className:"relative flex gap-4 max-md:gap-3 w-max mx-auto",children:[u.map(((e,a)=>(0,i.jsxs)(n.Fragment,{children:[e===r&&(0,i.jsx)("li",{className:"relative h-max top-1",children:r}),e!==r&&(0,i.jsx)("li",{className:"size-10 max-lg:size-8 max-md:size-6 border border-black max-lg:text-sm max-md:text-xs flex justify-center items-center cursor-pointer transition-colors duration-200 ease-in-out ".concat(e===d?"bg-primeRed text-white":"bg-white"," ").concat(e!==d&&"hover:bg-mainGray"),onClick:()=>t(e),children:e})]},a))),(0,i.jsx)("button",{className:"absolute -left-10 top-1/2 -translate-y-1/2 ".concat(d<=1&&"text-primary"),onClick:()=>{d<=1||t(d-1)},children:(0,i.jsx)(s.irw,{size:28})}),(0,i.jsx)("button",{className:"absolute -right-10 top-1/2 -translate-y-1/2 ".concat(d>=x&&"text-primary"),onClick:()=>{d>=x||t(d+1)},children:(0,i.jsx)(s.fOo,{size:28})})]})})}},8723:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(5043),n=a(423),r=a(1276),l=a(579);const i=e=>{switch(!0){case e>=4:return"bg-green-500";case e>=3:return"bg-green-400";case e>=2:return"bg-yellow-400";case e>=1:return"bg-orange-400";default:return"bg-gray-200"}},c=e=>{switch(e){case 5:return"bg-green-500";case 4:return"bg-green-400";case 3:return"bg-yellow-400";case 2:return"bg-orange-400";case 1:return"bg-red-500";default:return"bg-gray-200"}},d=e=>{let{rating:t,totalRatings:a,ratingsBreakdown:s}=e;return(0,l.jsxs)("div",{className:"w-64 p-4 bg-white border rounded shadow-lg",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-4xl font-bold",children:t.toFixed(1)}),(0,l.jsxs)("div",{className:"text-secondary",children:[a," Ratings"]}),(0,l.jsx)("div",{className:"mt-2 flex justify-center",children:(0,l.jsx)(r.A,{rating:t,size:24})})]}),s&&(0,l.jsx)("div",{className:"mt-4 space-y-1",children:Object.entries(s).sort(((e,t)=>{let[a]=e,[s]=t;return s-a})).map((e=>{let[t,s]=e;return(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{className:"text-secondary",children:t}),(0,l.jsx)(n.KQV,{size:18,className:"text-secondary mr-2"}),(0,l.jsx)("div",{className:"flex-1 h-2 bg-lightGray rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full ".concat(c(Number(t))),style:{width:"".concat(s/a*100,"%")}})}),(0,l.jsxs)("span",{className:"ml-2 text-secondary",children:["(",s,")"]})]},t)}))})]})},o=e=>{let{rating:t,totalRatings:a,ratingsBreakdown:r,dropdown:c=!1}=e;const[o,u]=(0,s.useState)(!1);return(0,l.jsxs)("div",{className:"relative inline-block",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(0,l.jsxs)("div",{className:"flex items-center justify-center gap-[2px] px-[5px] py-[2px] rounded text-white ".concat(i(t)),children:[(0,l.jsx)("span",{className:"text-xs font-medium pt-[2px] leading-none",children:t.toFixed(1)}),(0,l.jsx)(n.KQV,{size:12})]}),c&&o&&(0,l.jsx)("div",{className:"absolute z-10 mt-2",children:(0,l.jsx)(d,{rating:t,totalRatings:a,ratingsBreakdown:r})})]})}},9330:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var s=a(5043),n=a(3216),r=a(5475),l=a(5860),i=a(5938),c=a(5200),d=a(9804),o=a(3907),u=a(8723),x=a(4604),m=a(3512),g=a(579);const p=e=>{var t,a,s,p,h,v,y;let{product:j,dropdown:f=!1}=e;const{addToCart:N}=(0,l._)(),{removeFromWishlist:w}=(0,i.n)(),b=(0,n.Zp)(),{data:A,isLoading:I}=(0,x.Je)(j.productGroup._id),C=(0,m.A)("(min-width: 1024px)");return(0,g.jsxs)("div",{className:"w-60 max-lg:w-40 h-105 max-lg:h-80 flex flex-col border border-secondary rounded-md overflow-hidden hover:shadow-md",children:[(0,g.jsxs)("div",{onClick:()=>b("/product/".concat(j._id)),className:"ITEM-IMAGES relative w-full h-60 max-lg:h-40 cursor-pointer",children:[(0,g.jsx)("div",{className:"size-60 max-lg:size-40",children:(0,g.jsx)("img",{src:null===j||void 0===j?void 0:j.images[0],alt:null===j||void 0===j||null===(t=j.productGroup)||void 0===t?void 0:t.name,className:"size-full object-contain object-center"})}),(0,g.jsx)("div",{className:"absolute bottom-2 left-2 z-[5]",children:!I&&(null===A||void 0===A?void 0:A.averageRating)>0&&(0,g.jsx)(u.A,{rating:A.averageRating,totalRatings:A.totalCount,ratingsBreakdown:A.ratingCounts,dropdown:f})})]}),(0,g.jsxs)("div",{className:"ITEM-DETAILS p-2 lg:space-y-1 font-secondary flex-grow",children:[(null===j||void 0===j||null===(a=j.productGroup)||void 0===a?void 0:a.brand)&&(0,g.jsx)(r.N_,{to:"/brand/".concat(null===j||void 0===j||null===(s=j.productGroup)||void 0===s||null===(p=s.brand)||void 0===p?void 0:p._id),className:"BRAND font-medium text-xs max-lg:text-xxs text-secondary leading-none",children:(0,g.jsx)("p",{children:null===j||void 0===j||null===(h=j.productGroup)||void 0===h||null===(v=h.brand)||void 0===v?void 0:v.name})}),(0,g.jsx)("p",{className:"NAME text-sm max-lg:text-xs font-medium line-clamp-2 leading-none",children:(null===j||void 0===j||null===(y=j.productGroup)||void 0===y?void 0:y.name)+" "+j.sku}),(0,g.jsxs)("div",{className:"PRICING flex items-center lg:gap-2 gap-1 whitespace-nowrap",children:[(0,g.jsxs)("p",{className:"text-xs max-lg:text-xxs font-medium text-primary line-through leading-none",children:["\u20b9 ",Math.round(null===j||void 0===j?void 0:j.unitPrice)]}),(0,g.jsxs)("p",{className:"font-bold text-lg max-lg:text-sm leading-none",children:["\u20b9 ",Math.round(null===j||void 0===j?void 0:j.sellingPrice)]}),(0,g.jsx)("p",{className:"text-sm max-lg:text-xxs font-medium text-blue-600 leading-none",children:"percent"===(null===j||void 0===j?void 0:j.discountType)?"".concat(j.discount,"%"):"\u20b9".concat(j.discount," OFF")})]}),(0,g.jsxs)("div",{className:"UTSAV-PRICING flex items-center lg:gap-2 gap-1 whitespace-nowrap text-success",children:[(0,g.jsx)("p",{className:"font-medium leading-none max-lg:text-xs",children:"Utsav Price"}),(0,g.jsxs)("p",{className:"text-lg max-lg:text-sm font-bold leading-none",children:["\u20b9 ",Math.round(j.utsavPrice)]})]})]}),(0,g.jsxs)("div",{className:"BTN-SECTION flex justify-center gap-4 p-2 pt-0",children:[(0,g.jsx)(o.A,{reverse:!0,onClick:()=>N(j),className:"px-4 max-lg:p-2 rounded-md",children:(0,g.jsxs)("div",{className:"flex justify-center gap-2",children:[C&&(0,g.jsx)("p",{className:"text-sm",children:"Add to Bag"}),(0,g.jsx)(d.al$,{size:22})]})}),(0,g.jsx)(o.A,{reverse:!0,onClick:()=>w(j._id),className:"lg:px-3 px-2 h-10 rounded-md",children:(0,g.jsx)(c.IXo,{size:22})})]})]})};var h=a(5609);const v=()=>{const{wishlistItems:e}=(0,i.n)(),[t,a]=(0,s.useState)(1),n=(0,s.useMemo)((()=>{const a=10*(t-1),s=a+10;return e.slice(a,s)}),[t,e]);return(0,g.jsxs)("main",{className:"container max-w-full py-8 max-lg:py-4 space-y-4",children:[(0,g.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,g.jsx)("h1",{className:"font-semibold text-2xl text-center",children:"Wishlist"}),(0,g.jsxs)("p",{className:"font-semibold text-2xl text-primeRed",children:["(",e.length,")"]})]}),(0,g.jsxs)("section",{children:[0===n.length?(0,g.jsx)("h1",{className:"text-2xl text-center font-secondary font-medium",children:"Wishlist is Empty"}):(0,g.jsx)("div",{className:"flex flex-wrap items-center gap-4 max-lg:gap-2",children:e.map((e=>(0,g.jsx)(p,{product:e},e._id)))}),(0,g.jsx)("div",{className:"PAGINATION",children:(0,g.jsx)(h.A,{currentPage:t,totalCount:e.length,pageSize:10,onPageChange:e=>a(e)})})]})]})}}}]);
//# sourceMappingURL=330.4b951e4d.chunk.js.map