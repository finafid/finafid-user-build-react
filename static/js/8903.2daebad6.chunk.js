"use strict";(self.webpackChunkfinafid_frontend=self.webpackChunkfinafid_frontend||[]).push([[8903],{286:(e,a,s)=>{s.d(a,{A:()=>n});var t=s(5043),l=s(6460);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"flash",a=arguments.length>1?arguments[1]:void 0;const[s,n]=(0,t.useState)([]),[o,i]=(0,t.useState)(null),[d,r]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),f=(0,t.useCallback)((async()=>{if(!a){r(!0),u(null);try{const a=`${e}_deals`,s=sessionStorage.getItem(a);if(s)n(JSON.parse(s));else if("flash"===e){const e=await(0,l.g_)();null!==e&&void 0!==e&&e.status&&(console.log(e.data),sessionStorage.setItem(a,JSON.stringify(e.data.flashDealDetails)),n(e.data.flashDealDetails))}else if("featured"===e){const e=await(0,l.k8)();null!==e&&void 0!==e&&e.status&&(console.log(e.data),sessionStorage.setItem(a,JSON.stringify(e.data.featuredDealsDetails)),n(e.data.featuredDealsDetails))}else if("dealOfTheDay"===e){const e=await(0,l.KV)();null!==e&&void 0!==e&&e.status&&(console.log(e.data),sessionStorage.setItem(a,JSON.stringify(e.data.dealOfTheDayDetails)),n(e.data.dealOfTheDayDetails))}}catch(c){console.error(c),u(c.message)}finally{r(!1)}}}),[a,e]),g=(0,t.useCallback)((async()=>{if(a){r(!0),u(null);try{const s=`${e}_deal_${a}`,t=sessionStorage.getItem(s);if(t)i(JSON.parse(t));else if("flash"===e){const e=await(0,l.nZ)(a);null!==e&&void 0!==e&&e.status&&(console.log(e.data),sessionStorage.setItem(s,JSON.stringify(e.data.dealDetails)),i(e.data.dealDetails))}else if("featured"===e){const e=await(0,l.n)(a);null!==e&&void 0!==e&&e.status&&(console.log(e.data),sessionStorage.setItem(s,JSON.stringify(e.data.dealDetails)),i(e.data.dealDetails))}else if("dealOfTheDay"===e){const e=await(0,l.B5)(a);null!==e&&void 0!==e&&e.status&&(console.log(e.data),sessionStorage.setItem(s,JSON.stringify(e.data.dealDetails)),i(e.data.dealDetails))}}catch(c){console.error(c),u(c.message)}finally{r(!1)}}}),[a,e]);return(0,t.useEffect)((()=>{f()}),[f]),(0,t.useEffect)((()=>{g()}),[g]),{deals:s,deal:o,loading:d,error:c,refresh:f}}},8903:(e,a,s)=>{s.r(a),s.d(a,{default:()=>g});var t=s(3216),l=s(321),n=s(5043),o=s(5609),i=s(2919),d=s(3661),r=s(579);const c=e=>{let{products:a=[],title:s}=e;const[t,l]=(0,d.D)("page",1),c=(0,n.useMemo)((()=>{const e=20*(t-1),s=e+20;return a.slice(e,s)}),[t,a,20]);return(0,r.jsxs)("div",{className:"container max-w-full space-y-8 max-lg:space-y-4",children:[(0,r.jsx)("h1",{className:"text-2xl max-lg:text-xl font-bold",children:s}),(0,r.jsxs)("section",{className:"w-full",children:[0===a.length?(0,r.jsx)("p",{className:"text-center font-secondary font-medium text-xl",children:"No Products Found"}):(0,r.jsx)("div",{className:"flex flex-wrap items-center justify-center gap-8 max-xl:gap-4 max-lg:gap-2",children:c.map(((e,a)=>(0,r.jsx)(i.A,{product:e},a)))}),(0,r.jsx)("div",{className:"PAGINATION",children:(0,r.jsx)(o.A,{currentPage:parseInt(t,10),totalCount:a.length,pageSize:20,onPageChange:e=>l(e.toString())})})]})]})};var u=s(286),f=s(2406);const g=e=>{let{dealName:a="flash"}=e;const{dealId:s}=(0,t.g)(),{deal:n,loading:o,error:i}=(0,u.A)(a,s);return o||!i&&!n?(0,r.jsx)(f.A,{}):i?(0,r.jsx)("div",{className:"w-max mx-auto p-8 bg-red-300 my-8 rounded-lg border-2 border-error",children:(0,r.jsx)("h2",{className:"text-center text-error font-medium text-xl",children:"Deal has expired"})}):(0,r.jsxs)("main",{className:"py-8 space-y-8",children:[(0,r.jsx)(l.A,{position:"Top",resourceType:"flash"===a?"Flash Deal":"Featured Deal",valueId:s}),(0,r.jsx)(c,{products:null===n||void 0===n?void 0:n.products,title:null===n||void 0===n?void 0:n.title})]})}}}]);
//# sourceMappingURL=8903.2daebad6.chunk.js.map