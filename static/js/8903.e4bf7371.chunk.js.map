{"version":3,"file":"static/js/8903.e4bf7371.chunk.js","mappings":"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","sources":["hooks/useDeal.js","pages/Deal/DealProducts.jsx","pages/Deal/index.jsx"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\nimport {\r\n  getAllDealOfTheDay,\r\n  getAllFeaturedDeal,\r\n  getAllFlashDeal,\r\n  getDealOfTheDayById,\r\n  getFeaturedDealById,\r\n  getFlashDealById,\r\n} from \"../api/dealApis\";\r\n\r\nconst useDeal = (dealName = \"flash\", dealId) => {\r\n  const [deals, setDeals] = useState([]);\r\n  const [deal, setDeal] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchAllDeals = useCallback(async () => {\r\n    if (dealId) return;\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const cacheKey = `${dealName}_deals`;\r\n      const cachedData = sessionStorage.getItem(cacheKey);\r\n      if (cachedData) {\r\n        setDeals(JSON.parse(cachedData));\r\n      } else if (dealName === \"flash\") {\r\n        const response = await getAllFlashDeal();\r\n\r\n        if (response?.status) {\r\n          console.log(response.data);\r\n          sessionStorage.setItem(\r\n            cacheKey,\r\n            JSON.stringify(response.data.flashDealDetails)\r\n          );\r\n          setDeals(response.data.flashDealDetails);\r\n        }\r\n      } else if (dealName === \"featured\") {\r\n        const response = await getAllFeaturedDeal();\r\n\r\n        if (response?.status) {\r\n          console.log(response.data);\r\n          sessionStorage.setItem(\r\n            cacheKey,\r\n            JSON.stringify(response.data.featuredDealsDetails)\r\n          );\r\n          setDeals(response.data.featuredDealsDetails);\r\n        }\r\n      } else if (dealName === \"dealOfTheDay\") {\r\n        const response = await getAllDealOfTheDay();\r\n\r\n        if (response?.status) {\r\n          console.log(response.data);\r\n          sessionStorage.setItem(\r\n            cacheKey,\r\n            JSON.stringify(response.data.dealOfTheDayDetails)\r\n          );\r\n          setDeals(response.data.dealOfTheDayDetails);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      setError(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [dealId, dealName]);\r\n\r\n  const fetchDeal = useCallback(async () => {\r\n    if (!dealId) return;\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const cacheKey = `${dealName}_deal_${dealId}`;\r\n      const cachedData = sessionStorage.getItem(cacheKey);\r\n      if (cachedData) {\r\n        setDeal(JSON.parse(cachedData));\r\n      } else if (dealName === \"flash\") {\r\n        const response = await getFlashDealById(dealId);\r\n\r\n        if (response?.status) {\r\n          console.log(response.data);\r\n          sessionStorage.setItem(\r\n            cacheKey,\r\n            JSON.stringify(response.data.dealDetails)\r\n          );\r\n          setDeal(response.data.dealDetails);\r\n        }\r\n      } else if (dealName === \"featured\") {\r\n        const response = await getFeaturedDealById(dealId);\r\n\r\n        if (response?.status) {\r\n          console.log(response.data);\r\n          sessionStorage.setItem(\r\n            cacheKey,\r\n            JSON.stringify(response.data.dealDetails)\r\n          );\r\n          setDeal(response.data.dealDetails);\r\n        }\r\n      } else if (dealName === \"dealOfTheDay\") {\r\n        const response = await getDealOfTheDayById(dealId);\r\n\r\n        if (response?.status) {\r\n          console.log(response.data);\r\n          sessionStorage.setItem(\r\n            cacheKey,\r\n            JSON.stringify(response.data.dealDetails)\r\n          );\r\n          setDeal(response.data.dealDetails);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      setError(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [dealId, dealName]);\r\n\r\n  useEffect(() => {\r\n    fetchAllDeals();\r\n  }, [fetchAllDeals]);\r\n\r\n  useEffect(() => {\r\n    fetchDeal();\r\n  }, [fetchDeal]);\r\n\r\n  return {\r\n    deals,\r\n    deal,\r\n    loading,\r\n    error,\r\n    refresh: fetchAllDeals,\r\n  };\r\n};\r\n\r\nexport default useDeal;\r\n","import { useMemo } from \"react\";\r\nimport Pagination from \"../../components/Pagination\";\r\nimport ProductBox from \"../../components/ProductBox\";\r\nimport { useSearchParamsState } from \"../../hooks/useSearchParamsState\";\r\n\r\nconst DealProducts = ({ products = [], title }) => {\r\n  const [page, setPage] = useSearchParamsState(\"page\", 1);\r\n  const limit = 20;\r\n\r\n  const currentProducts = useMemo(() => {\r\n    const firstPageIndex = (page - 1) * limit;\r\n    const lastPageIndex = firstPageIndex + limit;\r\n    return products.slice(firstPageIndex, lastPageIndex);\r\n  }, [page, products, limit]);\r\n\r\n  return (\r\n    <div className=\"container max-w-full space-y-8 max-lg:space-y-4\">\r\n      <h1 className=\"text-2xl max-lg:text-xl font-bold\">{title}</h1>\r\n\r\n      <section className=\"w-full\">\r\n        {products.length === 0 ? (\r\n          <p className=\"text-center font-secondary font-medium text-xl\">\r\n            No Products Found\r\n          </p>\r\n        ) : (\r\n          <ul className=\"grid grid-cols-2 lg:gap-8 sm:gap-4 gap-1 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5\">\r\n            {currentProducts.map((productItem, index) => (\r\n              <li key={index} className=\"flex justify-center items-center\">\r\n                <ProductBox product={productItem} />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n\r\n        <div className=\"PAGINATION\">\r\n          <Pagination\r\n            currentPage={parseInt(page, 10)}\r\n            totalCount={products.length}\r\n            pageSize={limit}\r\n            onPageChange={(page) => setPage(page.toString())}\r\n          />\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DealProducts;\r\n","import { useParams } from \"react-router-dom\";\r\nimport HeroBanner from \"../../components/HeroBanner\";\r\nimport DealProducts from \"./DealProducts\";\r\nimport useDeal from \"../../hooks/useDeal\";\r\nimport Loader from \"../../components/Loader\";\r\n\r\nconst Deal = ({ dealName = \"flash\" }) => {\r\n  const { dealId } = useParams();\r\n  const { deal, loading, error } = useDeal(dealName, dealId);\r\n\r\n  if (loading || (!error && !deal)) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"w-max mx-auto p-8 bg-red-300 my-8 rounded-lg border-2 border-error\">\r\n        <h2 className=\"text-center text-error font-medium text-xl\">\r\n          Deal has expired\r\n        </h2>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className=\"py-8 space-y-8\">\r\n      <HeroBanner\r\n        position=\"Top\"\r\n        resourceType={dealName === \"flash\" ? \"Flash Deal\" : \"Featured Deal\"}\r\n        valueId={dealId}\r\n      />\r\n      <DealProducts products={deal?.products} title={deal?.title} />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Deal;\r\n"],"names":["dealName","arguments","length","undefined","dealId","deals","setDeals","useState","deal","setDeal","loading","setLoading","error","setError","fetchAllDeals","useCallback","async","cacheKey","cachedData","sessionStorage","getItem","JSON","parse","response","getAllFlashDeal","status","console","log","data","setItem","stringify","flashDealDetails","getAllFeaturedDeal","featuredDealsDetails","getAllDealOfTheDay","dealOfTheDayDetails","message","fetchDeal","getFlashDealById","dealDetails","getFeaturedDealById","getDealOfTheDayById","useEffect","refresh","_ref","products","title","page","setPage","useSearchParamsState","currentProducts","useMemo","firstPageIndex","lastPageIndex","slice","_jsxs","className","children","_jsx","map","productItem","index","ProductBox","product","Pagination","currentPage","parseInt","totalCount","pageSize","onPageChange","toString","useParams","useDeal","Loader","HeroBanner","position","resourceType","valueId","DealProducts"],"sourceRoot":""}