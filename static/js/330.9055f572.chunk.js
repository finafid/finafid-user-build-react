"use strict";(self.webpackChunkfinafid_frontend=self.webpackChunkfinafid_frontend||[]).push([[330],{5609:(e,t,a)=>{a.d(t,{A:()=>d});var s=a(5200),n=a(5043);const r="...",l=(e,t)=>{let a=t-e+1;return Array.from({length:a},((t,a)=>a+e))};var i=a(579);const d=e=>{let{onPageChange:t,totalCount:a,siblingCount:d=1,currentPage:o,pageSize:c}=e;const u=(e=>{let{totalCount:t,limit:a,siblingCount:s=1,currentPage:i}=e;return(0,n.useMemo)((()=>{const e=Math.ceil(t/a);if(s+5>=e)return l(1,e);const n=Math.max(i-s,1),d=Math.min(i+s,e),o=n>2,c=d<e-2,u=e;if(!o&&c)return[...l(1,3+2*s),r,e];if(o&&!c){let t=l(e-(3+2*s)+1,e);return[1,r,...t]}if(o&&c){let e=l(n,d);return[1,r,...e,r,u]}}),[t,a,s,i])})({currentPage:o,totalCount:a,siblingCount:d,limit:c}),x=u[u.length-1];if(0===o||u.length<2)return null;return(0,i.jsx)("div",{className:"my-8",children:(0,i.jsxs)("ul",{className:"relative flex gap-4 max-md:gap-3 w-max mx-auto",children:[u.map(((e,a)=>(0,i.jsxs)(n.Fragment,{children:[e===r&&(0,i.jsx)("li",{className:"relative h-max top-1",children:r}),e!==r&&(0,i.jsx)("li",{className:`size-10 max-lg:size-8 max-md:size-6 border border-black max-lg:text-sm max-md:text-xs flex justify-center items-center cursor-pointer transition-colors duration-200 ease-in-out ${e===o?"bg-primeRed text-white":"bg-white"} ${e!==o&&"hover:bg-mainGray"}`,onClick:()=>t(e),children:e})]},a))),(0,i.jsx)("button",{className:`absolute -left-10 top-1/2 -translate-y-1/2 ${o<=1&&"text-primary"}`,onClick:()=>{o<=1||t(o-1)},children:(0,i.jsx)(s.irw,{size:28})}),(0,i.jsx)("button",{className:`absolute -right-10 top-1/2 -translate-y-1/2 ${o>=x&&"text-primary"}`,onClick:()=>{o>=x||t(o+1)},children:(0,i.jsx)(s.fOo,{size:28})})]})})}},1276:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(423),n=a(579);const r=e=>{let{rating:t,maxRating:a=5,size:r=16}=e;return(0,n.jsx)("div",{className:"flex",children:(()=>{const e=[],l=Math.ceil(t),i=Math.floor(t)!==Math.ceil(t);for(let d=1;d<=a;d++)d<=t?e.push((0,n.jsx)("span",{className:"text-yellow-500 text-lg",children:(0,n.jsx)(s.KQV,{size:r})},d)):d===l&&i?e.push((0,n.jsx)("span",{className:"text-yellow-500 text-lg",children:(0,n.jsx)(s.f5A,{size:r})},d)):e.push((0,n.jsx)("span",{className:"text-gray-300 text-lg",children:(0,n.jsx)(s.aJd,{size:r})},d));return e})()})}},8723:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(5043),n=a(423),r=a(1276),l=a(579);const i=e=>{switch(!0){case e>=4:return"bg-green-500";case e>=3:return"bg-green-400";case e>=2:return"bg-yellow-400";case e>=1:return"bg-orange-400";default:return"bg-gray-200"}},d=e=>{switch(e){case 5:return"bg-green-500";case 4:return"bg-green-400";case 3:return"bg-yellow-400";case 2:return"bg-orange-400";case 1:return"bg-red-500";default:return"bg-gray-200"}},o=e=>{let{rating:t,totalRatings:a,ratingsBreakdown:s}=e;return(0,l.jsxs)("div",{className:"w-64 p-4 bg-white border rounded shadow-lg",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-4xl font-bold",children:t.toFixed(1)}),(0,l.jsxs)("div",{className:"text-secondary",children:[a," Ratings"]}),(0,l.jsx)("div",{className:"mt-2 flex justify-center",children:(0,l.jsx)(r.A,{rating:t,size:24})})]}),s&&(0,l.jsx)("div",{className:"mt-4 space-y-1",children:Object.entries(s).sort(((e,t)=>{let[a]=e,[s]=t;return s-a})).map((e=>{let[t,s]=e;return(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{className:"text-secondary",children:t}),(0,l.jsx)(n.KQV,{size:18,className:"text-secondary mr-2"}),(0,l.jsx)("div",{className:"flex-1 h-2 bg-lightGray rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:`h-full ${d(Number(t))}`,style:{width:s/a*100+"%"}})}),(0,l.jsxs)("span",{className:"ml-2 text-secondary",children:["(",s,")"]})]},t)}))})]})},c=e=>{let{rating:t,totalRatings:a,ratingsBreakdown:r,dropdown:d=!1}=e;const[c,u]=(0,s.useState)(!1);return(0,l.jsxs)("div",{className:"relative inline-block",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(0,l.jsxs)("div",{className:`flex items-center justify-center gap-[2px] px-[5px] py-[2px] rounded text-white ${i(t)}`,children:[(0,l.jsx)("span",{className:"text-xs font-medium pt-[2px] leading-none",children:t.toFixed(1)}),(0,l.jsx)(n.KQV,{size:12})]}),d&&c&&(0,l.jsx)("div",{className:"absolute z-10 mt-2",children:(0,l.jsx)(o,{rating:t,totalRatings:a,ratingsBreakdown:r})})]})}},9330:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var s=a(5043),n=a(3216),r=a(5475),l=a(5860),i=a(5938),d=a(5200),o=a(9804),c=a(3907),u=a(8723),x=a(4604),m=a(3512),g=a(579);const v=e=>{var t,a,s,v,p,h,y;let{product:j,dropdown:f=!1}=e;const{addToCart:N}=(0,l._)(),{removeFromWishlist:w}=(0,i.n)(),b=(0,n.Zp)(),{data:A,isLoading:I}=(0,x.Je)(j.productGroup._id),C=(0,m.A)("(min-width: 1024px)");return(0,g.jsxs)("div",{className:"w-60 max-lg:w-40 h-105 max-lg:h-80 flex flex-col border border-secondary rounded-md overflow-hidden hover:shadow-md",children:[(0,g.jsxs)("div",{onClick:()=>b(`/product/${j._id}`),className:"ITEM-IMAGES relative w-full h-60 max-lg:h-40 cursor-pointer",children:[(0,g.jsx)("div",{className:"size-60 max-lg:size-40",children:(0,g.jsx)("img",{src:null===j||void 0===j?void 0:j.images[0],alt:null===j||void 0===j||null===(t=j.productGroup)||void 0===t?void 0:t.name,className:"size-full object-contain object-center"})}),(0,g.jsx)("div",{className:"absolute bottom-2 left-2 z-[5]",children:!I&&(null===A||void 0===A?void 0:A.averageRating)>0&&(0,g.jsx)(u.A,{rating:A.averageRating,totalRatings:A.totalCount,ratingsBreakdown:A.ratingCounts,dropdown:f})})]}),(0,g.jsxs)("div",{className:"ITEM-DETAILS p-2 lg:space-y-1 font-secondary flex-grow",children:[(null===j||void 0===j||null===(a=j.productGroup)||void 0===a?void 0:a.brand)&&(0,g.jsx)(r.N_,{to:`/brand/${null===j||void 0===j||null===(s=j.productGroup)||void 0===s||null===(v=s.brand)||void 0===v?void 0:v._id}`,className:"BRAND font-medium text-xs max-lg:text-xxs text-secondary leading-none",children:(0,g.jsx)("p",{children:null===j||void 0===j||null===(p=j.productGroup)||void 0===p||null===(h=p.brand)||void 0===h?void 0:h.name})}),(0,g.jsx)("p",{className:"NAME text-sm max-lg:text-xs font-medium line-clamp-2 leading-none",children:(null===j||void 0===j||null===(y=j.productGroup)||void 0===y?void 0:y.name)+" "+j.sku}),(0,g.jsxs)("div",{className:"PRICING flex items-center lg:gap-2 gap-1 whitespace-nowrap",children:[(0,g.jsxs)("p",{className:"text-xs max-lg:text-xxs font-medium text-primary line-through leading-none",children:["\u20b9 ",Math.round(null===j||void 0===j?void 0:j.unitPrice)]}),(0,g.jsxs)("p",{className:"font-bold text-lg max-lg:text-sm leading-none",children:["\u20b9 ",Math.round(null===j||void 0===j?void 0:j.sellingPrice)]}),(0,g.jsx)("p",{className:"text-sm max-lg:text-xxs font-medium text-blue-600 leading-none",children:"percent"===(null===j||void 0===j?void 0:j.discountType)?`${j.discount}%`:`\u20b9${j.discount} OFF`})]}),(0,g.jsxs)("div",{className:"UTSAV-PRICING flex items-center lg:gap-2 gap-1 whitespace-nowrap text-success",children:[(0,g.jsx)("p",{className:"font-medium leading-none max-lg:text-xs",children:"Utsav Price"}),(0,g.jsxs)("p",{className:"text-lg max-lg:text-sm font-bold leading-none",children:["\u20b9 ",Math.round(j.utsavPrice)]})]})]}),(0,g.jsxs)("div",{className:"BTN-SECTION flex justify-center gap-4 p-2 pt-0",children:[(0,g.jsx)(c.A,{reverse:!0,onClick:()=>N(j),className:"px-4 max-lg:p-2 rounded-md",children:(0,g.jsxs)("div",{className:"flex justify-center gap-2",children:[C&&(0,g.jsx)("p",{className:"text-sm",children:"Add to Bag"}),(0,g.jsx)(o.al$,{size:22})]})}),(0,g.jsx)(c.A,{reverse:!0,onClick:()=>w(j._id),className:"lg:px-3 px-2 h-10 rounded-md",children:(0,g.jsx)(d.IXo,{size:22})})]})]})};var p=a(5609);const h=()=>{const{wishlistItems:e}=(0,i.n)(),[t,a]=(0,s.useState)(1),n=(0,s.useMemo)((()=>{const a=10*(t-1),s=a+10;return e.slice(a,s)}),[t,e]);return(0,g.jsxs)("main",{className:"container max-w-full py-8 max-lg:py-4 space-y-4",children:[(0,g.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,g.jsx)("h1",{className:"font-semibold text-2xl text-center",children:"Wishlist"}),(0,g.jsxs)("p",{className:"font-semibold text-2xl text-primeRed",children:["(",e.length,")"]})]}),(0,g.jsxs)("section",{children:[0===n.length?(0,g.jsx)("h1",{className:"text-2xl text-center font-secondary font-medium",children:"Wishlist is Empty"}):(0,g.jsx)("div",{className:"flex flex-wrap items-center gap-4 max-lg:gap-2",children:e.map((e=>(0,g.jsx)(v,{product:e},e._id)))}),(0,g.jsx)("div",{className:"PAGINATION",children:(0,g.jsx)(p.A,{currentPage:t,totalCount:e.length,pageSize:10,onPageChange:e=>a(e)})})]})]})}},4604:(e,t,a)=>{a.d(t,{pH:()=>b,zM:()=>v,UO:()=>g,eL:()=>p,Km:()=>y,TE:()=>x,Je:()=>w,jw:()=>j,v1:()=>N,tA:()=>h,bp:()=>f,m$:()=>m});var s=a(3747),n=a(9723),r=a(3248),l=a(7097),i=a(5026);const d=async()=>{var e;return null===(e=(await i.A.get("/getAllUtsavProduct")).data)||void 0===e?void 0:e.productDetails},o=async()=>{var e;return null===(e=(await i.A.get("/getAllFeaturedProduct")).data)||void 0===e?void 0:e.variantDetails},c=async()=>{var e;return null===(e=(await i.A.get("/getAllNewArrivals")).data)||void 0===e?void 0:e.productDetails},u=async()=>(await i.A.get("/getAllTopSellingProduct")).data,x=e=>(0,s.I)({queryKey:["productGroup",e],queryFn:()=>(async e=>(await i.A.get(`/getProductById/${e}`)).data)(e),staleTime:3e5,enabled:!!e}),m=e=>(0,s.I)({queryKey:["variants",e],queryFn:()=>(async e=>(await i.A.get("/getAllVariantsOnUser",{params:e})).data)(e),staleTime:3e5,placeholderData:n.rX}),g=()=>(0,s.I)({queryKey:["variants","utsav"],queryFn:d,staleTime:3e5}),v=()=>(0,s.I)({queryKey:["variants","featured"],queryFn:o,staleTime:3e5}),p=e=>(0,s.I)({queryKey:["variants","featured",e],queryFn:()=>(async e=>{var t;return null===(t=(await i.A.get(`/getFeaturedProductBasedOnCategory/${e}`)).data)||void 0===t?void 0:t.productList})(e),staleTime:3e5,enabled:!!e}),h=()=>(0,s.I)({queryKey:["products","top selling"],queryFn:u,staleTime:3e5}),y=()=>(0,s.I)({queryKey:["variants","new arrivals"],queryFn:c,staleTime:3e5}),j=e=>(0,s.I)({queryKey:["recommendations",e],queryFn:()=>(async e=>{var t;return null===(t=(await i.A.get(`/suggestionProductList/${e}`)).data)||void 0===t?void 0:t.suggestionProductList})(e),staleTime:3e5,enabled:!!e}),f=e=>(0,s.I)({queryKey:["variant",e],queryFn:()=>(async e=>{var t;return null===(t=(await i.A.get(`/getVariantById/${e}`)).data)||void 0===t?void 0:t.variantDetails})(e),staleTime:3e5,enabled:!!e}),N=e=>(0,s.I)({queryKey:["reviews",e],queryFn:()=>(async e=>(await i.A.get(`/GetAllReviews/${e}`)).data)(e),staleTime:3e5,enabled:!!e}),w=e=>(0,s.I)({queryKey:["rating",e],queryFn:()=>(async e=>(await i.A.get(`/getAvgRating/${e}`)).data)(e),staleTime:3e5,enabled:!!e}),b=e=>{const t=(0,r.jE)();return(0,l.n)({mutationFn:e=>{let{reviewData:t,productId:a}=e;return(async(e,t)=>(await i.A.post(`/createReview/${t}`,e,{headers:{"Content-Type":"multipart/form-data"}})).data)(t,a)},onSuccess:()=>{t.invalidateQueries(["reviews",e])}})}}}]);
//# sourceMappingURL=330.9055f572.chunk.js.map