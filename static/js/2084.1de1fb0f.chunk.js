"use strict";(self.webpackChunkfinafid_frontend=self.webpackChunkfinafid_frontend||[]).push([[2084],{921:(e,a,s)=>{s.d(a,{As:()=>c,u:()=>d,vr:()=>o});var l=s(6072),t=s(6938),r=s(6040),n=s(5394),i=s(579);const c=e=>{let{children:a,className:s="w-full rounded-sm overflow-hidden bg-white border border-secondary mb-4"}=e;return(0,i.jsx)("div",{className:s,children:a})},d=e=>{let{children:a,className:s="ACCORDION-HEADER w-full relative p-4 cursor-pointer select-none text-sm font-medium bg-white"}=e;const{isActive:t,index:r,onChangeIndex:c}=(0,l.O)();return(0,i.jsxs)("div",{onClick:()=>c(r),className:`${s}`,children:[a,(0,i.jsx)("div",{className:"ACCORDION-ARROW absolute right-4 top-1/2 -translate-y-1/2",children:(0,i.jsx)(n._kA,{className:`${t&&"rotate-180"} text-secondary transition-transform duration-200 ease-in-out`})})]})},o=e=>{let{children:a,className:s="w-full p-4"}=e;const{isActive:n}=(0,l.O)();return(0,i.jsx)(t.N,{initial:!1,children:n&&(0,i.jsx)(r.P.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},transition:{type:"spring",duration:.4,bounce:0},children:(0,i.jsx)("div",{className:s,children:a})})})}},2896:(e,a,s)=>{s.d(a,{A:()=>t});var l=s(579);const t=e=>{let{onChange:a,name:s,label:t,value:r="",checked:n=!1,disabled:i=!1,align:c="right",required:d=!1,className:o,labelClassName:u="capitalize text-sm font-medium",containerClassName:p}=e;const m="string"===typeof t?t.replace(" ","-").toLowerCase():"";return(0,l.jsxs)("div",{className:"relative flex gap-2 items-start",children:[t&&"left"===c&&(0,l.jsx)("label",{htmlFor:m,className:u,children:t}),(0,l.jsxs)("div",{className:"grid place-items-center mt-[2px]",children:[(0,l.jsx)("input",{id:m,type:"checkbox",name:s,value:r,checked:n,disabled:i,onChange:a,required:d,className:"peer col-start-1 row-start-1 appearance-none shrink-0 size-4 border border-black  disabled:border-primary hover:cursor-pointer"}),(0,l.jsx)("span",{className:"pointer-events-none col-start-1 row-start-1 size-2 peer-checked:bg-primeRed peer-checked:peer-disabled:bg-mainGray"})]}),t&&"right"===c&&(0,l.jsx)("label",{htmlFor:m,className:u,children:t})]})}},2808:(e,a,s)=>{s.d(a,{A:()=>t});var l=s(579);const t=e=>{let{value:a="",onChange:s,name:t,label:r,checked:n=!1,disabled:i=!1,align:c="right",required:d=!1,className:o,labelClassName:u="capitalize text-sm font-medium",containerClassName:p}=e;const m=null===r||void 0===r?void 0:r.replace(" ","-").toLowerCase();return(0,l.jsxs)("div",{className:`relative flex gap-2 items-start ${p}`,children:[r&&"left"===c&&(0,l.jsx)("label",{htmlFor:m,className:u,children:r}),(0,l.jsxs)("div",{className:`grid place-items-center mt-[2px] ${o}`,children:[(0,l.jsx)("input",{id:m,type:"radio",name:t,value:a,checked:n,disabled:i,onChange:s,required:d,className:"peer col-start-1 row-start-1 appearance-none shrink-0 size-4 border border-black rounded-full disabled:border-primary disabled:cursor-not-allowed hover:cursor-pointer"}),(0,l.jsx)("span",{className:"pointer-events-none col-start-1 row-start-1 size-2 rounded-full peer-checked:bg-primeRed peer-checked:peer-disabled:bg-mainGray"})]}),r&&"right"===c&&(0,l.jsx)("label",{htmlFor:m,className:u,children:r})]})}},6072:(e,a,s)=>{s.d(a,{I:()=>n,O:()=>i});var l=s(5043),t=s(579);const r=(0,l.createContext)({});function n(e){let{children:a,multiple:s=!1,defaultIndex:n=null,defaultOpen:i=!1}=e;const c=(0,l.useMemo)((()=>i?new Set([...Array(l.Children.count(a)).keys()]):s?new Set(null!==n?[n]:[]):null!==n?new Set([n]):new Set),[a,i,n,s]),[d,o]=(0,l.useState)(c),u=e=>{o((a=>{const l=new Set(a);return s?l.has(e)?l.delete(e):l.add(e):l.has(e)?l.delete(e):(l.clear(),l.add(e)),l}))};return a.map(((e,a)=>(0,t.jsx)(r.Provider,{value:{isActive:d.has(a),index:a,onChangeIndex:u},children:e},a)))}function i(){return(0,l.useContext)(r)}},6255:(e,a,s)=>{s.d(a,{A:()=>t});var l=s(5043);const t=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const[s,t]=(0,l.useState)(e);return(0,l.useEffect)((()=>{const s=setTimeout((()=>{t(e)}),a);return()=>{clearTimeout(s)}}),[e,a]),s}},2084:(e,a,s)=>{s.r(a),s.d(a,{default:()=>D});var l=s(321),t=s(3512),r=s(5475),n=s(921),i=s(2896),c=s(2808),d=s(6072),o=s(3661),u=s(3907),p=s(423),m=s(579);const h=()=>{const[e,a]=(0,r.ok)(),[s,l]=(0,o.D)("sortBy","popularity",!0),[t,h]=(0,o.D)("price","",!0),[x,v]=(0,o.D)("discount","",!0),[g,b]=(0,o.D)("rating","",!0),[,j]=(0,o.D)("page","1"),y=e=>{l(e.target.value)},N=e=>{const a=e.target.value,s=t?t.split(","):[],l=s.includes(a)?s.filter((e=>e!==a)):[...s,a];h(l.length>0?l.join(","):""),j("1")},f=e=>{const a=e.target.value,s=x?x.split(","):[],l=s.includes(a)?s.filter((e=>e!==a)):[...s,a];v(l.length>0?l.join(","):""),j("1")},C=e=>{const a=e.target.value,s=g?g.split(","):[],l=s.includes(a)?s.filter((e=>e!==a)):[...s,a];b(l.length>0?l.join(","):""),j("1")};return(0,m.jsxs)("div",{className:"w-70 flex-shrink-0",children:[(0,m.jsxs)(d.I,{multiple:!0,defaultOpen:!0,children:[(0,m.jsxs)(n.As,{children:[(0,m.jsx)(n.u,{children:(0,m.jsxs)("h4",{className:"capitalize",children:["Sort By : ",s]})}),(0,m.jsx)(n.vr,{children:(0,m.jsxs)("form",{className:"space-y-1",children:[(0,m.jsx)(c.A,{label:"popularity",name:"sortBy",value:"popularity",checked:"popularity"===s,onChange:y,labelClassName:"capitalize text-sm"}),(0,m.jsx)(c.A,{label:"discount",name:"sortBy",value:"discount",checked:"discount"===s,onChange:y,labelClassName:"capitalize text-sm"}),(0,m.jsx)(c.A,{label:"new arrivals",name:"sortBy",value:"new arrivals",checked:"new arrivals"===s,onChange:y,labelClassName:"capitalize text-sm"}),(0,m.jsx)(c.A,{label:"price : low to high",name:"sortBy",value:"price asc",checked:"price asc"===s,onChange:y,labelClassName:"capitalize text-sm"}),(0,m.jsx)(c.A,{label:"price : high to low",name:"sortBy",value:"price desc",checked:"price desc"===s,onChange:y,labelClassName:"capitalize text-sm"})]})})]}),(0,m.jsxs)(n.As,{children:[(0,m.jsx)(n.u,{children:"Price"}),(0,m.jsx)(n.vr,{children:(0,m.jsx)("form",{className:"space-y-1",children:[{label:"Rs 500 and Below",value:"0-500"},{label:"Rs 500 - Rs 1000",value:"500-1000"},{label:"Rs 1000 - Rs 2000",value:"1000-2000"},{label:"Rs 2000 - Rs 5000",value:"2000-5000"},{label:"Rs 5000 - Rs 10000",value:"5000-10000"},{label:"Rs 10000 - Rs 20000",value:"10000-20000"},{label:"Rs 20000 - Rs 30000",value:"20000-30000"},{label:"Rs 30000 and Above",value:"30000-All"}].map((e=>(0,m.jsx)(i.A,{label:e.label,name:"price",value:e.value,checked:t.split(",").includes(e.value),onChange:N,labelClassName:"text-sm"},e.value)))})})]}),(0,m.jsxs)(n.As,{children:[(0,m.jsx)(n.u,{children:"Discount"}),(0,m.jsx)(n.vr,{children:(0,m.jsx)("form",{className:"space-y-1",children:["10","20","30","40","50","60","70"].map((e=>(0,m.jsx)(i.A,{label:`Upto ${e}%`,name:"discount",value:e,checked:null===x||void 0===x?void 0:x.split(",").includes(e),onChange:f,labelClassName:"text-sm"},e)))})})]}),(0,m.jsxs)(n.As,{children:[(0,m.jsx)(n.u,{children:"Customer Ratings"}),(0,m.jsx)(n.vr,{children:(0,m.jsx)("form",{className:"space-y-1",children:["4","3","2"].map((e=>(0,m.jsx)(i.A,{label:(0,m.jsxs)("p",{className:"flex items-center gap-1",children:[e," ",(0,m.jsx)(p.KQV,{size:18})," & above"]}),name:"rating",value:e,checked:null===g||void 0===g?void 0:g.split(",").includes(e),onChange:C,labelClassName:"text-sm"},e)))})})]})]}),("popularity"!==s||""!==t||""!==x||""!==g)&&(0,m.jsx)(u.A,{type:"button",className:"px-4 py-2 bg-blue-500 rounded hover:bg-blue-600",onClick:()=>{const s=e.get("page")||"1",l=e.get("productTypeId")||"",t=e.get("subCategoryId")||"",r=e.get("categoryId")||"",n=e.get("brandId")||"";a({page:s,sortBy:"popularity",productTypeId:l,subCategoryId:t,categoryId:r,brandId:n},{replace:!0})},children:"Clear Filters"})]})};var x=s(5043),v=s(1562),g=s(184),b=s(5394);const j=e=>{let{title:a,icon:s,onClick:l}=e;return(0,m.jsxs)("button",{type:"button",className:"flex items-center justify-center gap-2 border border-primary rounded-full px-2 py-1",onClick:l,children:[(0,m.jsx)("p",{className:"text-sm",children:a}),(0,m.jsx)("span",{className:"text-sm",children:s})]})},y=()=>{const{closeSidebar:e}=(0,v.c)(),[a,s]=(0,o.D)("sortBy","popularity",!0),l=e=>{s(e.target.value)};return(0,m.jsxs)("div",{className:"bg-white h-svh",children:[(0,m.jsxs)("div",{className:"HEADING px-4 py-2 border-b border-primary flex items-center gap-2",children:[(0,m.jsx)(g._Jj,{onClick:e}),(0,m.jsx)("p",{children:"Sort By"})]}),(0,m.jsx)("div",{className:"p-4",children:(0,m.jsxs)("form",{className:"space-y-2",children:[(0,m.jsx)(c.A,{label:"popularity",name:"sortBy",value:"popularity",checked:"popularity"===a,onChange:l,labelClassName:"text-sm capitalize"}),(0,m.jsx)(c.A,{label:"discount",name:"sortBy",value:"discount",checked:"discount"===a,onChange:l,labelClassName:"text-sm capitalize"}),(0,m.jsx)(c.A,{label:"new arrivals",name:"sortBy",value:"new arrivals",checked:"new arrivals"===a,onChange:l,labelClassName:"text-sm capitalize"}),(0,m.jsx)(c.A,{label:"price : low to high",name:"sortBy",value:"price asc",checked:"price asc"===a,onChange:l,labelClassName:"text-sm capitalize"}),(0,m.jsx)(c.A,{label:"price : high to low",name:"sortBy",value:"price desc",checked:"price desc"===a,onChange:l,labelClassName:"text-sm capitalize"})]})})]})},N=()=>{const{closeSidebar:e}=(0,v.c)(),[a,s]=(0,x.useState)("Price"),[l,t]=(0,r.ok)(),[n,c]=(0,o.D)("price","",!0),[d,h]=(0,o.D)("discount","",!0),[b,j]=(0,o.D)("rating","",!0),[,y]=(0,o.D)("page","1"),N=[{label:"Rs 500 and Below",value:"0-500"},{label:"Rs 500 - Rs 1000",value:"500-1000"},{label:"Rs 1000 - Rs 2000",value:"1000-2000"},{label:"Rs 2000 - Rs 5000",value:"2000-5000"},{label:"Rs 5000 - Rs 10000",value:"5000-10000"},{label:"Rs 10000 - Rs 20000",value:"10000-20000"},{label:"Rs 20000 - Rs 30000",value:"20000-30000"},{label:"Rs 30000 and Above",value:"30000-All"}],f=e=>{const a=e.target.value,s=n?n.split(","):[],l=s.includes(a)?s.filter((e=>e!==a)):[...s,a];c(l.length>0?l.join(","):""),y("1")},C=e=>{const a=e.target.value,s=d?d.split(","):[],l=s.includes(a)?s.filter((e=>e!==a)):[...s,a];h(l.length>0?l.join(","):""),y("1")},w=e=>{const a=e.target.value,s=b?b.split(","):[],l=s.includes(a)?s.filter((e=>e!==a)):[...s,a];j(l.length>0?l.join(","):""),y("1")};return(0,m.jsxs)("div",{className:"bg-white h-svh relative",children:[(0,m.jsxs)("div",{className:"HEADING px-4 py-2 border-b border-primary flex items-center gap-2",children:[(0,m.jsx)(g._Jj,{onClick:e}),(0,m.jsx)("p",{children:"Filters"})]}),(0,m.jsxs)("div",{className:"BODY h-full flex",children:[(0,m.jsx)("div",{className:"LEFT w-2/5 h-full bg-lightGray",children:(0,m.jsx)("ul",{children:["Price","Discount","Customer Ratings"].map((e=>(0,m.jsx)("li",{onClick:()=>s(e),className:`px-4 py-2 cursor-pointer ${a===e&&"bg-white text-blue-400"}`,children:(0,m.jsx)("p",{className:"text-sm whitespace-nowrap",children:e})},e)))})}),(0,m.jsx)("div",{className:"RIGHT w-3/5 h-full",children:(()=>{switch(a){case"Price":return(0,m.jsx)("div",{className:"p-4",children:(0,m.jsx)("form",{className:"space-y-2",children:N.map((e=>(0,m.jsx)(i.A,{label:e.label,name:"price",value:e.value,checked:n.split(",").includes(e.value),onChange:f,labelClassName:"text-sm"},e.value)))})});case"Discount":return(0,m.jsx)("div",{className:"p-4",children:(0,m.jsx)("form",{className:"space-y-2",children:["10","20","30","40","50","60","70"].map((e=>(0,m.jsx)(i.A,{label:`Upto ${e}%`,name:"discount",value:e,checked:null===d||void 0===d?void 0:d.split(",").includes(e),onChange:C,labelClassName:"text-sm"},e)))})});case"Customer Ratings":return(0,m.jsx)("div",{className:"p-4",children:(0,m.jsx)("form",{className:"space-y-2",children:["4","3","2"].map((e=>(0,m.jsx)(i.A,{label:(0,m.jsxs)("p",{className:"flex items-center gap-1",children:[e," ",(0,m.jsx)(p.KQV,{size:18})," & above"]}),name:"rating",value:e,checked:null===b||void 0===b?void 0:b.split(",").includes(e),onChange:w,labelClassName:"text-sm"},e)))})});default:return null}})()})]}),(0,m.jsx)("div",{className:"absolute bottom-0 right-0 left-0 bg-white flex justify-between p-2",children:(0,m.jsx)(u.A,{type:"button",className:"px-4 py-2 bg-blue-500 rounded hover:bg-blue-600",onClick:()=>{const e=l.get("page")||"1",a=l.get("productTypeId")||"",s=l.get("subCategoryId")||"",r=l.get("categoryId")||"",n=l.get("brandId")||"";t({page:e,sortBy:"popularity",productTypeId:a,subCategoryId:s,categoryId:r,brandId:n},{replace:!0})},disabled:!(""!==n||""!==d||""!==b),children:"Clear Filters"})})]})},f=()=>{const{openSidebar:e}=(0,v.c)();return(0,m.jsxs)("div",{className:"w-full flex items-center gap-4",children:[(0,m.jsx)(j,{title:"Sort By",icon:(0,m.jsx)(b._kA,{}),onClick:()=>e((0,m.jsx)(y,{}))}),(0,m.jsx)(j,{title:"Filter",icon:(0,m.jsx)(b.n6t,{}),onClick:()=>e((0,m.jsx)(N,{}))})]})};var C=s(5609),w=s(2919),A=s(1719),k=s(6255),I=s(2406);const R=()=>{var e,a;const[s]=(0,r.ok)(),[l,t]=(0,o.D)("page",1),n=s.get("sortBy"),i=(0,k.A)(s.get("price")),c=s.get("discount"),d=s.get("rating"),u=s.get("categoryId"),p=s.get("subCategoryId"),h=s.get("productTypeId"),x=s.get("brandId"),{data:v,isLoading:g,error:b}=(0,A.m$)({page:l,limit:40,sortBy:n,price:i,discount:c,rating:d,subCategoryId:p,mainCategoryId:u,productTypeId:h,brandId:x});return g||!b&&!v?(0,m.jsx)(I.A,{}):b?(0,m.jsx)("div",{className:"w-full",children:(0,m.jsx)("h2",{className:"text-center font-secondary font-medium text-xl mt-8",children:b.message})}):(0,m.jsxs)("section",{className:"w-full",children:[0===(null===v||void 0===v||null===(e=v.variants)||void 0===e?void 0:e.length)?(0,m.jsx)("p",{className:"text-center font-secondary font-medium text-xl",children:"No Products Found"}):(0,m.jsx)("div",{className:"flex flex-wrap justify-center gap-8 max-2xl:gap-6 max-xl:gap-4 max-sm:gap-2",children:null===v||void 0===v||null===(a=v.variants)||void 0===a?void 0:a.map(((e,a)=>(0,m.jsx)(w.A,{product:e},a)))}),(0,m.jsx)("div",{className:"PAGINATION",children:(0,m.jsx)(C.A,{currentPage:parseInt(l,10),totalCount:null===v||void 0===v?void 0:v.totalItems,pageSize:40,onPageChange:e=>t(e.toString())})})]})},D=()=>{const e=(0,t.A)("(min-width: 1024px)");return(0,m.jsx)("main",{children:(0,m.jsxs)("div",{className:"container max-w-full my-8 space-y-8",children:[(0,m.jsx)(l.A,{position:"Top",resourceType:"Product"}),(0,m.jsxs)("div",{className:"PRODUCT-VIEW w-full flex max-lg:flex-col justify-between lg:gap-16 gap-4",children:[e?(0,m.jsx)(h,{}):(0,m.jsx)(f,{}),(0,m.jsx)(R,{})]})]})})}},1719:(e,a,s)=>{s.d(a,{bp:()=>i,eL:()=>d,jw:()=>c,m$:()=>n,tA:()=>o});var l=s(9011),t=s(9723),r=s(3961);const n=e=>(0,l.I)({queryKey:["variants",e],queryFn:()=>(0,r.SM)(e),staleTime:3e5,placeholderData:t.rX}),i=e=>(0,l.I)({queryKey:["variant",e],queryFn:()=>(0,r.IX)(e),staleTime:3e5,enabled:!!e}),c=e=>(0,l.I)({queryKey:["recommendations",e],queryFn:()=>(0,r.qu)(e),staleTime:3e5,placeholderData:[],enabled:!!e}),d=e=>(0,l.I)({queryKey:["variants","featured",e],queryFn:()=>(0,r.Xw)(e)}),o=()=>(0,l.I)({queryKey:["products","top selling"],queryFn:()=>(0,r.f2)()})}}]);
//# sourceMappingURL=2084.1de1fb0f.chunk.js.map