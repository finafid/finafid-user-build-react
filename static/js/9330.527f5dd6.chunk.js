"use strict";(self.webpackChunkfinafid_frontend=self.webpackChunkfinafid_frontend||[]).push([[9330],{3907:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(579);const n=e=>{let{children:t,type:s="submit",className:n="px-4 py-2 rounded-md",onClick:r,disabled:i=!1,reverse:l=!1}=e;return l?(0,a.jsx)("button",{type:s,onClick:r,disabled:i,className:`block capitalize bg-white text-primeRed text-sm hover:bg-lightGray border border-primeRed transition-colors duration-200 ease-in-out disabled:bg-mainGray disabled:cursor-not-allowed ${n}`,children:t}):(0,a.jsx)("button",{type:s,onClick:r,disabled:i,className:`block capitalize bg-primeRed text-white text-sm hover:bg-hotPink transition-colors duration-200 ease-in-out disabled:bg-mainGray disabled:cursor-not-allowed ${n}`,children:t})}},5609:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(5200),n=s(5043);const r="...",i=(e,t)=>{let s=t-e+1;return Array.from({length:s},((t,s)=>s+e))};var l=s(579);const o=e=>{let{onPageChange:t,totalCount:s,siblingCount:o=1,currentPage:d,pageSize:c}=e;const u=(e=>{let{totalCount:t,limit:s,siblingCount:a=1,currentPage:l}=e;return(0,n.useMemo)((()=>{const e=Math.ceil(t/s);if(a+5>=e)return i(1,e);const n=Math.max(l-a,1),o=Math.min(l+a,e),d=n>2,c=o<e-2,u=e;if(!d&&c)return[...i(1,3+2*a),r,e];if(d&&!c){let t=i(e-(3+2*a)+1,e);return[1,r,...t]}if(d&&c){let e=i(n,o);return[1,r,...e,r,u]}}),[t,s,a,l])})({currentPage:d,totalCount:s,siblingCount:o,limit:c}),m=u[u.length-1];if(0===d||u.length<2)return null;return(0,l.jsx)("div",{className:"my-8",children:(0,l.jsxs)("ul",{className:"relative flex gap-4 max-md:gap-3 w-max mx-auto",children:[u.map(((e,s)=>(0,l.jsxs)(n.Fragment,{children:[e===r&&(0,l.jsx)("li",{className:"relative h-max top-1",children:r}),e!==r&&(0,l.jsx)("li",{className:`size-10 max-lg:size-8 max-md:size-6 border border-black max-lg:text-sm max-md:text-xs flex justify-center items-center cursor-pointer transition-colors duration-200 ease-in-out ${e===d?"bg-primeRed text-white":"bg-white"} ${e!==d&&"hover:bg-mainGray"}`,onClick:()=>t(e),children:e})]},s))),(0,l.jsx)("button",{className:`absolute -left-10 top-1/2 -translate-y-1/2 ${d<=1&&"text-primary"}`,onClick:()=>{d<=1||t(d-1)},children:(0,l.jsx)(a.irw,{size:28})}),(0,l.jsx)("button",{className:`absolute -right-10 top-1/2 -translate-y-1/2 ${d>=m&&"text-primary"}`,onClick:()=>{d>=m||t(d+1)},children:(0,l.jsx)(a.fOo,{size:28})})]})})}},1276:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(423),n=s(579);const r=e=>{let{rating:t,maxRating:s=5,size:r=16}=e;return(0,n.jsx)("div",{className:"flex",children:(()=>{const e=[],i=Math.ceil(t),l=Math.floor(t)!==Math.ceil(t);for(let o=1;o<=s;o++)o<=t?e.push((0,n.jsx)("span",{className:"text-yellow-500 text-lg",children:(0,n.jsx)(a.KQV,{size:r})},o)):o===i&&l?e.push((0,n.jsx)("span",{className:"text-yellow-500 text-lg",children:(0,n.jsx)(a.f5A,{size:r})},o)):e.push((0,n.jsx)("span",{className:"text-gray-300 text-lg",children:(0,n.jsx)(a.aJd,{size:r})},o));return e})()})}},8723:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(5043),n=s(423),r=s(1276),i=s(579);const l=e=>{switch(!0){case e>=4:return"bg-green-500";case e>=3:return"bg-green-400";case e>=2:return"bg-yellow-400";case e>=1:return"bg-orange-400";default:return"bg-gray-200"}},o=e=>{switch(e){case 5:return"bg-green-500";case 4:return"bg-green-400";case 3:return"bg-yellow-400";case 2:return"bg-orange-400";case 1:return"bg-red-500";default:return"bg-gray-200"}},d=e=>{let{rating:t,totalRatings:s,ratingsBreakdown:a}=e;return(0,i.jsxs)("div",{className:"w-64 p-4 bg-white border rounded shadow-lg",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-4xl font-bold",children:t.toFixed(1)}),(0,i.jsxs)("div",{className:"text-secondary",children:[s," Ratings"]}),(0,i.jsx)("div",{className:"mt-2 flex justify-center",children:(0,i.jsx)(r.A,{rating:t,size:24})})]}),a&&(0,i.jsx)("div",{className:"mt-4 space-y-1",children:Object.entries(a).sort(((e,t)=>{let[s]=e,[a]=t;return a-s})).map((e=>{let[t,a]=e;return(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)("span",{className:"text-secondary",children:t}),(0,i.jsx)(n.KQV,{size:18,className:"text-secondary mr-2"}),(0,i.jsx)("div",{className:"flex-1 h-2 bg-lightGray rounded-full overflow-hidden",children:(0,i.jsx)("div",{className:`h-full ${o(Number(t))}`,style:{width:a/s*100+"%"}})}),(0,i.jsxs)("span",{className:"ml-2 text-secondary",children:["(",a,")"]})]},t)}))})]})},c=e=>{let{rating:t,totalRatings:s,ratingsBreakdown:r,dropdown:o=!1}=e;const[c,u]=(0,a.useState)(!1);return(0,i.jsxs)("div",{className:"relative inline-block",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(0,i.jsxs)("div",{className:`flex items-center justify-center gap-[2px] px-[5px] py-[2px] rounded text-white ${l(t)}`,children:[(0,i.jsx)("span",{className:"text-xs font-medium pt-[2px] leading-none",children:t.toFixed(1)}),(0,i.jsx)(n.KQV,{size:12})]}),o&&c&&(0,i.jsx)("div",{className:"absolute z-10 mt-2",children:(0,i.jsx)(d,{rating:t,totalRatings:s,ratingsBreakdown:r})})]})}},9330:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(5043),n=s(3216),r=s(5475),i=s(5860),l=s(5938),o=s(5200),d=s(9804),c=s(3907),u=s(8723),m=s(4604),x=s(3512),h=s(579);const g=e=>{var t,s,a,g,p,v,y;let{product:b,dropdown:j=!1}=e;const{addToCart:f}=(0,i._)(),{removeFromWishlist:N}=(0,l.n)(),w=(0,n.Zp)(),{data:A,isLoading:C}=(0,m.Je)(b.productGroup._id),M=(0,x.A)("(min-width: 1024px)");return(0,h.jsxs)("div",{className:"w-60 max-lg:w-40 h-105 max-lg:h-80 flex flex-col border border-secondary rounded-md overflow-hidden hover:shadow-md",children:[(0,h.jsxs)("div",{onClick:()=>w(`/product/${b._id}`),className:"ITEM-IMAGES relative w-full h-60 max-lg:h-40 cursor-pointer",children:[(0,h.jsx)("div",{className:"size-60 max-lg:size-40",children:(0,h.jsx)("img",{src:null===b||void 0===b?void 0:b.images[0],alt:null===b||void 0===b||null===(t=b.productGroup)||void 0===t?void 0:t.name,className:"size-full object-contain object-center"})}),(0,h.jsx)("div",{className:"absolute bottom-2 left-2 z-[5]",children:!C&&(null===A||void 0===A?void 0:A.averageRating)>0&&(0,h.jsx)(u.A,{rating:A.averageRating,totalRatings:A.totalCount,ratingsBreakdown:A.ratingCounts,dropdown:j})})]}),(0,h.jsxs)("div",{className:"ITEM-DETAILS p-2 lg:space-y-1 font-secondary flex-grow",children:[(null===b||void 0===b||null===(s=b.productGroup)||void 0===s?void 0:s.brand)&&(0,h.jsx)(r.N_,{to:`/brand/${null===b||void 0===b||null===(a=b.productGroup)||void 0===a||null===(g=a.brand)||void 0===g?void 0:g._id}`,className:"BRAND font-medium text-xs max-lg:text-xxs text-secondary leading-none",children:(0,h.jsx)("p",{children:null===b||void 0===b||null===(p=b.productGroup)||void 0===p||null===(v=p.brand)||void 0===v?void 0:v.name})}),(0,h.jsx)("p",{className:"NAME text-sm max-lg:text-xs font-medium line-clamp-2 leading-none",children:(null===b||void 0===b||null===(y=b.productGroup)||void 0===y?void 0:y.name)+" "+b.sku}),(0,h.jsxs)("div",{className:"PRICING flex items-center lg:gap-2 gap-1 whitespace-nowrap",children:[(0,h.jsxs)("p",{className:"text-xs max-lg:text-xxs font-medium text-primary line-through leading-none",children:["\u20b9 ",Math.round(null===b||void 0===b?void 0:b.unitPrice)]}),(0,h.jsxs)("p",{className:"font-bold text-lg max-lg:text-sm leading-none",children:["\u20b9 ",Math.round(null===b||void 0===b?void 0:b.sellingPrice)]}),(0,h.jsx)("p",{className:"text-sm max-lg:text-xxs font-medium text-blue-600 leading-none",children:"percent"===(null===b||void 0===b?void 0:b.discountType)?`${b.discount}%`:`\u20b9${b.discount} OFF`})]}),(0,h.jsxs)("div",{className:"UTSAV-PRICING flex items-center lg:gap-2 gap-1 whitespace-nowrap text-success",children:[(0,h.jsx)("p",{className:"font-medium leading-none max-lg:text-xs",children:"Utsav Price"}),(0,h.jsxs)("p",{className:"text-lg max-lg:text-sm font-bold leading-none",children:["\u20b9 ",Math.round(b.utsavPrice)]})]})]}),(0,h.jsxs)("div",{className:"BTN-SECTION flex justify-center gap-4 p-2 pt-0",children:[(0,h.jsx)(c.A,{reverse:!0,onClick:()=>f(b),className:"px-4 max-lg:p-2 rounded-md",children:(0,h.jsxs)("div",{className:"flex justify-center gap-2",children:[M&&(0,h.jsx)("p",{className:"text-sm",children:"Add to Bag"}),(0,h.jsx)(d.al$,{size:22})]})}),(0,h.jsx)(c.A,{reverse:!0,onClick:()=>N(b._id),className:"lg:px-3 px-2 h-10 rounded-md",children:(0,h.jsx)(o.IXo,{size:22})})]})]})};var p=s(5609);const v=()=>{const{wishlistItems:e}=(0,l.n)(),[t,s]=(0,a.useState)(1),n=(0,a.useMemo)((()=>{const s=10*(t-1),a=s+10;return e.slice(s,a)}),[t,e]);return(0,h.jsxs)("main",{className:"container max-w-full py-8 max-lg:py-4 space-y-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,h.jsx)("h1",{className:"font-semibold text-2xl text-center",children:"Wishlist"}),(0,h.jsxs)("p",{className:"font-semibold text-2xl text-primeRed",children:["(",e.length,")"]})]}),(0,h.jsxs)("section",{children:[0===n.length?(0,h.jsx)("h1",{className:"text-2xl text-center font-secondary font-medium",children:"Wishlist is Empty"}):(0,h.jsx)("div",{className:"flex flex-wrap items-center gap-4 max-lg:gap-2",children:e.map((e=>(0,h.jsx)(g,{product:e},e._id)))}),(0,h.jsx)("div",{className:"PAGINATION",children:(0,h.jsx)(p.A,{currentPage:t,totalCount:e.length,pageSize:10,onPageChange:e=>s(e)})})]})]})}},4604:(e,t,s)=>{s.d(t,{pH:()=>w,zM:()=>g,UO:()=>h,eL:()=>p,Km:()=>y,TE:()=>m,Je:()=>N,jw:()=>b,v1:()=>f,tA:()=>v,bp:()=>j,m$:()=>x});var a=s(3747),n=s(9723),r=s(3248),i=s(7097),l=s(5026);const o=async()=>{var e;return null===(e=(await l.A.get("/getAllUtsavProduct")).data)||void 0===e?void 0:e.productDetails},d=async()=>{var e;return null===(e=(await l.A.get("/getAllFeaturedProduct")).data)||void 0===e?void 0:e.variantDetails},c=async()=>{var e;return null===(e=(await l.A.get("/getAllNewArrivals")).data)||void 0===e?void 0:e.productDetails},u=async()=>(await l.A.get("/getAllTopSellingProduct")).data,m=e=>(0,a.I)({queryKey:["productGroup",e],queryFn:()=>(async e=>(await l.A.get(`/getProductById/${e}`)).data)(e),staleTime:3e5,enabled:!!e}),x=e=>(0,a.I)({queryKey:["variants",e],queryFn:()=>(async e=>(await l.A.get("/getAllVariantsOnUser",{params:e})).data)(e),staleTime:3e5,placeholderData:n.rX}),h=()=>(0,a.I)({queryKey:["variants","utsav"],queryFn:o,staleTime:3e5}),g=()=>(0,a.I)({queryKey:["variants","featured"],queryFn:d,staleTime:3e5}),p=e=>(0,a.I)({queryKey:["variants","featured",e],queryFn:()=>(async e=>{var t;return null===(t=(await l.A.get(`/getFeaturedProductBasedOnCategory/${e}`)).data)||void 0===t?void 0:t.productList})(e),staleTime:3e5,enabled:!!e}),v=()=>(0,a.I)({queryKey:["products","top selling"],queryFn:u,staleTime:3e5}),y=()=>(0,a.I)({queryKey:["variants","new arrivals"],queryFn:c,staleTime:3e5}),b=e=>(0,a.I)({queryKey:["recommendations",e],queryFn:()=>(async e=>{var t;return null===(t=(await l.A.get(`/suggestionProductList/${e}`)).data)||void 0===t?void 0:t.suggestionProductList})(e),staleTime:3e5,enabled:!!e}),j=e=>(0,a.I)({queryKey:["variant",e],queryFn:()=>(async e=>{var t;return null===(t=(await l.A.get(`/getVariantById/${e}`)).data)||void 0===t?void 0:t.variantDetails})(e),staleTime:3e5,enabled:!!e}),f=e=>(0,a.I)({queryKey:["reviews",e],queryFn:()=>(async e=>(await l.A.get(`/GetAllReviews/${e}`)).data)(e),staleTime:3e5,enabled:!!e}),N=e=>(0,a.I)({queryKey:["rating",e],queryFn:()=>(async e=>(await l.A.get(`/getAvgRating/${e}`)).data)(e),staleTime:3e5,enabled:!!e}),w=e=>{const t=(0,r.jE)();return(0,i.n)({mutationFn:e=>{let{reviewData:t,productId:s}=e;return(async(e,t)=>(await l.A.post(`/createReview/${t}`,e,{headers:{"Content-Type":"multipart/form-data"}})).data)(t,s)},onSuccess:()=>{t.invalidateQueries(["reviews",e])}})}},7097:(e,t,s)=>{s.d(t,{n:()=>u});var a=s(5043),n=s(5239),r=s(1454),i=s(329),l=s(9723),o=class extends i.Q{#e;#t=void 0;#s;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,l.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,l.EN)(t.mutationKey)!==(0,l.EN)(this.options.mutationKey)?this.reset():"pending"===this.#s?.state.status&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#r(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#r()}mutate(e,t){return this.#a=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#n(){const e=this.#s?.state??(0,n.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#r(e){r.j.batch((()=>{if(this.#a&&this.hasListeners()){const t=this.#t.variables,s=this.#t.context;"success"===e?.type?(this.#a.onSuccess?.(e.data,t,s),this.#a.onSettled?.(e.data,null,t,s)):"error"===e?.type&&(this.#a.onError?.(e.error,t,s),this.#a.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach((e=>{e(this.#t)}))}))}},d=s(3248),c=s(3247);function u(e,t){const s=(0,d.jE)(t),[n]=a.useState((()=>new o(s,e)));a.useEffect((()=>{n.setOptions(e)}),[n,e]);const i=a.useSyncExternalStore(a.useCallback((e=>n.subscribe(r.j.batchCalls(e))),[n]),(()=>n.getCurrentResult()),(()=>n.getCurrentResult())),l=a.useCallback(((e,t)=>{n.mutate(e,t).catch(c.l)}),[n]);if(i.error&&(0,c.G)(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}}}]);
//# sourceMappingURL=9330.527f5dd6.chunk.js.map